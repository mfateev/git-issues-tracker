{
  "assignees": [],
  "author": {
    "id": "MDQ6VXNlcjUzMjEwOA==",
    "is_bot": false,
    "login": "Spikhalskiy",
    "name": "Dmitry Spikhalsky"
  },
  "body": "## Actual Behavior\r\n\r\n```\r\nfun signalWorkflow(workflowId: String, signalName: String, vararg args: Any) {\r\n        try {\r\n            Workflow.newUntypedExternalWorkflowStub(workflowId).signal(signalName, args)\r\n        } catch (ex: ApplicationFailure) {\r\n            if (ex.type == \"SIGNAL_EXTERNAL_WORKFLOW_EXECUTION_FAILED_CAUSE_EXTERNAL_WORKFLOW_EXECUTION_NOT_FOUND\") {\r\n                logger.info {\r\n                    it.message(\"Workflow not found while attempting to send signal to it.\")\r\n                        .value(\"workflowId\", workflowId).value(\"signal\", signalName)\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nThe code above shouldn't work and `ApplicationFailure` is an incorrect exception to be thrown here.\r\n\r\n\r\n## Additional context\r\n\r\nThere is already an exception for this situation: `SignalExternalWorkflowException` that is currently not created anywhere.\r\n\r\nThere is also a todo to implement exactly this that never was done: https://github.com/temporalio/sdk-java/blob/37a0e463fae2312882b5c946f423a0dbf85f9666/temporal-sdk/src/main/java/io/temporal/internal/statemachines/SignalExternalStateMachine.java#L152\r\n\r\nAnother alternative exception to consider here may be `WorkflowNotFoundException`",
  "closedAt": null,
  "comments": [
    {
      "id": "IC_kwDODN12PM5f_va0",
      "author": {
        "login": "pragnareddye"
      },
      "authorAssociation": "NONE",
      "body": "@Spikhalskiy @Quinn-With-Two-Ns This would be a backwards incompatible change for users who have implemented their code by catching ApplicationFailure type right?",
      "createdAt": "2023-06-28T02:21:53Z",
      "includesCreatedEdit": true,
      "isMinimized": false,
      "minimizedReason": "",
      "reactionGroups": [],
      "url": "https://github.com/temporalio/sdk-java/issues/1374#issuecomment-1610544820",
      "viewerDidAuthor": false
    }
  ],
  "createdAt": "2022-08-18T01:34:21Z",
  "labels": [
    {
      "id": "MDU6TGFiZWwxNjIyNzE5ODQx",
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    }
  ],
  "milestone": {
    "number": 12,
    "title": "Next",
    "description": "",
    "dueOn": null
  },
  "number": 1374,
  "reactionGroups": [],
  "state": "OPEN",
  "title": "External workflow signal from a workflow code throws incorrect exceptions",
  "updatedAt": "2023-06-28T02:22:32Z",
  "url": "https://github.com/temporalio/sdk-java/issues/1374"
}
