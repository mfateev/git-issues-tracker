{"assignees":[],"author":{"id":"U_kgDOCeuzXQ","is_bot":false,"login":"drewhoskins-temporal","name":"Drew Hoskins"},"body":"We can recommend the await-all-handlers or drop-all-handlers methods. TBD whether error or warning.\r\n","closedAt":"2024-07-02T12:49:00Z","comments":[{"id":"IC_kwDOInL6Hs6C8FNQ","author":{"login":"dandavison"},"authorAssociation":"MEMBER","body":"I've merged the first PR, for Python: https://github.com/temporalio/sdk-python/pull/556\r\n\r\nThe basic spec that that PR's proposing for other SDKs is\r\n\r\n- Workflow code can wait on a method named similarly to `workflow.all_handlers_finished()`\r\n\r\n- By default, the worker will emit `workflow.UnfinishedUpdateHandlersWarning` and `workflow.UnfinishedSignalHandlersWarning` if any handlers of those types are unfinished when the workflow completes (cancellation, failure, success). See PR for wording of message.\r\n\r\n- These warnings are controlled by a policy whose default value is `workflow.HandlerUnfinishedPolicy.WARN_AND_ABANDON`\r\n\r\n- Users can silence the warning on a per-handler basis by setting unfinished_policy to `workflow.HandlerUnfinishedPolicy.ABANDON`\r\n\r\n- Tests should verify the above for worker-side workflow exit via cancellation, failure, and success","createdAt":"2024-06-28T12:21:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/261#issuecomment-2196788048","viewerDidAuthor":false}],"createdAt":"2024-06-04T04:21:57Z","labels":[],"milestone":null,"number":261,"reactionGroups":[],"state":"CLOSED","title":"Warn or error when update handlers dangle across CAN or workflow exit","updatedAt":"2024-07-02T12:49:00Z","url":"https://github.com/temporalio/sdk-dotnet/issues/261"}
