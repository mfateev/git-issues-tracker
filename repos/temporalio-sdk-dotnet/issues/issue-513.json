{"assignees":[],"author":{"id":"MDQ6VXNlcjg5MTUxNDE=","is_bot":false,"login":"rangp","name":"Peter Rang"},"body":"I have a deployment scenario, where I want to expose my self hosted temporal server to the internet via an istio gateway. I have set up an authorizer and hence do not require mTLS for authentication. Instead I want to use normal TLS for the connection to the gateway, terminate there and continue with plain TCP from the gateway to the temporal server. I.e. the following scenario\n\n`client <--[HTTPS]--> istio gateway <--[HTTP]---> temporal-frontend`\n\n\n\nI tested this set-up with curl and can establish a TLS connection to the temporal server but when trying to use the dotnet sdk, I get the following error:\n\n`'Connection failed: Server connection error: tonic::transport::Error(Transport, ConnectError(Custom { kind: InvalidData, error: InvalidCertificate(UnknownIssuer) }))'`\n\nI assumed the I can activate TLS without mTLS by using \n\n`config.Tls = new TlsOptions();`\n\nbut the error message seems to indicate that mTLS is still expected. Is there a way to support my scenario in your SDK?","closedAt":"2025-09-02T14:55:23Z","comments":[{"id":"IC_kwDOInL6Hs7A8TLJ","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> but the error message seems to indicate that mTLS is still expected\n\nThe error message is not indicating that. It is saying that your server certificate is signed by an unknown/untrusted CA. I assume the TLS certificate for your gateway is not using a globally trusted CA, so you need to set `TlsOptions.ServerRootCACert` to the CA certificate you signed your gateway TLS certificate with.","createdAt":"2025-08-29T13:24:04Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/513#issuecomment-3237032649","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs7BdX3H","author":{"login":"rangp"},"authorAssociation":"NONE","body":"Thank you, that indeed solved the issue indeed. Not sure why the CA is not globally trusted. I used DigiCert and all browsers I tested trust this CA. But downloading the root certficate and setting it as `ServerRootCACert` worked.","createdAt":"2025-09-02T14:55:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/513#issuecomment-3245702599","viewerDidAuthor":false}],"createdAt":"2025-08-29T08:10:03Z","labels":[],"milestone":null,"number":513,"reactionGroups":[],"state":"CLOSED","title":"TLS support without mTLS","updatedAt":"2025-09-02T15:11:23Z","url":"https://github.com/temporalio/sdk-dotnet/issues/513"}
