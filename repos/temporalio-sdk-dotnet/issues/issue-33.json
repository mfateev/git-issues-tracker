{"assignees":[],"author":{"id":"MDQ6VXNlcjE5ODkwMjI2","is_bot":false,"login":"charzhao","name":""},"body":"**I follow your build step as below:**\r\n\r\n> Prerequisites:\r\n> \r\n> [.NET](https://learn.microsoft.com/en-us/dotnet/core/install/)\r\n> [Rust](https://www.rust-lang.org/) (i.e. cargo on the PATH)\r\n> [Protobuf Compiler](https://protobuf.dev/) (i.e. protoc on the PATH)\r\n> This repository, cloned recursively\r\n\r\n**But I get below error, is there any thing i should do to let it pass?**\r\n\r\n> MSBuild version 17.5.0-preview-23061-01+040e2a90e for .NET\r\n>   正在确定要还原的项目…\r\n>   已还原 C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj (用时 601 ms)。\r\n>   已还原 C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\tests\\Temporalio.Tests\\Temporalio.Tests.csproj (用时 1.54 sec)。\r\n> EXEC : error : failed to get `temporal-client` as a dependency of package `temporal-sdk-bridge v0.1.0 (C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Tempora\r\n> lio\\Bridge)` [C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj]\r\n> \r\n>   Caused by:\r\n>     failed to load source for dependency `temporal-client`\r\n> \r\n>   Caused by:\r\n>     Unable to update C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Bridge\\sdk-core\\client\r\n> \r\n>   Caused by:\r\n>     failed to read `C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Bridge\\sdk-core\\client\\Cargo.toml`\r\n> \r\n>   Caused by:\r\n>     绯荤粺鎵句笉鍒版寚瀹氱殑璺緞銆?(os error 3)\r\n> C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj(46,5): error MSB3073: 命令“cargo build”已退出，代码为 101。\r\n> C:\\Users\\jzhao3\\.nuget\\packages\\microsoft.build.tasks.git\\1.1.1\\build\\Microsoft.Build.Tasks.Git.targets(25,5): warning : Could not find file 'C:\\Users\\jzhao3\\OneDrive\r\n> - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Bridge\\sdk-core\\.git'. 无法通过源链接获取源代码。 [C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj:\r\n> :TargetFramework=netcoreapp3.1]\r\n> C:\\Program Files\\dotnet\\sdk\\7.0.201\\Microsoft.Common.CurrentVersion.targets(5181,5): error MSB3030: 无法复制文件“C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Tem\r\n> poralio\\Bridge\\target\\debug\\temporal_sdk_bridge.dll”，原因是找不到该文件。 [C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj::TargetFramework\r\n> =netcoreapp3.1]\r\n> \r\n> 生成失败。\r\n> \r\n> C:\\Users\\jzhao3\\.nuget\\packages\\microsoft.build.tasks.git\\1.1.1\\build\\Microsoft.Build.Tasks.Git.targets(25,5): warning : Could not find file 'C:\\Users\\jzhao3\\OneDrive\r\n> - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Bridge\\sdk-core\\.git'. 无法通过源链接获取源代码。 [C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj:\r\n> :TargetFramework=netcoreapp3.1]\r\n> EXEC : error : failed to get `temporal-client` as a dependency of package `temporal-sdk-bridge v0.1.0 (C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Tempora\r\n> lio\\Bridge)` [C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj]\r\n> C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj(46,5): error MSB3073: 命令“cargo build”已退出，代码为 101。\r\n> C:\\Program Files\\dotnet\\sdk\\7.0.201\\Microsoft.Common.CurrentVersion.targets(5181,5): error MSB3030: 无法复制文件“C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Tem\r\n> poralio\\Bridge\\target\\debug\\temporal_sdk_bridge.dll”，原因是找不到该文件。 [C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj::TargetFramework\r\n> =netcoreapp3.1]\r\n>     1 个警告\r\n>     3 个错误\r\n> ","closedAt":"2023-03-11T15:05:00Z","comments":[{"id":"IC_kwDOInL6Hs5XHRat","author":{"login":"charzhao"},"authorAssociation":"NONE","body":"Now I copy core-sdk source under   \"sdk-dotnet\\src\\Temporalio\\Bridge\"  solve this issue, but i am not sure it is the best one.\r\n\r\n**another issue that prevent me to debug it as below  :**\r\n\r\n```\r\n1>EXEC : error : linker `link.exe` not found\r\n1>  |\r\n1>  = note: program not found\r\n1>\r\n1>note: the msvc targets depend on the msvc linker but `link.exe` was not found\r\n1>\r\n1>note: please ensure that Visual Studio 2017 or later, or Build Tools for Visual Studio were installed with the Visual C++ option.\r\n1>\r\n1>note: VS Code is a different product, and is not sufficient.\r\n1>\r\n1>EXEC : error : could not compile `indexmap` due to previous error\r\n1>EXEC : warning : build failed, waiting for other jobs to finish...\r\n1>EXEC : error : could not compile `lock_api` due to previous error\r\n1>EXEC : error : could not compile `log` due to previous error\r\n1>EXEC : error : could not compile `windows_x86_64_msvc` due to previous error\r\n1>EXEC : error : could not compile `futures-core` due to previous error\r\n1>EXEC : error : could not compile `quote` due to previous error\r\n1>EXEC : error : could not compile `parking_lot_core` due to previous error\r\n1>EXEC : error : could not compile `memchr` due to previous error\r\n1>EXEC : error : could not compile `syn` due to previous error\r\n1>EXEC : error : could not compile `proc-macro2` due to previous error\r\n1>EXEC : error : could not compile `winapi` due to previous error\r\n```\r\n**in my computer i have installed vs2019 and vs2022 , according my knowledge c++ build tools has ready for that,  do you have any suggestion about this one?**","createdAt":"2023-03-09T08:08:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/33#issuecomment-1461524141","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs5XJHsJ","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> Now I copy core-sdk source under \"sdk-dotnet\\src\\Temporalio\\Bridge\" solve this issue, but i am not sure it is the best one.\r\n\r\nYes, from your pasted instructions \"cloned recursively\".\r\n\r\n> in my computer i have installed vs2019 and vs2022 , according my knowledge c++ build tools has ready for that, do you have any suggestion about this one?\r\n\r\nI think this means C++ buildtools are not available. See https://stackoverflow.com/questions/55603111/unable-to-compile-rust-hello-world-on-windows-linker-link-exe-not-found. I will make sure to update the build instructions to say they are required.","createdAt":"2023-03-09T12:51:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/33#issuecomment-1462008585","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs5XNSL1","author":{"login":"charzhao"},"authorAssociation":"NONE","body":"Thanks for your comments, when i install C++ for desktop development those errors go, but i encounter the new issues.\r\n\r\n> Compiling temporal-sdk-core v0.1.0 (C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Bridge\\sdk-core\\core)\r\n> 1>error[E0599]: no method named `update_workflow` found for struct `RetryClient` in the current scope\r\n> 1>   --> src\\client.rs:329:53\r\n> 1>    |\r\n> 1>329 |         \"UpdateWorkflow\" => rpc_call!(client, call, update_workflow),\r\n> 1>    |                                                     ^^^^^^^^^^^^^^^ method not found in `RetryClient<ConfiguredClient<TemporalServiceClient<InterceptedService<temporal_client::metrics::GrpcMetricSvc, ServiceCallInterceptor>>>>`\r\n> 1>\r\n> 1>error[E0599]: no method named `update_workflow` found for struct `ConfiguredClient<TemporalServiceClient<InterceptedService<temporal_client::metrics::GrpcMetricSvc, ServiceCallInterceptor>>>` in the current scope\r\n> 1>   --> src\\client.rs:329:53\r\n> 1>    |\r\n> 1>329 |         \"UpdateWorkflow\" => rpc_call!(client, call, update_workflow),\r\n> 1>    |                                                     ^^^^^^^^^^^^^^^ method not found in `ConfiguredClient<TemporalServiceClient<InterceptedService<temporal_client::metrics::GrpcMetricSvc, ServiceCallInterceptor>>>`\r\n> 1>\r\n> 1>error[E0599]: `Option<temporal_sdk_core::telemetry::metrics::TemporalMeter<'_>>` is not an iterator\r\n> 1>   --> src\\client.rs:106:52\r\n> 1>    |\r\n> 1>106 |     let metric_meter = runtime.core.metric_meter().cloned();\r\n> 1>    |                                                    ^^^^^^ `Option<temporal_sdk_core::telemetry::metrics::TemporalMeter<'_>>` is not an iterator\r\n> 1>   --> /rustc/d5a82bbd26e1ad8b7401f6a718a9c57c96905483\\library\\core\\src\\option.rs:518:1\r\n> 1>    |\r\n> 1>    = note: doesn't satisfy `_: Iterator`\r\n> 1>    |\r\n> 1>    = note: the following trait bounds were not satisfied:\r\n> 1>            `Option<temporal_sdk_core::telemetry::metrics::TemporalMeter<'_>>: Iterator`\r\n> 1>            which is required by `&mut Option<temporal_sdk_core::telemetry::metrics::TemporalMeter<'_>>: Iterator`\r\n> 1>\r\n> 1>error[E0599]: no variant named `Default` found for enum `EphemeralExeVersion`\r\n> 1>   --> src\\testing.rs:239:73\r\n> 1>    |\r\n> 1>239 |                     \"default\" => ephemeral_server::EphemeralExeVersion::Default {\r\n> 1>    |                                                                         ^^^^^^^ variant not found in `EphemeralExeVersion`\r\n> 1>\r\n> 1>For more information about this error, try `rustc --explain E0599`.\r\n> 1>EXEC : error : could not compile `temporal-sdk-bridge` due to 4 previous errors\r\n> 1>C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\Temporalio.csproj(46,5): error MSB3073: 命令“cargo build”已退出，代码为 101。\r\n> 1>已完成生成项目“Temporalio.csproj”的操作 - 失败。\r\n> 2>------ 已启动生成: 项目: Temporalio.Tests, 配置: Debug Any CPU ------\r\n> 2>CSC : error CS0006: 未能找到元数据文件“C:\\Users\\jzhao3\\OneDrive - Tesla\\temporal\\sdk-dotnet\\src\\Temporalio\\bin\\Debug\\netcoreapp3.1\\Temporalio.dll”\r\n> 2>已完成生成项目“Temporalio.Tests.csproj”的操作 - 失败。\r\n> ========== 生成: 0 成功，2 失败，0 最新，0 已跳过 ==========\r\n> ========= 生成 开始于 9:34 AM，并花费了 02:33.626 分钟 ========= \r\n\r\nseems like i did not use the right version core-sdk? so here what is the right version, could your help on those information. ","createdAt":"2023-03-10T02:03:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/33#issuecomment-1463100149","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs5XP3Ng","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Did you clone recursively at the same version that's in here or did you try to clone a different sdk-core version.\r\n\r\nCan you attach a log of you running these three commands in a blank directory in order?\r\n\r\n```\r\ngit clone --recursive https://github.com/temporalio/sdk-dotnet.git\r\ncd sdk-dotnet\r\ndotnet build\r\n```","createdAt":"2023-03-10T13:04:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/33#issuecomment-1463776096","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs5XURDN","author":{"login":"charzhao"},"authorAssociation":"NONE","body":"Thanks, It worked now.","createdAt":"2023-03-11T15:04:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/33#issuecomment-1464930509","viewerDidAuthor":false}],"createdAt":"2023-03-09T07:22:28Z","labels":[],"milestone":null,"number":33,"reactionGroups":[],"state":"CLOSED","title":"How to debug sdk?","updatedAt":"2023-03-11T15:05:00Z","url":"https://github.com/temporalio/sdk-dotnet/issues/33"}
