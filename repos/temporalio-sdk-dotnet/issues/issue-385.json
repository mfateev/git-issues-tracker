{"assignees":[],"author":{"id":"MDQ6VXNlcjE4MDgxNjQw","is_bot":false,"login":"PejmanNik","name":"Pejman"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nWindows on ARM is becoming increasingly popular, and local machines with this CPU architecture are becoming more common. Not supporting such a major architecture could be a significant drawback for the library.\r\n\r\n### Describe the solution you'd like\r\n\r\nAdding support for win-arm64\r\n\r\n","closedAt":"2025-10-21T15:12:26Z","comments":[{"id":"IC_kwDOInL6Hs6ZYcmH","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"None of our core-based SDKs (TypeScript, Python, .NET, or Ruby) ship a prebuilt Windows ARM build. You should be able to manually build it, but unfortunately adding this by default to the NuGet package makes it bigger by several megs for everyone (I think it's ~8MB for each additional platform we support). We also don't prebuild for other arguably more popular OS/arch's too like Windows 32-bit (popular with many of our .NET users), and Linux MUSL (which is quite popular IIRC since Alpine is the common .NET container base). Ref https://github.com/temporalio/sdk-dotnet?tab=readme-ov-file#built-in-native-shared-library.\r\n\r\nIs it possible to build the package yourself for this architecture? We may be able to consider new NuGet packages who simply provide this DLL and nothing more, but so far we have encouraged all users not using OS/arch's we prebuild for to build the package themselves.","createdAt":"2025-01-06T15:16:13Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2573322631","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6ZZzBq","author":{"login":"PejmanNik"},"authorAssociation":"NONE","body":"Thank you. Yes, building the package locally is not an issue, but it makes it impossible to sell it as an enterprise solution when team members cannot easily run the project.\r\n\r\nIt seems this is more related to a NuGet limitation. What do you think about moving the download process to runtime? This should improve restore times, as it wouldn’t need to download the DLLs for all architectures ","createdAt":"2025-01-06T18:29:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2573676650","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6ZaHYy","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> What do you think about moving the download process to runtime?\r\n\r\nWe definitely would like to use the traditional package management process. Some users may not be ok with a library downloading DLLs and running them at runtime. If your users are ok with this, you can put the prebuilt DLL somewhere and download it to the right spot before loading the DLL.\r\n\r\nBut again, we may be able to put this in separate NuGet packages, but we have to have some discussions about effort to provide/maintain official packages for these OS/arch setups that we do not in any SDK today. It does require a good amount of CI efforts.","createdAt":"2025-01-06T19:21:38Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2573760050","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6ZaKiZ","author":{"login":"PejmanNik"},"authorAssociation":"NONE","body":"That makes sense. Thank you for your response!","createdAt":"2025-01-06T19:29:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2573772953","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6tmTkF","author":{"login":"oising"},"authorAssociation":"NONE","body":"It would be nice to leave instructions on how to build the missing bridge dll on Windows on ARM for those of us not accustomed to  building things outside of dotnet. The instructions on site leave a lot out and I find myself trying to fill in the gaps and it's not easy :/","createdAt":"2025-05-27T13:22:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2912499973","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6tmxne","author":{"login":"oising"},"authorAssociation":"NONE","body":"Okay, I so managed to build the bridge dll on WOA64 (surface laptop 7, arm64) and after adding the win-arm64 RID into my local nuget package cache, and specifically targeting ARM64 on the samples project, I tried to run one of the samples: \n\n![Image](https://github.com/user-attachments/assets/112bc354-ed21-45a7-84d8-70be0437ff59)\n\nYes, for some delightful reason, it's trying to allocate over 2TB of memory on my poor little 64GB laptop.\n\n@sergeybykov any pointers? :)","createdAt":"2025-05-27T13:58:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2912623070","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6tnLPk","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> It would be nice to leave instructions on how to build the missing bridge dll on Windows on ARM for those of us not accustomed to building things outside of dotnet. \n\nThis should just be `dotnet build` (or `dotnet build --configuration Release`) per https://github.com/temporalio/sdk-dotnet?tab=readme-ov-file#build if you have the prerequisites in place. But yes, configuring .NET itself unrelated to the SDK is a bit beyond the scope of our docs here. There are technically ways to cross compile, though usually you want to build on the arch you need because you want to run tests on that arch to confirm it works.\n\n> Yes, for some delightful reason, it's trying to allocate over 2TB of memory on my poor little 64GB laptop.\n\nSomething strange is happening here, though nothing obvious. May have to debug a bit more to see which line of code is causing this. Can you confirm SDK tests run properly in the Windows ARM environment?","createdAt":"2025-05-27T14:26:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2912728036","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6tnY1V","author":{"login":"oising"},"authorAssociation":"NONE","body":"> > It would be nice to leave instructions on how to build the missing bridge dll on Windows on ARM for those of us not accustomed to building things outside of dotnet.\n> \n> This should just be `dotnet build` (or `dotnet build --configuration Release`) per https://github.com/temporalio/sdk-dotnet?tab=readme-ov-file#build if you have the prerequisites in place. But yes, configuring .NET itself unrelated to the SDK is a bit beyond the scope of our docs here. There are technically ways to cross compile, though usually you want to build on the arch you need because you want to run tests on that arch to confirm it works.\n\nI managed to figure out the missing bits in between the high level requirements:\n\n- install rust compiler (msvc flavour)\n- install rustup/cargo\n- install LLVM for woa64/arm64 (for clang, demanded by rust)\n- install protoc for c# (not available for arm64, but woa64 prism is fine with the x64 version - unless there's a weird endian issue here, but my knowledge of protobuf is limited - but I can't imagine a cross plaform binary transport format has endian preferences)\n\nThis seemed to result in a seamless build in both Debug and Release modes, resulting in a 24MB dll (release) and roughly twice that for debug. I manually created the missing RID folder in my local nuget package cache (this avoids having to build a new nuget and add a custom package source.)\n\n> \n> > Yes, for some delightful reason, it's trying to allocate over 2TB of memory on my poor little 64GB laptop.\n> \n> Something strange is happening here, though nothing obvious. May have to debug a bit more to see which line of code is causing this. Can you confirm SDK tests run properly in the Windows ARM environment?\n\nThe tests (sdk-dotnet) are outright broken:\n\n```text\n❯ dotnet test\nRestore complete (1.3s)\n  Temporalio netstandard2.0 succeeded (27.2s) → src\\Temporalio\\bin\\Debug\\netstandard2.0\\Temporalio.dll\n  Temporalio net462 succeeded (27.9s) → src\\Temporalio\\bin\\Debug\\net462\\Temporalio.dll\n  Temporalio netcoreapp3.1 succeeded (30.3s) → src\\Temporalio\\bin\\Debug\\netcoreapp3.1\\Temporalio.dll\n  Temporalio.Extensions.Hosting netstandard2.0 succeeded (0.1s) → src\\Temporalio.Extensions.Hosting\\bin\\Debug\\netstandard2.0\\Temporalio.Extensions.Hosting.dll\n  Temporalio.Extensions.DiagnosticSource netstandard2.0 succeeded (0.2s) → src\\Temporalio.Extensions.DiagnosticSource\\bin\\Debug\\netstandard2.0\\Temporalio.Extensions.DiagnosticSource.dll\n  Temporalio.Extensions.OpenTelemetry netstandard2.0 succeeded (0.3s) → src\\Temporalio.Extensions.OpenTelemetry\\bin\\Debug\\netstandard2.0\\Temporalio.Extensions.OpenTelemetry.dll\n  Temporalio.Extensions.Hosting net462 succeeded (0.4s) → src\\Temporalio.Extensions.Hosting\\bin\\Debug\\net462\\Temporalio.Extensions.Hosting.dll\n  Temporalio.Extensions.DiagnosticSource net462 succeeded (0.5s) → src\\Temporalio.Extensions.DiagnosticSource\\bin\\Debug\\net462\\Temporalio.Extensions.DiagnosticSource.dll\n  Temporalio.Extensions.OpenTelemetry net462 succeeded (0.5s) → src\\Temporalio.Extensions.OpenTelemetry\\bin\\Debug\\net462\\Temporalio.Extensions.OpenTelemetry.dll\n  Temporalio.Extensions.Hosting net6.0 succeeded (0.1s) → src\\Temporalio.Extensions.Hosting\\bin\\Debug\\net6.0\\Temporalio.Extensions.Hosting.dll\n  Temporalio.Tests succeeded (0.1s) → tests\\Temporalio.Tests\\bin\\Debug\\net6.0\\Temporalio.Tests.dll\n[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.3+1b45f5407b (64-bit .NET 6.0.36)\n[xUnit.net 00:00:00.58]   Discovering: Temporalio.Tests\n[xUnit.net 00:00:00.67]   Discovered:  Temporalio.Tests\n[xUnit.net 00:00:00.67]   Starting:    Temporalio.Tests\n[xUnit.net 00:00:00.73]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_SlowWorkflowAutoSkip_ProperlySkips [SKIP]\n[xUnit.net 00:00:00.73]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:00.74]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_AutoTimeSkippingDisabled_RestoresAfterCall [SKIP]\n[xUnit.net 00:00:00.74]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:00.74]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_AutoTimeSkippingDisabled_SleepsFullTime [SKIP]\n[xUnit.net 00:00:00.74]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:00.81]     Temporalio.Tests.Client.TemporalCloudOperationsClientTests.ConnectAsync_SimpleCall_Succeeds [SKIP]\n[xUnit.net 00:00:00.81]       No cloud API key\nCLI 1.3.0 (Server 1.27.1, UI 2.36.0)\nServer:  localhost:57660\nMetrics: http://localhost:57662/metrics\n[xUnit.net 00:00:04.31]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_MissesHeartbeatTimeout_TimesOut [SKIP]\n[xUnit.net 00:00:04.31]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:04.31]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_SlowWorkflowManualSkip_ProperlySkips [SKIP]\n[xUnit.net 00:00:04.31]       Time-skipping test server only works on x86/x64 platforms\nCLI 1.3.1-persistence-fix.0 (Server 1.27.0, UI 2.36.0)\nServer:  localhost:57690\nMetrics: http://localhost:57691/metrics\n2025-05-27T14:37:01.476938Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyYy1kZDg2LTdlOWMtODIzOC00YjFhYTE3OGEwMTgSLXdvcmtmbG93LTQxNjlkYmQxLWY1ZmUtNDZkYy1hZTg5LWI0YmU3ZjIyOGRiNBokMDE5NzEyMmMtZGZlNy03NzljLWFmYTAtNjBkMzgwOWM2ZGUwIAUoATIBMUIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEK2AQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:37:01.476943Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyYy1kZDg2LTdlOWMtODIzOC00YjFhYTE3OGEwMTgSLXdvcmtmbG93LTQxNjlkYmQxLWY1ZmUtNDZkYy1hZTg5LWI0YmU3ZjIyOGRiNBokMDE5NzEyMmMtZGZlNy03NzljLWFmYTAtNjBkMzgwOWM2ZGUwIAYoATIBMkIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBELCAQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:37:01.476938Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyYy1kZDg2LTdlOWMtODIzOC00YjFhYTE3OGEwMTgSLXdvcmtmbG93LTQxNjlkYmQxLWY1ZmUtNDZkYy1hZTg5LWI0YmU3ZjIyOGRiNBokMDE5NzEyMmMtZGZlNy03NzljLWFmYTAtNjBkMzgwOWM2ZGUwIAkoATIBNUIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEK6AQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:37:01.480309Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyYy1kZDg2LTdlOWMtODIzOC00YjFhYTE3OGEwMTgSLXdvcmtmbG93LTQxNjlkYmQxLWY1ZmUtNDZkYy1hZTg5LWI0YmU3ZjIyOGRiNBokMDE5NzEyMmMtZGZlNy03NzljLWFmYTAtNjBkMzgwOWM2ZGUwIAgoATIBNEIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEKqAQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:37:01.480510Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyYy1kZDg2LTdlOWMtODIzOC00YjFhYTE3OGEwMTgSLXdvcmtmbG93LTQxNjlkYmQxLWY1ZmUtNDZkYy1hZTg5LWI0YmU3ZjIyOGRiNBokMDE5NzEyMmMtZGZlNy03NzljLWFmYTAtNjBkMzgwOWM2ZGUwIAcoATIBM0IRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEKuAQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:37:03.903617Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyYy1kZDg2LTdlOWMtODIzOC00YjFhYTE3OGEwMTgSLXdvcmtmbG93LTViZTU4OWQ2LTFjMDItNGQ4YS05YWVkLWZiZmZmZGQ0ZjQxNxokMDE5NzEyMmMtZTlmNy03YzliLTg0NmEtZTlkMzIyNmY5NmJmIAUoATIBMUIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEMyCQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\ntime=2025-05-27T10:37:08.885 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=1.0171ms args=[deployment-default-versioning-dfb212e9-2637-4cd0-8c79-1f26d1571a27]\ntime=2025-05-27T10:37:09.816 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=1.5169ms args=[deployment-default-versioning-e0125565-b7ac-4ed5-86a6-5432b79108be]\n2025-05-27T14:37:10.738962Z  WARN temporal_client::worker_registry: Ignoring registration for worker: SlotKey { namespace: \"default\", task_queue: \"tq-09c7ddf5-121b-49f3-be16-c8d7c328eab3\" }.\ntime=2025-05-27T10:37:10.749 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=1.5114ms args=[deployment-ramping-109d5834-7830-4cd6-8e34-dc0468182a24]\ntime=2025-05-27T10:37:14.282 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=1.0339ms args=[deployment-dynamic-010118bb-6343-467d-b920-20977e474e9f]\n2025-05-27T14:37:14.770547Z  WARN temporal_client::worker_registry: Ignoring registration for worker: SlotKey { namespace: \"default\", task_queue: \"tq-8f2c3b10-f53f-4345-918d-b81277b9ecf4\" }.\n2025-05-27T14:37:14.771059Z  WARN temporal_client::worker_registry: Ignoring registration for worker: SlotKey { namespace: \"default\", task_queue: \"tq-8f2c3b10-f53f-4345-918d-b81277b9ecf4\" }.\ntime=2025-05-27T10:37:14.775 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=534µs args=[deployment-d2ede803-a6b8-4e27-954b-b99f4472349b]\ntime=2025-05-27T10:37:17.455 level=ERROR msg=\"could not sync version summary to deployment workflow\" service=worker Namespace=default TaskQueue=temporal-sys-per-ns-tq WorkerID=temporal-system@IONARDLP012@default WorkflowType=temporal-sys-worker-deployment-version-workflow WorkflowID=temporal-sys-worker-deployment-version:deployment-d2ede803-a6b8-4e27-954b-b99f4472349b.1.0 RunID=0197122d-18e7-71c1-8c3f-7d73a1cff97e Attempt=0 wf-namespace=default error=<nil>\ntime=2025-05-27T10:37:18.522 level=ERROR msg=\"could not sync version summary to deployment workflow\" service=worker Namespace=default TaskQueue=temporal-sys-per-ns-tq WorkerID=temporal-system@IONARDLP012@default WorkflowType=temporal-sys-worker-deployment-version-workflow WorkflowID=temporal-sys-worker-deployment-version:deployment-d2ede803-a6b8-4e27-954b-b99f4472349b.2.0 RunID=0197122d-1c9d-73b6-b1ff-597b00f48237 Attempt=0 wf-namespace=default error=<nil>\ntime=2025-05-27T10:37:18.687 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=2.5269ms args=[deployment-dynamic-4d5ef527-bffb-4d25-846e-88e6ed73abbf]\n2025-05-27T14:37:24.465220Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:24.469951Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:24.479582Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:24.491334Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:24.509420Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:24.521079Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:24.959686Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-4045-72f3-88b1-23512b62634e failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:24.965878Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-4045-72f3-88b1-23512b62634e failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\ntime=2025-05-27T10:37:29.685 level=WARN msg=\"Per shard per namespace RPS warn limit exceeded\" service=history shard-id=1 wf-namespace=default rps=43\ntime=2025-05-27T10:37:29.694 level=WARN msg=\"Per shard RPS warn limit exceeded\" service=history shard-id=1 rps=67\n2025-05-27T14:37:31.146446Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-587a-7e63-92db-e31b1cc76962 failure=Failure { failure: Some(Failure { message: \"Update validator for DoUpdateValidatorCommands created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:31.152166Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-587a-7e63-92db-e31b1cc76962 failure=Failure { failure: Some(Failure { message: \"Update validator for DoUpdateValidatorCommands created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:32.022291Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-5bea-74ef-8413-b076630d689d failure=Failure { failure: Some(Failure { message: \"Workflow type not-found-workflow is not registered on this worker, available workflows: SimpleWorkflow\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowWorker.CreateInstance(WorkflowActivation act, DataConverter dataConverter) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 326\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_0.<HandleActivationAsync>b__2(String _) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 194\\r\\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\\r\\n   at Temporalio.Worker.WorkflowWorker.HandleActivationAsync(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 194\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"NotFoundError\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:32.408222Z  WARN temporal_sdk_core::worker::workflow: Failing legacy query request run_id=0197122d-5d33-7278-9fa4-1459c6cc8401 failure=Failure { failure: Some(Failure { message: \"Query handler for QueryMakingCommands created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:32.526516Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-5de2-7949-8dd2-0243b7f6e341 failure=Failure { failure: Some(Failure { message: \"Intentionally failing task\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateBadResultSerializationPayloadConverter.ToPayload(Object value) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4199\\r\\n   at Temporalio.Worker.WorkflowInstance.<>c__DisplayClass169_1.<ApplyDoUpdateAsync>b__2(Task`1 _) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1269\\r\\n--- End of stack trace from previous location ---\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:32.533375Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-5de2-7949-8dd2-0243b7f6e341 failure=Failure { failure: Some(Failure { message: \"Intentionally failing task\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateBadResultSerializationPayloadConverter.ToPayload(Object value) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4199\\r\\n   at Temporalio.Worker.WorkflowInstance.<>c__DisplayClass169_1.<ApplyDoUpdateAsync>b__2(Task`1 _) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1269\\r\\n--- End of stack trace from previous location ---\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:35.904565Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:36.934645Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:37:36.970525Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-6f41-7a6a-8b13-85858bca197d failure=Failure { failure: Some(Failure { message: \"Intentional error\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.WaitConditionExceptionWorkflow.<>c.<RunAsync>b__0_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4671\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 865\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:46.348622Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-93e0-77ad-b773-987f670cb4f4 failure=Failure { failure: Some(Failure { message: \"Workflow attempted to perform a thread transfer task which is non-deterministic. This can be caused by timers or other non-deterministic async calls.\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnFrameworkEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 197\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 157\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.FrameworkEventSource.WriteEvent(Int32 eventId, Int64 arg1, Int32 arg2, String arg3, Boolean arg4, Int32 arg5, Int32 arg6)\\r\\n   at System.Threading.TimerQueueTimer.Change(UInt32 dueTime, UInt32 period)\\r\\n   at System.Threading.Tasks.Task.DelayPromise..ctor(UInt32 millisecondsDelay)\\r\\n   at System.Threading.Tasks.Task.Delay(UInt32 millisecondsDelay, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Task.Delay(Int32 millisecondsDelay)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 211\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:46.686765Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-952e-7884-a093-4fb66941fb50 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.Task`1.StartNew(Task parent, Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, InternalTaskOptions internalOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.TaskFactory`1.StartNew(Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Task.Run[TResult](Func`1 function, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Task.Run[TResult](Func`1 function)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 214\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:47.011183Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-967c-71c4-ab61-43c9ba154ed1 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.Task`1.StartNew(Task parent, Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, InternalTaskOptions internalOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.TaskFactory.StartNew[TResult](Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, TaskScheduler scheduler)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 216\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:47.349848Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-97ca-7bd9-ba52-63bd0c5123d2 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.ContinueWithTaskContinuation.Run(Task completedTask, Boolean canInlineContinuationTask)\\r\\n   at System.Threading.Tasks.Task.ContinueWithCore(Task continuationTask, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions options)\\r\\n   at System.Threading.Tasks.Task.ContinueWith[TResult](Func`2 continuationFunction, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions continuationOptions)\\r\\n   at System.Threading.Tasks.Task.ContinueWith[TResult](Func`2 continuationFunction, TaskScheduler scheduler)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 219\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:47.686393Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-991c-7141-8076-bcacf6220cae failure=Failure { failure: Some(Failure { message: \"Workflow attempted to perform a thread transfer task which is non-deterministic. This can be caused by timers or other non-deterministic async calls.\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnFrameworkEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 197\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 157\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.FrameworkEventSource.WriteEvent(Int32 eventId, Int64 arg1, Int32 arg2, String arg3, Boolean arg4, Int32 arg5, Int32 arg6)\\r\\n   at System.Threading.TimerQueueTimer.Change(UInt32 dueTime, UInt32 period)\\r\\n   at System.Threading.Tasks.Task.CancellationPromise`1..ctor(Task source, UInt32 millisecondsDelay, CancellationToken token)\\r\\n   at System.Threading.Tasks.Task.WaitAsync(UInt32 millisecondsTimeout, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Task.WaitAsync(TimeSpan timeout)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 221\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:48.052985Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-9a7b-706b-bbf1-670d9a6adb6f failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.Task.Start(TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.Common.StartTaskSafe(Task task, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.OfferAsyncIfNecessary_Slow(Boolean isReplacementReplica, Boolean outgoingLockKnownAcquired)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.OfferAsyncIfNecessary(Boolean isReplacementReplica, Boolean outgoingLockKnownAcquired)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.OfferAsyncIfNecessaryWithValueLock()\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.AddMessage(TOutput item)\\r\\n   at System.Threading.Tasks.Dataflow.BufferBlock`1.System.Threading.Tasks.Dataflow.ITargetBlock<T>.OfferMessage(DataflowMessageHeader messageHeader, T messageValue, ISourceBlock`1 source, Boolean consumeToAccept)\\r\\n   at System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync[TInput](ITargetBlock`1 target, TInput item, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync[TInput](ITargetBlock`1 target, TInput item)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 225\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:48.369441Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-9bc5-7ea6-9ae2-0abd1bb9f534 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.TaskContinuation.InlineIfPossibleOrElseQueue(Task task, Boolean needsProtection)\\r\\n   at System.Threading.Tasks.ContinueWithTaskContinuation.Run(Task completedTask, Boolean canInlineContinuationTask)\\r\\n   at System.Threading.Tasks.Task.ContinueWithCore(Task continuationTask, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions options)\\r\\n   at System.Threading.Tasks.Task`1.ContinueWith[TNewResult](Func`2 continuationFunction, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions continuationOptions)\\r\\n   at System.Threading.Tasks.Task`1.ContinueWith[TNewResult](Func`2 continuationFunction, CancellationToken cancellationToken, TaskContinuationOptions continuationOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Task.WhenAny[TResult](Task`1[] tasks)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 228\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:48.718154Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122d-9d25-7c61-9749-7bda97837cea failure=Failure { failure: Some(Failure { message: \"Function during tracing event listener disabling created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.WithTracingEventListenerDisabled[T](Func`1 fn) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 584\\r\\n   at Temporalio.Workflows.Workflow.Unsafe.WithTracingEventListenerDisabled[T](Func`1 fn) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Workflows\\\\Workflow.cs:line 1381\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 231\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:37:50.140951Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyYy1kZDg2LTdlOWMtODIzOC00YjFhYTE3OGEwMTgSLXdvcmtmbG93LTBiMGRmYjQ5LWJkZjUtNDFlOS1hZDAzLWIyYmE0YzI3MjJjNRokMDE5NzEyMmQtOWViNC03MTZkLThmNzYtNGYyZWEyMjEwM2U4IAUoATIBMUIQUnVuVW50aWxDYW5jZWxlZEoICAEQ6rxAGAE=) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n  Temporalio.Tests test failed with 1 warning(s) (59.5s)\n    C:\\Program Files\\dotnet\\sdk\\9.0.300\\Microsoft.TestPlatform.targets(48,5): warning MSB5021: Terminating the task executable \"dotnet\" and its child processes because the build was canceled.\n\nBuild failed with 1 warning(s) in 111.2s\n                                                                             oisin.grehan  sdk-dotnet main ⇣ 91\n1m 51.505s ❯\n                                                                             oisin.grehan  sdk-dotnet main ⇣ 91\n❯ dotnet test\nRestore complete (1.7s)\n  Temporalio netstandard2.0 succeeded (0.2s) → src\\Temporalio\\bin\\Debug\\netstandard2.0\\Temporalio.dll\n  Temporalio netcoreapp3.1 succeeded (0.3s) → src\\Temporalio\\bin\\Debug\\netcoreapp3.1\\Temporalio.dll\n  Temporalio net462 succeeded (0.5s) → src\\Temporalio\\bin\\Debug\\net462\\Temporalio.dll\n  Temporalio.Extensions.OpenTelemetry netstandard2.0 succeeded (0.0s) → src\\Temporalio.Extensions.OpenTelemetry\\bin\\Debug\\netstandard2.0\\Temporalio.Extensions.OpenTelemetry.dll\n  Temporalio.Extensions.Hosting netstandard2.0 succeeded (0.0s) → src\\Temporalio.Extensions.Hosting\\bin\\Debug\\netstandard2.0\\Temporalio.Extensions.Hosting.dll\n  Temporalio.Extensions.DiagnosticSource net462 succeeded (0.2s) → src\\Temporalio.Extensions.DiagnosticSource\\bin\\Debug\\net462\\Temporalio.Extensions.DiagnosticSource.dll\n  Temporalio.Extensions.DiagnosticSource netstandard2.0 succeeded (0.1s) → src\\Temporalio.Extensions.DiagnosticSource\\bin\\Debug\\netstandard2.0\\Temporalio.Extensions.DiagnosticSource.dll\n  Temporalio.Extensions.OpenTelemetry net462 succeeded (0.1s) → src\\Temporalio.Extensions.OpenTelemetry\\bin\\Debug\\net462\\Temporalio.Extensions.OpenTelemetry.dll\n  Temporalio.Extensions.Hosting net462 succeeded (0.2s) → src\\Temporalio.Extensions.Hosting\\bin\\Debug\\net462\\Temporalio.Extensions.Hosting.dll\n  Temporalio.Extensions.Hosting net6.0 succeeded (0.2s) → src\\Temporalio.Extensions.Hosting\\bin\\Debug\\net6.0\\Temporalio.Extensions.Hosting.dll\n  Temporalio.Tests succeeded (0.1s) → tests\\Temporalio.Tests\\bin\\Debug\\net6.0\\Temporalio.Tests.dll\n[xUnit.net 00:00:00.00] xUnit.net VSTest Adapter v2.4.3+1b45f5407b (64-bit .NET 6.0.36)\n[xUnit.net 00:00:00.35]   Discovering: Temporalio.Tests\n[xUnit.net 00:00:00.43]   Discovered:  Temporalio.Tests\n[xUnit.net 00:00:00.43]   Starting:    Temporalio.Tests\n[xUnit.net 00:00:00.50]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_SlowWorkflowAutoSkip_ProperlySkips [SKIP]\n[xUnit.net 00:00:00.50]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:00.50]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_AutoTimeSkippingDisabled_RestoresAfterCall [SKIP]\n[xUnit.net 00:00:00.50]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:00.50]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_AutoTimeSkippingDisabled_SleepsFullTime [SKIP]\n[xUnit.net 00:00:00.50]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:00.55]     Temporalio.Tests.Client.TemporalCloudOperationsClientTests.ConnectAsync_SimpleCall_Succeeds [SKIP]\n[xUnit.net 00:00:00.55]       No cloud API key\nCLI 1.3.0 (Server 1.27.1, UI 2.36.0)\nServer:  localhost:62229\nMetrics: http://localhost:62232/metrics\nCLI 1.3.1-persistence-fix.0 (Server 1.27.0, UI 2.36.0)\nServer:  localhost:62230\nMetrics: http://localhost:62231/metrics\ntime=2025-05-27T10:38:05.234 level=ERROR msg=\"Queue reader unable to retrieve tasks\" shard-id=1 address=127.0.0.1:62261 component=transfer-queue-processor queue-reader-id=0 error=\"shard status unknown\"\n[xUnit.net 00:00:04.08]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_MissesHeartbeatTimeout_TimesOut [SKIP]\n[xUnit.net 00:00:04.08]       Time-skipping test server only works on x86/x64 platforms\n[xUnit.net 00:00:04.08]     Temporalio.Tests.Testing.WorkflowEnvironmentTests.StartTimeSkippingAsync_SlowWorkflowManualSkip_ProperlySkips [SKIP]\n[xUnit.net 00:00:04.08]       Time-skipping test server only works on x86/x64 platforms\n2025-05-27T14:38:06.348977Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWMyM2M0MjQ4LWE1NGQtNGI5MS05NDc1LWEyZWYxY2VmNWZmORokMDE5NzEyMmQtZGQ1Yy03ZGVkLWEwZGUtZGY3NWQyMGI5OWEyIAUoATIBMUIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEK+AQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:38:06.348977Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWMyM2M0MjQ4LWE1NGQtNGI5MS05NDc1LWEyZWYxY2VmNWZmORokMDE5NzEyMmQtZGQ1Yy03ZGVkLWEwZGUtZGY3NWQyMGI5OWEyIAYoATIBMkIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEKyAQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:38:06.348977Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWMyM2M0MjQ4LWE1NGQtNGI5MS05NDc1LWEyZWYxY2VmNWZmORokMDE5NzEyMmQtZGQ1Yy03ZGVkLWEwZGUtZGY3NWQyMGI5OWEyIAgoATIBNEIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEK2AQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:38:06.348996Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWMyM2M0MjQ4LWE1NGQtNGI5MS05NDc1LWEyZWYxY2VmNWZmORokMDE5NzEyMmQtZGQ1Yy03ZGVkLWEwZGUtZGY3NWQyMGI5OWEyIAkoATIBNUIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEKqAQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:38:06.349488Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWMyM2M0MjQ4LWE1NGQtNGI5MS05NDc1LWEyZWYxY2VmNWZmORokMDE5NzEyMmQtZGQ1Yy03ZGVkLWEwZGUtZGY3NWQyMGI5OWEyIAcoATIBM0IRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEKuAQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:38:08.715001Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWRiYzliMzJiLTI1ODMtNGY3ZS1hMjk1LTAzY2QxZTFhZWY1MhokMDE5NzEyMmQtZTc0MS03NmE0LTgxMzYtOGYxZDIxNTEzYTk5IAUoATIBMUIRV2FpdFVudGlsQ2FuY2VsZWRKCAgBEMuCQBgB) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\ntime=2025-05-27T10:38:13.373 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=941µs args=[deployment-default-versioning-2d7de99a-909d-48d9-b3c8-c393d7afef7a]\ntime=2025-05-27T10:38:14.223 level=ERROR msg=\"deployment client error\" error=\"context canceled\" operation=RegisterTaskQueueWorker elapsed=849.6336ms args=\"[tq-ee0b0b89-ccba-487c-a093-4f8e81bac3fb Workflow matching service]\"\ntime=2025-05-27T10:38:14.237 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=4.6136ms args=[deployment-default-versioning-c1350217-ee58-4b7b-84ff-54fe290cd5fd]\n2025-05-27T14:38:15.214158Z  WARN temporal_client::worker_registry: Ignoring registration for worker: SlotKey { namespace: \"default\", task_queue: \"tq-e2b1ffaa-30d0-4b32-9fae-5d56767c7134\" }.\ntime=2025-05-27T10:38:15.219 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=1.0409ms args=[deployment-ramping-7e952aab-4ecb-438f-af4f-748776072fef]\ntime=2025-05-27T10:38:18.409 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=501.8µs args=[deployment-dynamic-27cf78f3-cb46-4194-ad2f-d0356f9b166a]\n2025-05-27T14:38:19.111880Z  WARN temporal_client::worker_registry: Ignoring registration for worker: SlotKey { namespace: \"default\", task_queue: \"tq-445bd033-e0b8-46b2-ad1f-aac915b11bc6\" }.\n2025-05-27T14:38:19.112203Z  WARN temporal_client::worker_registry: Ignoring registration for worker: SlotKey { namespace: \"default\", task_queue: \"tq-445bd033-e0b8-46b2-ad1f-aac915b11bc6\" }.\ntime=2025-05-27T10:38:19.116 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=1.0191ms args=[deployment-2c2d2045-2249-47ad-947a-b2ae8f0bd110]\ntime=2025-05-27T10:38:21.800 level=ERROR msg=\"could not sync version summary to deployment workflow\" service=worker Namespace=default TaskQueue=temporal-sys-per-ns-tq WorkerID=temporal-system@IONARDLP012@default WorkflowType=temporal-sys-worker-deployment-version-workflow WorkflowID=temporal-sys-worker-deployment-version:deployment-2c2d2045-2249-47ad-947a-b2ae8f0bd110.1.0 RunID=0197122e-143f-76ae-8fab-ccb10f1c2a55 Attempt=0 wf-namespace=default error=<nil>\ntime=2025-05-27T10:38:22.698 level=ERROR msg=\"could not sync version summary to deployment workflow\" service=worker Namespace=default TaskQueue=temporal-sys-per-ns-tq WorkerID=temporal-system@IONARDLP012@default WorkflowType=temporal-sys-worker-deployment-version-workflow WorkflowID=temporal-sys-worker-deployment-version:deployment-2c2d2045-2249-47ad-947a-b2ae8f0bd110.2.0 RunID=0197122e-1792-7453-936d-6a86f57a709d Attempt=0 wf-namespace=default error=<nil>\ntime=2025-05-27T10:38:22.841 level=ERROR msg=\"deployment client error\" error=\"Worker Deployment not found\" operation=DescribeWorkerDeployment elapsed=502.9µs args=[deployment-dynamic-4c7da36a-0d15-42d6-b121-0ee26bcaae27]\n2025-05-27T14:38:26.599253Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:26.603742Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:26.614482Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:26.623324Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:26.633855Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:26.646501Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=55d00d7a-1d14-4e04-9fb0-35a1b34ad3bb failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:27.085653Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-32ef-730b-b269-ad0408076723 failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:27.091304Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-32ef-730b-b269-ad0408076723 failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Timer machine does not handle this event: HistoryEvent(id: 11, WorkflowExecutionCompleted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:33.232660Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-4af5-70e8-9ef5-f6142eec82fe failure=Failure { failure: Some(Failure { message: \"Update validator for DoUpdateValidatorCommands created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:33.239321Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-4af5-70e8-9ef5-f6142eec82fe failure=Failure { failure: Some(Failure { message: \"Update validator for DoUpdateValidatorCommands created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:34.030099Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-4e26-7835-be2a-6d3e7ae6a832 failure=Failure { failure: Some(Failure { message: \"Workflow type not-found-workflow is not registered on this worker, available workflows: SimpleWorkflow\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowWorker.CreateInstance(WorkflowActivation act, DataConverter dataConverter) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 326\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_0.<HandleActivationAsync>b__2(String _) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 194\\r\\n   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)\\r\\n   at Temporalio.Worker.WorkflowWorker.HandleActivationAsync(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 194\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"NotFoundError\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:34.432165Z  WARN temporal_sdk_core::worker::workflow: Failing legacy query request run_id=0197122e-4f7d-766a-b668-d6cf0185f9e5 failure=Failure { failure: Some(Failure { message: \"Query handler for QueryMakingCommands created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:34.534972Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-501d-74a2-bcbb-5ac95294aea2 failure=Failure { failure: Some(Failure { message: \"Intentionally failing task\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateBadResultSerializationPayloadConverter.ToPayload(Object value) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4199\\r\\n   at Temporalio.Worker.WorkflowInstance.<>c__DisplayClass169_1.<ApplyDoUpdateAsync>b__2(Task`1 _) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1269\\r\\n--- End of stack trace from previous location ---\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:34.539496Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-501d-74a2-bcbb-5ac95294aea2 failure=Failure { failure: Some(Failure { message: \"Intentionally failing task\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateBadResultSerializationPayloadConverter.ToPayload(Object value) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4199\\r\\n   at Temporalio.Worker.WorkflowInstance.<>c__DisplayClass169_1.<ApplyDoUpdateAsync>b__2(Task`1 _) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1269\\r\\n--- End of stack trace from previous location ---\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\ntime=2025-05-27T10:38:34.573 level=WARN msg=\"Per shard per namespace RPS warn limit exceeded\" service=history shard-id=1 wf-namespace=default rps=48\ntime=2025-05-27T10:38:34.573 level=WARN msg=\"Per shard RPS warn limit exceeded\" service=history shard-id=1 rps=74\n2025-05-27T14:38:37.949245Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:38.990051Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:38:39.013267Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-619c-74f0-a022-3d17583b0761 failure=Failure { failure: Some(Failure { message: \"Intentional error\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.WaitConditionExceptionWorkflow.<>c.<RunAsync>b__0_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4671\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 865\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\ntime=2025-05-27T10:38:42.879 level=ERROR msg=\"unable to add metrics baggage to gRPC trailer\" error=\"rpc error: code = Internal desc = transport: SendHeader called multiple times\"\n2025-05-27T14:38:48.213230Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-8587-7315-b02f-ebb05197553c failure=Failure { failure: Some(Failure { message: \"Workflow attempted to perform a thread transfer task which is non-deterministic. This can be caused by timers or other non-deterministic async calls.\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnFrameworkEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 197\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 157\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.FrameworkEventSource.WriteEvent(Int32 eventId, Int64 arg1, Int32 arg2, String arg3, Boolean arg4, Int32 arg5, Int32 arg6)\\r\\n   at System.Threading.TimerQueueTimer.Change(UInt32 dueTime, UInt32 period)\\r\\n   at System.Threading.Tasks.Task.DelayPromise..ctor(UInt32 millisecondsDelay)\\r\\n   at System.Threading.Tasks.Task.Delay(UInt32 millisecondsDelay, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Task.Delay(Int32 millisecondsDelay)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 211\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:48.553786Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-86de-7b82-9577-298c04f0ff75 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.Task`1.StartNew(Task parent, Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, InternalTaskOptions internalOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.TaskFactory`1.StartNew(Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Task.Run[TResult](Func`1 function, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Task.Run[TResult](Func`1 function)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 214\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:48.876868Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-8822-7e6d-ba80-772274949e43 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.Task`1.StartNew(Task parent, Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, InternalTaskOptions internalOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.TaskFactory.StartNew[TResult](Func`1 function, CancellationToken cancellationToken, TaskCreationOptions creationOptions, TaskScheduler scheduler)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 216\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:49.206655Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-8969-731c-a845-e78c565b02e6 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.ContinueWithTaskContinuation.Run(Task completedTask, Boolean canInlineContinuationTask)\\r\\n   at System.Threading.Tasks.Task.ContinueWithCore(Task continuationTask, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions options)\\r\\n   at System.Threading.Tasks.Task.ContinueWith[TResult](Func`2 continuationFunction, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions continuationOptions)\\r\\n   at System.Threading.Tasks.Task.ContinueWith[TResult](Func`2 continuationFunction, TaskScheduler scheduler)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 219\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:49.539189Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-8ab5-7a42-a63d-06f7960c6f49 failure=Failure { failure: Some(Failure { message: \"Workflow attempted to perform a thread transfer task which is non-deterministic. This can be caused by timers or other non-deterministic async calls.\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnFrameworkEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 197\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 157\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.FrameworkEventSource.WriteEvent(Int32 eventId, Int64 arg1, Int32 arg2, String arg3, Boolean arg4, Int32 arg5, Int32 arg6)\\r\\n   at System.Threading.TimerQueueTimer.Change(UInt32 dueTime, UInt32 period)\\r\\n   at System.Threading.Tasks.Task.CancellationPromise`1..ctor(Task source, UInt32 millisecondsDelay, CancellationToken token)\\r\\n   at System.Threading.Tasks.Task.WaitAsync(UInt32 millisecondsTimeout, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Task.WaitAsync(TimeSpan timeout)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 221\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:49.887101Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-8c02-748e-8002-013bc25657e2 failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.Task.ScheduleAndStart(Boolean needsProtection)\\r\\n   at System.Threading.Tasks.Task.Start(TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.Common.StartTaskSafe(Task task, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.OfferAsyncIfNecessary_Slow(Boolean isReplacementReplica, Boolean outgoingLockKnownAcquired)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.OfferAsyncIfNecessary(Boolean isReplacementReplica, Boolean outgoingLockKnownAcquired)\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.OfferAsyncIfNecessaryWithValueLock()\\r\\n   at System.Threading.Tasks.Dataflow.Internal.SourceCore`1.AddMessage(TOutput item)\\r\\n   at System.Threading.Tasks.Dataflow.BufferBlock`1.System.Threading.Tasks.Dataflow.ITargetBlock<T>.OfferMessage(DataflowMessageHeader messageHeader, T messageValue, ISourceBlock`1 source, Boolean consumeToAccept)\\r\\n   at System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync[TInput](ITargetBlock`1 target, TInput item, CancellationToken cancellationToken)\\r\\n   at System.Threading.Tasks.Dataflow.DataflowBlock.SendAsync[TInput](ITargetBlock`1 target, TInput item)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 225\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:50.201806Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-8d4f-7d8e-919c-ee18c1bf086c failure=Failure { failure: Some(Failure { message: \"Task during workflow run was not scheduled on workflow scheduler\", source: \"\", stack_trace: \"   at System.Environment.get_StackTrace()\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnTplEventWritten(WorkflowInstance instance, EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 241\\r\\n   at Temporalio.Worker.WorkflowTracingEventListener.OnEventWritten(EventWrittenEventArgs evt) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowTracingEventListener.cs:line 153\\r\\n   at System.Diagnostics.Tracing.EventSource.DispatchToAllListeners(EventWrittenEventArgs eventCallbackArgs)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteToAllListeners(EventWrittenEventArgs eventCallbackArgs, Int32 eventDataCount, EventData* data)\\r\\n   at System.Diagnostics.Tracing.EventSource.WriteEventWithRelatedActivityIdCore(Int32 eventId, Guid* relatedActivityId, Int32 eventDataCount, EventData* data)\\r\\n   at System.Threading.Tasks.TplEventSource.TaskScheduled(Int32 OriginatingTaskSchedulerID, Int32 OriginatingTaskID, Int32 TaskID, Int32 CreatingTaskID, Int32 TaskCreationOptions, Int32 appDomain)\\r\\n   at System.Threading.Tasks.TaskContinuation.InlineIfPossibleOrElseQueue(Task task, Boolean needsProtection)\\r\\n   at System.Threading.Tasks.ContinueWithTaskContinuation.Run(Task completedTask, Boolean canInlineContinuationTask)\\r\\n   at System.Threading.Tasks.Task.ContinueWithCore(Task continuationTask, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions options)\\r\\n   at System.Threading.Tasks.Task`1.ContinueWith[TNewResult](Func`2 continuationFunction, TaskScheduler scheduler, CancellationToken cancellationToken, TaskContinuationOptions continuationOptions)\\r\\n   at System.Threading.Tasks.Task`1.ContinueWith[TNewResult](Func`2 continuationFunction, CancellationToken cancellationToken, TaskContinuationOptions continuationOptions, TaskScheduler scheduler)\\r\\n   at System.Threading.Tasks.Task.WhenAny[TResult](Task`1[] tasks)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 228\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario)\\r\\n   at System.RuntimeMethodHandle.InvokeMethod(Object target, Span`1& arguments, Signature sig, Boolean constructor, Boolean wrapExceptions)\\r\\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1804\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.Interceptors.WorkflowInboundInterceptor.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\Interceptors\\\\WorkflowInboundInterceptor.cs:line 52\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.<>n__0(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1()\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func)\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_0() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1543\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\\r\\n   at System.Threading.Tasks.TaskScheduler.TryExecuteTask(Task task)\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 839\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\\r\\n   at Temporalio.Worker.WorkflowWorker.<>c__DisplayClass11_1.<HandleActivationAsync>b__3() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 203\\r\\n   at System.Threading.Tasks.Task`1.InnerInvoke()\\r\\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\\r\\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidWorkflowSchedulerException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:50.539588Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-8ea1-7b54-850c-51aab5bb71cf failure=Failure { failure: Some(Failure { message: \"Function during tracing event listener disabling created workflow commands\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.WithTracingEventListenerDisabled[T](Func`1 fn) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 584\\r\\n   at Temporalio.Workflows.Workflow.Unsafe.WithTracingEventListenerDisabled[T](Func`1 fn) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Workflows\\\\Workflow.cs:line 1381\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.StandardLibraryCallsWorkflow.RunAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 231\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:38:51.973009Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LTA3ZWM1NDFkLWFiM2ItNDA4Mi1hYzg4LTcwMzkxZGNhMDFiNxokMDE5NzEyMmUtOTAzOC03YWFkLTk4OTAtN2ZiMzA5ZWFlYmMwIAUoATIBMUIQUnVuVW50aWxDYW5jZWxlZEoICAEQzbxAGAE=) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:39:04.605414Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-c43b-7a28-bd4b-cb5b051960fa failure=Failure { failure: Some(Failure { message: \"Intentional task failure\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.TaskEventsWorkflow.RunAsync() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3192\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:04.614414Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-c43b-7a28-bd4b-cb5b051960fa failure=Failure { failure: Some(Failure { message: \"Intentional task failure\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.TaskEventsWorkflow.RunAsync() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3192\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:05.043488Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-c735-7703-8983-c05f32988258 failure=Failure { failure: Some(Failure { message: \"Intentional exception\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.FailureTypesWorkflow.ApplyScenario(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4340\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"MyException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:05.401746Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-c894-7f36-b850-b1d6d27c9ca9 failure=Failure { failure: Some(Failure { message: \"Intentional exception\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.FailureTypesWorkflow.ApplyScenario(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4340\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleSignalAsync(HandleSignalInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1836\\r\\n   at Temporalio.Worker.WorkflowInstance.<>c__DisplayClass178_0.<<ApplySignalWorkflow>b__1>d.MoveNext() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1520\\r\\n--- End of stack trace from previous location ---\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"MyException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:06.039336Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:06.055419Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-c732-7b33-8e0f-1e3134befaca failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:06.055362Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:06.058591Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:06.065744Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Complete workflow machine does not handle this event: HistoryEvent(id: 5, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:06.736783Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-c9f2-7cee-9c27-5a83db0bbf43 failure=Failure { failure: Some(Failure { message: \"Intentional exception\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.FailureTypesWorkflow.ApplyScenario(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4340\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.FailureTypesWorkflow.UpdateAsync(Scenario scenario) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 4332\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1898\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"MyException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:07.095041Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: No command scheduled for event HistoryEvent(id: 6, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:07.095089Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: No command scheduled for event HistoryEvent(id: 6, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:07.095552Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: No command scheduled for event HistoryEvent(id: 6, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:07.096038Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: No command scheduled for event HistoryEvent(id: 9, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:07.341739Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-cc54-7a5b-8459-2d2931b8c65e failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: No command scheduled for event HistoryEvent(id: 9, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:09.155362Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Update machine does not handle this event: HistoryEvent(id: 11, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:09.155721Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Update machine does not handle this event: HistoryEvent(id: 14, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:09.155708Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Update machine does not handle this event: HistoryEvent(id: 14, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:09.155708Z  WARN temporal_sdk_core::worker::workflow::managed_run: Failing workflow due to nondeterminism error failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Update machine does not handle this event: HistoryEvent(id: 14, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:09.656997Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-d167-7d8e-a7df-1bb844a3bcfe failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Update machine does not handle this event: HistoryEvent(id: 11, TimerStarted)\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:09.979166Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWQyN2Q4YTQwLTBjZjItNDcxNC1iM2UxLWI5YjNjNzc3MWMzMhokMDE5NzEyMmUtZGE0NS03MTI5LWIzMDgtYmEwOTQ2OGVjZTFkIAUoATIBMUINV2FpdEZvckNhbmNlbEoICAEQnspAGAE=) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:39:12.956714Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122e-de5d-7cf6-819f-a778f5a4dd8f failure=Failure { failure: Some(Failure { message: \"[TMPRL1101] Workflow with ID 0197122e-de5d-7cf6-819f-a778f5a4dd8f deadlocked after 00:00:02\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowWorker.HandleActivationAsync(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 218\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:20.028159Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LTkxNWU5M2VjLWUyMmItNDE5ZC1iNDIxLTRhYWIyZDQ1Y2FlOBokMDE5NzEyMmUtZmRjOS03MDRmLTgxNTYtYWU1NTBiMzIxOGU0IAUoATIBMUIQUnVuVW50aWxDYW5jZWxlZEoICAEQkstAGAE=) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n[xUnit.net 00:01:23.49]     Temporalio.Tests.Worker.WorkflowWorkerTests.ExecuteWorkflowAsync_Semaphore_Cancellation(useWorkflowCancellation: True) [SKIP]\n[xUnit.net 00:01:23.49]       Unable to cancel workflow for this test: https://github.com/temporalio/sdk-core/issues/772\ntime=2025-05-27T10:39:24.936 level=ERROR msg=\"unable to add metrics baggage to gRPC trailer\" error=\"rpc error: code = Internal desc = transport: SendHeader called multiple times\"\n2025-05-27T14:39:26.833592Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-1c67-775b-ae4e-357ad5f5dfee failure=Failure { failure: Some(Failure { message: \"Activity invalid_activity is not registered on this worker, available activities: DoSomething\", source: \"\", stack_trace: \"   at Temporalio.Worker.ActivityWorker.AssertValidActivity(String activityType) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\ActivityWorker.cs:line 154\\r\\n   at Temporalio.Worker.TemporalWorker.<.ctor>b__6_0(String activityType) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\TemporalWorker.cs:line 96\\r\\n   at Temporalio.Worker.WorkflowInstance.OutboundImpl.ScheduleLocalActivityAsync[TResult](ScheduleLocalActivityInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 2129\\r\\n   at Temporalio.Worker.WorkflowInstance.ExecuteLocalActivityAsync[TResult](String activity, IReadOnlyCollection`1 args, LocalActivityOptions options) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 407\\r\\n   at Temporalio.Workflows.Workflow.ExecuteLocalActivityAsync[TResult](String activity, IReadOnlyCollection`1 args, LocalActivityOptions options) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Workflows\\\\Workflow.cs:line 1005\\r\\n   at Temporalio.Workflows.Workflow.ExecuteLocalActivityAsync(String activity, IReadOnlyCollection`1 args, LocalActivityOptions options) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Workflows\\\\Workflow.cs:line 982\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.LocalActivityMissingWorkflow.RunAsync() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 7232\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:29.674409Z  WARN temporal_sdk_core::worker::workflow: Failing legacy query request run_id=0197122f-2710-7a37-8a22-26127e19b825 failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Activity type of scheduled event 'PrePatchActivity' does not match activity type of activity command 'PostPatchActivity'\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:29.717108Z  WARN temporal_sdk_core::worker::workflow: Failing legacy query request run_id=0197122f-2710-7a37-8a22-26127e19b825 failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Activity type of scheduled event 'PrePatchActivity' does not match activity type of activity command 'PostPatchActivity'\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:29.722996Z  WARN temporal_sdk_core::worker::workflow: Failing legacy query request run_id=0197122f-2733-77c5-acca-c991702a3fe2 failure=Failure { failure: Some(Failure { message: \"[TMPRL1100] Nondeterminism error: Non-deprecated patch marker encountered for change my-patch, but there is no corresponding change command!\", source: \"\", stack_trace: \"\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: NonDeterministicError }\n2025-05-27T14:39:33.527993Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-2d4d-7d99-8061-252dce060d8f failure=Failure { failure: Some(Failure { message: \"[TMPRL1101] Workflow with ID 0197122f-2d4d-7d99-8061-252dce060d8f deadlocked after 00:00:02\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowWorker.HandleActivationAsync(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 218\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:33.527982Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-2d4b-7d9a-9823-ae369a840ba2 failure=Failure { failure: Some(Failure { message: \"[TMPRL1101] Workflow with ID 0197122f-2d4b-7d9a-9823-ae369a840ba2 deadlocked after 00:00:02\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowWorker.HandleActivationAsync(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 218\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:33.529108Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-2d49-70b0-bacb-60f6ebf64de6 failure=Failure { failure: Some(Failure { message: \"[TMPRL1101] Workflow with ID 0197122f-2d49-70b0-bacb-60f6ebf64de6 deadlocked after 00:00:02\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowWorker.HandleActivationAsync(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowWorker.cs:line 218\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:33.921784Z  WARN temporal_sdk_core::worker::activities: Activity not found on completion. This may happen if the activity has already been cancelled but completed anyway. task_token=TaskToken(CiQwMTk3MTIyZC1kMDgxLTc1MDctYmI0Yi1iZGIyNjk1MGUxZjASLXdvcmtmbG93LWUzY2QxNmE4LWRmMjktNGVjOC1hOTZjLTRmNDFmNmRjMmYwNhokMDE5NzEyMmYtMzdhNy03Yzc2LThlODMtNmJiMDBhMjk5MWM4IAUoATIBMUIVU3dhbGxvd0NhbmNlbEFjdGl2aXR5SggIARCq10AYAQ==) details=Status { code: NotFound, message: \"workflow execution already completed\", details: b\"\\x08\\x05\\x12$workflow execution already completed\\x1aB\\n@type.googleapis.com/temporal.api.errordetails.v1.NotFoundFailure\", metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} }, source: None }\n2025-05-27T14:39:37.403017Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-45b3-7c99-b6f9-116cfdd78fae failure=Failure { failure: Some(Failure { message: \"Activity invalid_activity is not registered on this worker, no available activities.\", source: \"\", stack_trace: \"   at Temporalio.Worker.TemporalWorker.<.ctor>b__6_0(String activityType) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\TemporalWorker.cs:line 96\\r\\n   at Temporalio.Worker.WorkflowInstance.OutboundImpl.ScheduleLocalActivityAsync[TResult](ScheduleLocalActivityInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 2129\\r\\n   at Temporalio.Worker.WorkflowInstance.ExecuteLocalActivityAsync[TResult](String activity, IReadOnlyCollection`1 args, LocalActivityOptions options) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 407\\r\\n   at Temporalio.Workflows.Workflow.ExecuteLocalActivityAsync[TResult](String activity, IReadOnlyCollection`1 args, LocalActivityOptions options) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Workflows\\\\Workflow.cs:line 1005\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.LocalActivityMissingNoActivitiesWorkflow.RunAsync() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 7286\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:41.128960Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-5442-73b6-bd05-19feaa0afe5d failure=Failure { failure: Some(Failure { message: \"Delay duration cannot be less than 0\", source: \"\", stack_trace: \"   at Temporalio.Worker.WorkflowInstance.OutboundImpl.DelayAsync(DelayAsyncInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1993\\r\\n   at Temporalio.Worker.WorkflowInstance.DelayWithOptionsAsync(DelayOptions options) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 396\\r\\n   at Temporalio.Workflows.Workflow.DelayAsync(Int32 millisecondsDelay, Nullable`1 cancellationToken) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Workflows\\\\Workflow.cs:line 326\\r\\n   at Temporalio.Tests.Worker.WorkflowWorkerTests.TimerWorkflow.RunAsync(Input input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 560\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Tests.XunitExceptionInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\XunitExceptionInterceptor.cs:line 24\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"ArgumentException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:42.570477Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-55ea-7c3b-8293-897320831dff failure=Failure { failure: Some(Failure { message: \"Intentional update invalid operation\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateOneParamNoResponseAsync(String param) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3704\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1898\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:42.599261Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-55ea-7c3b-8293-897320831dff failure=Failure { failure: Some(Failure { message: \"Intentional update invalid operation\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateOneParamNoResponseAsync(String param) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3704\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1898\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:42.876501Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-5b08-7384-b960-d469b0703145 failure=Failure { failure: Some(Failure { message: \"Intentional update invalid operation\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateOneParamNoResponseAsync(String param) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3706\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1898\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:42.882736Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-5b08-7384-b960-d469b0703145 failure=Failure { failure: Some(Failure { message: \"Intentional update invalid operation\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateOneParamNoResponseAsync(String param) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3706\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1898\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:44.205764Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-5c50-787d-8069-845487a92938 failure=Failure { failure: Some(Failure { message: \"Continue as new\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateOneParamNoResponseAsync(String param) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3709\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1898\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"ContinueAsNewException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:44.215062Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-5c50-787d-8069-845487a92938 failure=Failure { failure: Some(Failure { message: \"Continue as new\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateOneParamNoResponseAsync(String param) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3709\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1898\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"ContinueAsNewException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:44.524690Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-6173-790f-9927-363a894b88c2 failure=Failure { failure: Some(Failure { message: \"Intentional update invalid operation\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateFailOutsideAsync() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3749\\r\\n--- End of stack trace from previous location ---\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1902\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n2025-05-27T14:39:44.532423Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-6173-790f-9927-363a894b88c2 failure=Failure { failure: Some(Failure { message: \"Intentional update invalid operation\", source: \"\", stack_trace: \"   at Temporalio.Tests.Worker.WorkflowWorkerTests.UpdateWorkflow.DoUpdateFailOutsideAsync() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Worker\\\\WorkflowWorkerTests.cs:line 3749\\r\\n--- End of stack trace from previous location ---\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.HandleUpdateAsync(HandleUpdateInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1902\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\ntime=2025-05-27T10:39:49.873 level=ERROR msg=\"Queue reader unable to retrieve tasks\" shard-id=1 address=127.0.0.1:53043 component=transfer-queue-processor queue-reader-id=0 error=\"shard status unknown\"\ntime=2025-05-27T10:39:49.873 level=ERROR msg=\"Queue reader unable to retrieve tasks\" shard-id=1 address=127.0.0.1:53043 component=outbound-queue-processor queue-reader-id=0 error=\"shard status unknown\"\ntime=2025-05-27T10:39:49.873 level=ERROR msg=\"Queue reader unable to retrieve tasks\" shard-id=1 address=127.0.0.1:53043 component=visibility-queue-processor queue-reader-id=0 error=\"shard status unknown\"\nCLI 1.3.0 (Server 1.27.1, UI 2.36.0)\nServer:  localhost:53040\nMetrics: http://localhost:53041/metrics\n2025-05-27T14:39:50.672164Z  WARN temporal_sdk_core::worker::workflow: Task not found when completing error=status: NotFound, message: \"Namespace 0197122d-d081-7507-bb4b-bdb26950e1f0 is not found.\", details: [8, 5, 18, 60, 78, 97, 109, 101, 115, 112, 97, 99, 101, 32, 48, 49, 57, 55, 49, 50, 50, 100, 45, 100, 48, 56, 49, 45, 55, 53, 48, 55, 45, 98, 98, 52, 98, 45, 98, 100, 98, 50, 54, 57, 53, 48, 101, 49, 102, 48, 32, 105, 115, 32, 110, 111, 116, 32, 102, 111, 117, 110, 100, 46, 26, 115, 10, 73, 116, 121, 112, 101, 46, 103, 111, 111, 103, 108, 101, 97, 112, 105, 115, 46, 99, 111, 109, 47, 116, 101, 109, 112, 111, 114, 97, 108, 46, 97, 112, 105, 46, 101, 114, 114, 111, 114, 100, 101, 116, 97, 105, 108, 115, 46, 118, 49, 46, 78, 97, 109, 101, 115, 112, 97, 99, 101, 78, 111, 116, 70, 111, 117, 110, 100, 70, 97, 105, 108, 117, 114, 101, 18, 38, 10, 36, 48, 49, 57, 55, 49, 50, 50, 100, 45, 100, 48, 56, 49, 45, 55, 53, 48, 55, 45, 98, 98, 52, 98, 45, 98, 100, 98, 50, 54, 57, 53, 48, 101, 49, 102, 48], metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\"} } run_id=\"0197122f-7812-7550-87fa-35884733d272\"\n2025-05-27T14:39:56.221607Z  WARN temporal_sdk_core::worker::workflow: Failing workflow task run_id=0197122f-8b48-71ea-b53b-af57a6743221 failure=Failure { failure: Some(Failure { message: \"fail1\", source: \"\", stack_trace: \"   at Temporalio.Tests.Extensions.OpenTelemetry.TracingInterceptorTests.TracingWorkflow.RaiseOnNonReplayAsync(String msg) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Extensions\\\\OpenTelemetry\\\\TracingInterceptorTests.cs:line 1055\\r\\n   at Temporalio.Tests.Extensions.OpenTelemetry.TracingInterceptorTests.TracingWorkflow.RunAsync(TracingWorkflowParam param) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\tests\\\\Temporalio.Tests\\\\Extensions\\\\OpenTelemetry\\\\TracingInterceptorTests.cs:line 912\\r\\n   at Temporalio.Worker.WorkflowInstance.InboundImpl.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1805\\r\\n   at Temporalio.Extensions.OpenTelemetry.TracingInterceptor.WorkflowInbound.ExecuteWorkflowAsync(ExecuteWorkflowInput input) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio.Extensions.OpenTelemetry\\\\TracingInterceptor.cs:line 393\\r\\n   at Temporalio.Worker.WorkflowInstance.<InitializeWorkflow>b__180_1() in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 1551\\r\\n   at Temporalio.Worker.WorkflowInstance.RunTopLevelAsync(Func`1 func) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 956\\r\\n   at Temporalio.Worker.WorkflowInstance.RunOnce(Boolean checkConditions) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 845\\r\\n   at Temporalio.Worker.WorkflowInstance.Activate(WorkflowActivation act) in C:\\\\dev\\\\github\\\\temporalio\\\\sdk-dotnet\\\\src\\\\Temporalio\\\\Worker\\\\WorkflowInstance.cs:line 691\", encoded_attributes: None, cause: None, failure_info: Some(ApplicationFailureInfo(ApplicationFailureInfo { r#type: \"InvalidOperationException\", non_retryable: false, details: None, next_retry_delay: None, category: Unspecified })) }), force_cause: Unspecified }\n  Temporalio.Tests test failed with 1 warning(s) (116.6s)\n    C:\\Program Files\\dotnet\\sdk\\9.0.300\\Microsoft.TestPlatform.targets(48,5): warning MSB5021: Terminating the task executable \"dotnet\" and its child processes because the build was canceled.\n```\n\nI just canceled out of them after about 2mins since it's clear there's something really off.\n\n","createdAt":"2025-05-27T14:42:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2912783701","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6trbM5","author":{"login":"oising"},"authorAssociation":"NONE","body":"Anything else you might suggest, @cretz ? Appreciate your help.","createdAt":"2025-05-27T19:57:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2913841977","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6tr7eu","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Nothing obvious, can add `--logger \"console;verbosity=detailed\"` to the `dotnet test` command (or just run `dotnet run --project tests/Temporalio.Tests -- -verbose` which may be better at showing live output) and maybe more info will show. And let them run for 5m before cancelling and confirm what the last log statement is before you cancel if you don't mind. Otherwise, I am afraid it'd take deeper debugging to see which test is failing and why.","createdAt":"2025-05-27T20:36:39Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2913974190","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6t2geE","author":{"login":"oising"},"authorAssociation":"NONE","body":"The last line doesn't make sense to me, as the previous 10,000 lines are full of stacktraces and errors.\n\n![Image](https://github.com/user-attachments/assets/c6e5f316-75d7-4ebe-832a-4418568a627e)","createdAt":"2025-05-28T15:22:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2916747140","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6t2nkh","author":{"login":"oising"},"authorAssociation":"NONE","body":"![Image](https://github.com/user-attachments/assets/c2c8c51b-da3e-4fa0-b6e1-a2a607f2b9b8)","createdAt":"2025-05-28T15:32:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2916776225","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6t6GOE","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"So for the first one, there is some kind of strange issue here we can look at. The line numbers got cut off. Specifically looking at which line in `ReserveCtxFromBridge` is failing and if you can confirm which commit you are building and running test on (is it latest `main`)? I wonder why this isn't failing in our CI tests.\n\nFor the second one, I do not understand how the logger factory is being disposed before the service is, but regardless, I think it's not related to the real issue.","createdAt":"2025-05-28T21:44:49Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2917688196","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6uBMRv","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> The last line doesn't make sense to me, as the previous 10,000 lines are full of stacktraces and errors.\n\nWhile there are some issues here (we are also looking as part of #458), it seems to be showing the tests pass? It is a bit hard to see which test is causing your issue. Did you run `dotnet run --project tests/Temporalio.Tests -- -verbose`? Maybe just run one test to confirm, e.g. `dotnet run --project tests/Temporalio.Tests -- -verbose -method \"*.ExecuteWorkflowAsync_Simple_Succeeds\"`?","createdAt":"2025-05-29T14:15:50Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2919548015","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6xDmdg","author":{"login":"oising"},"authorAssociation":"NONE","body":"> dotnet run --project tests/Temporalio.Tests -- -verbose -method \"*.ExecuteWorkflowAsync_Simple_Succeeds\"\n\nSorry @cretz -- I got distracted with project work. So, this is encouraging:\n\n![Image](https://github.com/user-attachments/assets/c3f6aeeb-c798-42c3-ba96-bb8788ac275c)\n\nDoes this infer the native bridge library is _somewhat_ functional?","createdAt":"2025-06-13T14:01:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2970511200","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6yoaCs","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Yes. The SDK _should_ work on Windows ARM, we just haven't tested it or published it in the NuGet package.","createdAt":"2025-06-23T15:29:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2996936876","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6yooMN","author":{"login":"oising"},"authorAssociation":"NONE","body":"> Yes. The SDK _should_ work on Windows ARM, we just haven't tested it or published it in the NuGet package.\n\nHi @cretz - thanks for the reply. Incidentally, what's blocking you testing it? Lack of available hardware? IIRC you don't want to include the rid in the nuget package because of the added bloat for a relatively small market share, but... ","createdAt":"2025-06-23T15:46:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2996994829","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6ypArF","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"We do not officially support Windows ARM at this time, so we're not wanting to write/maintain CI builds/tests for Windows ARM at this time. We may be able to officially support Windows ARM at some point though.","createdAt":"2025-06-23T16:16:36Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-2997095109","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6zxCDi","author":{"login":"oising"},"authorAssociation":"NONE","body":"I just tried again with the 1.7.0 release and it seems that the crazy malloc issue is gone. Everything seems to function with respect to running the standalone temporal dev server and hosting workflows and workers now on windows 11/arm64. If anyone else wants to try it out, I'll attach a link to the WoA arm64 bridge dll to avoid going through the difficulties of configuring building it on WoA. Basically, I got the samples downloaded, then ensured I was using 1.7.0 packages, then restored the solution. This would put the packages in the local nuget package cache. I then dropped the arm64 bridge dll into a new runtimes/win-arm64/native/ folder of the temporalio 1.7.0 sdk, and now everything works (seemingly.)\n\nYou'll want to run `nuget locals all -list` and find the global-packages location, and look for the temporalio nuget package cache there. \n\n![Image](https://github.com/user-attachments/assets/94a9a42a-d9fb-41a7-bbbc-994ce9769b4e)\n\nThe arm64 bridge dll is here: \nhttps://1drv.ms/u/c/966797f20cdd791e/EfKUKX4VvKtGuGI0pNm_L60BZqmFWwVRzryoRJVxQOGlxQ?e=mWoy8U\n\nunzip (7z) into `C:\\Users\\<username>\\.nuget\\packages\\temporalio\\1.7.0\\runtimes`\n ","createdAt":"2025-06-28T18:33:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HEART","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-3015975138","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs7AFB7-","author":{"login":"DillonN"},"authorAssociation":"NONE","body":"This should be in the package by default now. There are more Windows laptop models being sold with ARM than x64. Almost every other development tool works natively on ARM out of the box. Why the hesitation to include it by default when Linux and OSX both get it? Nobody wants to use x64 on laptops these days, doesn't matter which OS you use. \n\nIMO, custom building the SDK or downloading prebuilts from people's OneDrives is not a viable solution for such a mainstream platform.","createdAt":"2025-08-26T04:08:52Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-3222544126","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs7AN0OL","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"With [GH Windows ARM runners](https://github.blog/changelog/2025-04-14-windows-arm64-hosted-runners-now-available-in-public-preview/) available, we can look into adding this to CI and the DLL to the package. The package is already ~65MB, and this will put it over 70MB unfortunately, but that may be acceptable or we may consider offering as a separate NuGet package.\n\nNote, the time-skipping test server will not be supported in this environment because it is Graal-compiled from our Java SDK project and [they will not add support for Windows ARM](https://github.com/oracle/graal/issues/9215).","createdAt":"2025-08-26T16:10:48Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-3224847243","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs7AQ_rE","author":{"login":"oising"},"authorAssociation":"NONE","body":"A 7% increase in size seems acceptable to add a good dx for WoA developers. Writing an AOT compiler for Graal, on the other hand, seems like a lot of work :D","createdAt":"2025-08-26T20:46:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-3225680580","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs7MDsUP","author":{"login":"oising"},"authorAssociation":"NONE","body":"I built the bridge dll for windows/arm64 for 1.7.0, 1.8.0 and 1.9.0\n\nhttps://1drv.ms/u/c/966797f20cdd791e/Eda9Sdqt1-xDsvRQMi7MAAMBwLVcBJDSWY0zXnkl3mBoXA?e=rOvirS\n\nextract into your nuget locals cache for temporalio package. ","createdAt":"2025-10-20T19:55:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/385#issuecomment-3423520015","viewerDidAuthor":false}],"createdAt":"2025-01-04T09:51:35Z","labels":[{"id":"LA_kwDOInL6Hs8AAAABJH7znQ","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":385,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"CLOSED","title":"[Feature Request] Add support for win-arm64","updatedAt":"2025-10-21T15:12:26Z","url":"https://github.com/temporalio/sdk-dotnet/issues/385"}
