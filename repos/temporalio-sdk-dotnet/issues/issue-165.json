{"assignees":[],"author":{"id":"U_kgDOBXSssw","is_bot":false,"login":"dev-danx","name":"DanxDevelop"},"body":"Sending jsonString as parameter to activity\r\n\r\n{\"message\":\"Failed decoding parameters\",\"source\":\"\",\"stackTrace\":\"   at Temporalio.Worker.ActivityWorker.ExecuteActivityInternalAsync(RunningActivity act, ActivityTask tsk)\",\"encodedAttributes\":null,\"cause\":{\"message\":\"The JSON value could not be converted to System.String. Path: $ | LineNumber: 0 | BytePositionInLine: 1.\",\"source\":\"\",\"stackTrace\":\"   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)\\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\\n   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.DeserializeAsObject(Utf8JsonReader& reader, ReadStack& state)\\n   at System.Text.Json.JsonSerializer.ReadFromSpanAsObject(ReadOnlySpan`1 utf8Json, JsonTypeInfo jsonTypeInfo, Nullable`1 actualByteCount)\\n   at System.Text.Json.JsonSerializer.Deserialize(ReadOnlySpan`1 utf8Json, Type returnType, JsonSerializerOptions options)\\n   at Temporalio.Converters.JsonPlainConverter.ToValue(Payload payload, Type type)\\n   at Temporalio.Converters.DefaultPayloadConverter.ToValue(Payload payload, Type type)\\n   at Temporalio.Converters.ConverterExtensions.ToSingleValueAsync(DataConverter converter, IReadOnlyCollection`1 payloads, Type type)\\n   at Temporalio.Worker.ActivityWorker.ExecuteActivityInternalAsync(RunningActivity act, ActivityTask tsk)\",\"encodedAttributes\":null,\"cause\":{\"message\":\"Cannot get the value of a token type 'StartObject' as a string.\",\"source\":\"\",\"stackTrace\":\"   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ExpectedString(JsonTokenType tokenType)\\n   at System.Text.Json.Utf8JsonReader.GetString()\\n   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)\\n   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)\",\"encodedAttributes\":null,\"cause\":null,\"applicationFailureInfo\":{\"type\":\"InvalidOperationException\",\"nonRetryable\":false,\"details\":null}},\"applicationFailureInfo\":{\"type\":\"JsonException\",\"nonRetryable\":false,\"details\":null}},\"applicationFailureInfo\":{\"type\":\"\",\"nonRetryable\":false,\"details\":null}}","closedAt":"2023-12-11T12:43:14Z","comments":[{"id":"IC_kwDOInL6Hs5uHUVP","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"If you're sending a string as a parameter, the parameter type needs to be string. If you're sending an object, you send the object and the data converter converts it to JSON for you. Can you show exact code of the issue?\r\n\r\n(also feel free to join us on the #dotnet-sdk channel on [Slack](https://t.mp/slack))","createdAt":"2023-12-08T15:46:49Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/165#issuecomment-1847412047","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs5uRNnw","author":{"login":"dev-danx"},"authorAssociation":"NONE","body":"you are correct","createdAt":"2023-12-11T12:43:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/165#issuecomment-1850006000","viewerDidAuthor":false}],"createdAt":"2023-12-08T12:38:03Z","labels":[{"id":"LA_kwDOInL6Hs8AAAABJH7zkA","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":165,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Failed decoding parameters","updatedAt":"2023-12-11T13:25:43Z","url":"https://github.com/temporalio/sdk-dotnet/issues/165"}
