{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"### Describe the bug\n\nIn rare situations, `Temporalio.Tests.Worker.WorkerTuningTests.CanRunWith_CustomSlotSupplier` fails with:\n\n```\n  Failed Temporalio.Tests.Worker.WorkerTuningTests.CanRunWith_CustomSlotSupplier [199 ms]\n  Error Message:\n   Assert.Equal() Failure\nExpected: 27\nActual:   28\n  Stack Trace:\n     at Temporalio.Tests.Worker.WorkerTuningTests.CanRunWith_CustomSlotSupplier() in /home/runner/work/sdk-dotnet/sdk-dotnet/tests/Temporalio.Tests/Worker/WorkerTuningTests.cs:line 227\n--- End of stack trace from previous location ---\n  Standard Output Messages:\n [2025-10-24 19:04:36Z] info: Temporalio.Worker.TemporalWorker[0]\n       User task completed, shutting down\n [2025-10-24 19:04:36Z] info: Temporalio.Worker.ActivityWorker[0]\n       Beginning activity worker shutdown, will wait 00:00:00 before cancelling 0 activity instance(s)\n [2025-10-24 19:04:36Z] warn: Temporalio.Worker.TemporalWorker[0]\n       Worker finalization failed\n System.InvalidOperationException: Cannot finalize, expected 1 reference, got 2\n    at Temporalio.Bridge.Worker.FinalizeShutdownAsync() in /home/runner/work/sdk-dotnet/sdk-dotnet/src/Temporalio/Bridge/Worker.cs:line 448\n    at Temporalio.Worker.TemporalWorker.ExecuteInternalAsync(Func`1 untilComplete, CancellationToken stoppingToken) in /home/runner/work/sdk-dotnet/sdk-dotnet/src/Temporalio/Worker/TemporalWorker.cs:line 437\n```","closedAt":"2026-01-22T17:09:15Z","comments":[{"id":"IC_kwDOInL6Hs7W1m0d","author":{"login":"jmaeagle99"},"authorAssociation":"MEMBER","body":"Repro'd in https://github.com/temporalio/sdk-dotnet/actions/runs/19876427208/job/56964817974?pr=569","createdAt":"2025-12-02T23:26:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HEART","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-dotnet/issues/550#issuecomment-3604376861","viewerDidAuthor":false}],"createdAt":"2025-10-24T19:53:54Z","labels":[{"id":"LA_kwDOInL6Hs8AAAABJH7zkA","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":550,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Investigate `CanRunWith_CustomSlotSupplier` flake","updatedAt":"2026-01-22T17:09:15Z","url":"https://github.com/temporalio/sdk-dotnet/issues/550"}
