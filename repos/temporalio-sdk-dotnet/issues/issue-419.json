{"assignees":[],"author":{"id":"MDQ6VXNlcjE2MzU0ODUz","is_bot":false,"login":"neiljohari","name":"Neil Johari"},"body":"### Is your feature request related to a problem? Please describe.\n\nI keep running into cases where if I have a service object that manipulates workflow handles, I cannot fake / mock it because `WorkflowHandle` is a record that doesn't inherit from an interface & the methods on it aren't `virtual`, so a dynamic interceptor (like the one FakeItEasy uses) cannot intercept these methods. \n\n### Describe the solution you'd like\n\nI think my problems would be solved if we marked methods on WorkflowHandle as `virtual`, or had it implement an interface.\n\n### Additional context\n\nI understand there are some aspects of Temporal where faking/mocking is discouraged in favor of integration style tests. I think this is a fair point for testing Workflows & Activities. \n\nI'm not sure if that's the rationale for making WorkflowHandle unmockable, but if it is I don't think that philosophy should be applied to WorkflowHandle. \n\nFor example, I may have a service object with a method that takes in a request, parses something out, then gets a `WorkflowHandle` and signals the workflow. As a unit test, it'd be great to be able to assert that \"given some request to my service object, a call to a `WorkflowHandle` is made to signal with input parameters matching XYZ\" but that currently seems quite difficult.\n\n\n","closedAt":"2025-04-09T20:41:06Z","comments":[{"id":"IC_kwDOInL6Hs6hPaV4","author":{"login":"mehaKumar"},"authorAssociation":"NONE","body":"+1 thanks for starting this convo Neil!","createdAt":"2025-03-06T23:34:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/419#issuecomment-2705171832","viewerDidAuthor":false},{"id":"IC_kwDOInL6Hs6hTUga","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> I think my problems would be solved if we marked methods on WorkflowHandle as virtual, or had it implement an interface.\n\nWe have tried thus far to either make a method virtual or allow it to be intercepted. So the final non-typesafe overload of `GetResultAsync` _is_ virtual, but `SignalAsync` can be intercepted using a client interceptor. We will look into making the non-typesafe overload of `SignalAsync` virtual soon, but in the meantime, do interceptors work for you?","createdAt":"2025-03-07T11:19:20Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-dotnet/issues/419#issuecomment-2706196506","viewerDidAuthor":false}],"createdAt":"2025-03-06T23:25:24Z","labels":[{"id":"LA_kwDOInL6Hs8AAAABJH7znQ","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":419,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Requesting that WorkflowHandle's members are marked virtual or inherit from interface","updatedAt":"2025-04-09T20:41:06Z","url":"https://github.com/temporalio/sdk-dotnet/issues/419"}
