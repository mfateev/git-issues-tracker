{"assignees":[],"author":{"id":"MDQ6VXNlcjI4MDUy","is_bot":false,"login":"st3fan","name":"Stefan Arentz"},"body":"On a Ubuntu 24.04 ARM64 host I am trying to run the unit test from https://github.com/temporalio/edu-102-python-code/blob/main/exercises/testing-code/solution/tests/test_workflow.py\r\n\r\nIt fails with `RuntimeError: Failed starting test server: HTTP status client error (404 Not Found) for url (https://temporal.download/temporal-test-server/default?arch=arm64&platform=linux&sdk-name=sdk-python&sdk-version=1.8.0)`  which looks like it is trying to download a version of the test server that does not exist.\r\n\r\nThe full output of the failing test is as follows:\r\n\r\n```\r\nruntime = <temporalio.bridge.runtime.Runtime object at 0xfc783c4bccb0>\r\nconfig = TestServerConfig(existing_path=None, sdk_name='sdk-python', sdk_version='1.8.0', download_version='default', download_dest_dir=None, port=None, extra_args=[])\r\n\r\n    @staticmethod\r\n    async def start_test_server(\r\n        runtime: temporalio.bridge.runtime.Runtime, config: TestServerConfig\r\n    ) -> EphemeralServer:\r\n        \"\"\"Start a test server instance.\"\"\"\r\n        return EphemeralServer(\r\n>           await temporalio.bridge.temporal_sdk_bridge.start_test_server(\r\n                runtime._ref, config\r\n            )\r\n        )\r\nE       RuntimeError: Failed starting test server: HTTP status client error (404 Not Found) for url (https://temporal.download/temporal-test-server/default?arch=arm64&platform=linux&sdk-name=sdk-python&sdk-version=1.8.0)\r\n\r\n.venv/lib/python3.12/site-packages/temporalio/bridge/testing.py:67: RuntimeError\r\n=================================================== short test summary info ===================================================\r\nFAILED workflows_test.py::test_greet_workflow - RuntimeError: Failed starting test server: HTTP status client error (404 Not Found) for url (https://temporal.download/tem...\r\n```\r\n","closedAt":"2025-02-06T22:48:05Z","comments":[{"id":"IC_kwDOGusT1c6Yn3ds","author":{"login":"st3fan"},"authorAssociation":"NONE","body":"I noticed that I am one SDK release behind, but changing the version number in the URL from `1.8.0` to `1.9.0` still results in a 404.","createdAt":"2024-12-24T03:20:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/716#issuecomment-2560587628","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c6Yn4Sy","author":{"login":"st3fan"},"authorAssociation":"NONE","body":"I tried `WorkflowEnvironment.start_time_skipping(test_server_existing_path=\"/usr/local/bin/temporal\")`  but I think it expects a different kind of server as that will fail with `unknown command` errors from temporal.","createdAt":"2024-12-24T03:26:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/716#issuecomment-2560591026","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c6ZY28y","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"This is a known limitation with the time-skipping test server. Currently the time-skipping test server does not work on ARM. From the README at https://github.com/temporalio/sdk-python?tab=readme-ov-file#testing (added at #379):\r\n\r\n> NOTE: The time-skipping test environment does not work on ARM. The SDK will try to download the x64 binary on macOS for use with the Intel emulator, but for Linux or Windows ARM there is no proper time-skipping test server at this time.","createdAt":"2025-01-06T16:11:04Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/716#issuecomment-2573430578","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c6dbvoi","author":{"login":"dandavison"},"authorAssociation":"MEMBER","body":"@st3fan it looks like this was solved/answered, so I'm going to close this. Let us know if there's more we can do.","createdAt":"2025-02-06T22:48:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/716#issuecomment-2641295906","viewerDidAuthor":false}],"createdAt":"2024-12-24T03:16:57Z","labels":[{"id":"LA_kwDOGusT1c7gQgHK","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":716,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Test server for ARM64 not available (404)","updatedAt":"2025-02-06T22:48:06Z","url":"https://github.com/temporalio/sdk-python/issues/716"}
