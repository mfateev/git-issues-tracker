{"assignees":[],"author":{"id":"MDQ6VXNlcjU3NDc4ODYx","is_bot":false,"login":"AmirRezaSobhdel","name":""},"body":"I have a **state_dict** instance attribute in my WorkFlow class and I want it to be passed as an argument to the activity to then be updated in the activity like this :\r\n\r\n```\r\n    @activity.defn\r\n    async def compose_greeting(name, state) -> str:\r\n        state['running_activity'] = \"name_of_this_activity\"\r\n        return name\r\n```\r\n```\r\n    @workflow.defn\r\n    class GreetingWorkflow(BaseWorkflow):\r\n        def __init__(self):\r\n            self.state_dict = dict()\r\n        @workflow.run\r\n        async def run(self) -> str:\r\n            res = await workflow.execute_activity(\r\n                compose_greeting,\r\n                args=['amirreza', self.state],\r\n                start_to_close_timeout=timedelta(seconds=10),\r\n            )\r\n            print(self.state_dict)\r\n            return res\r\n```\r\n\r\nbut it appears that the argument pass of the state_dict is not reference-based and the changes I make to it in the activity, won't apply to the **self.state_dict** inside the WorkFlow class.\r\n\r\nhow can I get this to work?\r\n\r\nMy final purpose is to create a BaseActivity class which my callable activity classes inherit this `state['running_activity'] = \"name_of_this_activity\"` functionality from and update the **self.state_dict** when they are executed.\r\n","closedAt":"2023-02-17T14:20:03Z","comments":[{"id":"IC_kwDOGusT1c5VN0Ac","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"This cannot be done. Activities may not even run on the same machine. Activities and workflows are intentionally completely separate things that run in separate place that serialize the data sent between them.\r\n\r\nIf you want to relay information back to the workflow from the activity, you can do it via the return value or via signals.\r\n\r\nIf unsure how to model your use case onto workflows and activities, including how to pass state, feel free to ask in the forums or on public Slack.","createdAt":"2023-02-14T12:39:21Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-python/issues/274#issuecomment-1429684252","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c5VhARo","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Closing issue as it was just a question","createdAt":"2023-02-17T14:20:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/274#issuecomment-1434715240","viewerDidAuthor":false}],"createdAt":"2023-02-14T06:58:10Z","labels":[{"id":"LA_kwDOGusT1c7gQgHN","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":274,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":4}}],"state":"CLOSED","title":"mutate workflow instance attributes from within activities that it executes","updatedAt":"2023-02-17T14:20:04Z","url":"https://github.com/temporalio/sdk-python/issues/274"}
