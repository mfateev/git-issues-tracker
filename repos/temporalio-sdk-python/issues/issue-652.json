{"assignees":[],"author":{"id":"MDQ6VXNlcjExODA2Mjk1","is_bot":false,"login":"andersio","name":"Anders Ha"},"body":"### What are you really trying to do?\r\n\r\nIn a deployment script, compare a `Schedule` on the server to a proposed `Schedule`, and skip schedule updates as needed.\r\n\r\n### Describe the bug\r\n\r\nWhen comparing two `Schedule`s that differ only in their `ScheduleOverlapPolicy`, `Schedule.__eq__` returns true.\r\n\r\nThis seems to be caused by `ScheduleOverlapPolicy`, where every enum case apparently equals to any cases according to `ScheduleOverlapPolicy.__eq__`, even though the underlying values are different.\r\n\r\nFor some reason, `ScheduleOverlapPolicy` is both a dataclass and an IntEnum. Seems like the rare combination might have caused the behaviour here?\r\n\r\n### Minimal Reproduction\r\n\r\n```python\r\nfrom temporalio.client import ScheduleOverlapPolicy\r\n\r\nprint(ScheduleOverlapPolicy.SKIP == ScheduleOverlapPolicy.TERMINATE_OTHER)\r\n# console: True\r\n\r\nprint(int(ScheduleOverlapPolicy.SKIP) == int(ScheduleOverlapPolicy.TERMINATE_OTHER))\r\n# console: False\r\n\r\nprint(ScheduleOverlapPolicy.SKIP.value == ScheduleOverlapPolicy.TERMINATE_OTHER.value)\r\n# console: False\r\n```\r\n\r\n### Environment/Versions\r\n\r\nPython 3.11.7\r\n\r\n```\r\n name         : temporalio             \r\n version      : 1.7.0                  \r\n description  : Temporal.io Python SDK \r\n\r\ndependencies\r\n - protobuf >=3.20\r\n - types-protobuf >=3.20\r\n - typing-extensions >=4.2.0,<5.0.0\r\n```\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n","closedAt":null,"comments":[{"id":"IC_kwDOGusT1c6Nzo3l","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> For some reason, ScheduleOverlapPolicy is both a dataclass and an IntEnum\r\n\r\nThis was a mistake on our part and was fixed in #628 and therefore the fix is in 1.7.1. Can you confirm?","createdAt":"2024-09-27T12:08:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/652#issuecomment-2379124197","viewerDidAuthor":false}],"createdAt":"2024-09-27T08:53:30Z","labels":[{"id":"LA_kwDOGusT1c7gQgHK","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":652,"reactionGroups":[],"state":"OPEN","title":"[Bug] `ScheduleOverlapPolicy` has broken __eq__","updatedAt":"2024-09-27T12:08:09Z","url":"https://github.com/temporalio/sdk-python/issues/652"}
