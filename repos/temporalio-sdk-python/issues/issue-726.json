{"assignees":[],"author":{"id":"MDQ6VXNlcjY4ODc3MzQx","is_bot":false,"login":"mattylight22","name":"Matt Nick"},"body":"### Describe the solution you'd like\r\n\r\nCurrently the converter looks for the `parse_obj` method for Pydantic conversions, this method has been deprecated in favor of `model_validate`.\r\n\r\nThe converter should default to looking for the `model_validate` method and if it doesn't exist fallback to `parse_obj`. This would allow for an improvement without a breaking change.\r\n\r\n\r\n### Suggested Code Update ðŸ‘€\r\nReplace lines 1526-1536 of `converter.py`\r\n```python\r\n# Handle converting to Pydantic models supporting both V1 and V2 syntax.\r\n# Default to V2's model_validate method, else fall back to V1's parse_obj.\r\n# Methods must be either @staticmethod or @classmethod to be used.\r\nfor method_name in (\"model_validate\", \"parse_obj\"):\r\n    attr = inspect.getattr_static(hint, method_name, None)\r\n    if isinstance(attr, (classmethod, staticmethod)):\r\n        if not isinstance(value, dict):\r\n            raise TypeError(\r\n                f\"Cannot convert to {hint}, value is {type(value)} not dict\"\r\n            )\r\n        return getattr(hint, method_name)(value)\r\n```\r\n\r\nðŸ™ (love the work y'all do)","closedAt":"2025-01-13T13:09:55Z","comments":[{"id":"IC_kwDOGusT1c6aM3t6","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> Currently the converter looks for the parse_obj method for Pydantic conversions, this method has been deprecated in favor of model_validate.\r\n\r\nThe old behavior of the SDK working with Pydantic out of the box has been deprecated in favor of the custom converter approach shown in the sample. Re https://github.com/temporalio/sdk-python?tab=readme-ov-file#data-conversion:\r\n\r\n> * Any class with a `dict()` method and a static `parse_obj()` method, e.g. [Pydantic models](https://pydantic-docs.helpmanual.io/usage/models)\r\n>   * The default data converter is deprecated for Pydantic models and will warn if used since not all fields work. See [this sample](https://github.com/temporalio/samples-python/tree/main/pydantic_converter) for the recommended approach.\r\n\r\nBut this is just V1. Overall this issue is a duplicate of #621. We hope to build official in-SDK Pydantic support in the near term because we recognize Pydantic is far too difficult to use currently.","createdAt":"2025-01-13T13:09:55Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/726#issuecomment-2587065210","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c6e7sn0","author":{"login":"dandavison"},"authorAssociation":"MEMBER","body":"Hi @mattylight22, the latest version of the SDK now has official Pydantic (v2) support: https://github.com/temporalio/sdk-python/releases/tag/1.10.0","createdAt":"2025-02-18T17:49:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/726#issuecomment-2666449396","viewerDidAuthor":false}],"createdAt":"2025-01-11T04:35:15Z","labels":[{"id":"LA_kwDOGusT1c7gQgHN","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":726,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Pydantic V2 support in converter","updatedAt":"2025-02-18T17:49:08Z","url":"https://github.com/temporalio/sdk-python/issues/726"}
