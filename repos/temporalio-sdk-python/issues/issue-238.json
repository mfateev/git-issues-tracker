{"assignees":[],"author":{"id":"MDQ6VXNlcjE1MDY3Mjgy","is_bot":false,"login":"niros1","name":""},"body":"\r\nwhen run a workflow with vscode debugger attach I get the flowwing error as soon a workflow start.\r\n\r\n```File \"/usr/local/lib/python3.7/site-packages/debugpy/_vendored/pydevd/pydevd.py\", line 1715, in process_internal_commands\r\n    int_cmd.do_it(self)\r\n  File \"/usr/local/lib/python3.7/site-packages/debugpy/_vendored/pydevd/_pydevd_bundle/pydevd_comm.py\", line 542, in do_it\r\n    self.method(dbg, *self.args, **self.kwargs)\r\n  File \"/usr/local/lib/python3.7/site-packages/debugpy/_vendored/pydevd/_pydevd_bundle/pydevd_constants.py\", line 511, in new_func\r\n    with warnings.catch_warnings():\r\n  File \"/usr/local/lib/python3.7/warnings.py\", line 458, in __init__\r\n    self._module = sys.modules['warnings'] if module is None else module\r\n  File \"/usr/local/lib/python3.7/site-packages/temporalio/worker/workflow_sandbox/_importer.py\", line 393, in __getitem__\r\n    return self.current[key]\r\nKeyError: 'warnings'\r\n```\r\n\r\n\r\n\r\n### Environment/Versions\r\n\r\n<!-- Please complete the following information where relevant. -->\r\n\r\n- OS and processor: [Linux]\r\n- Temporal Version: Python sdk 0.1b4\r\n- Are you using Docker or Kubernetes or building Temporal from source? Nor\r\n","closedAt":null,"comments":[{"id":"IC_kwDOGusT1c5RrHmv","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"I will investigate this as part of https://github.com/temporalio/sdk-python/issues/213. In the meantime you can disable the sandbox during debug (you may also want to set `debug=True` for the worker so you don't hit deadlock timeouts).","createdAt":"2023-01-03T21:48:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/238#issuecomment-1370257839","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c5RsawE","author":{"login":"niros1"},"authorAssociation":"NONE","body":"10X a lot - I will try it and update","createdAt":"2023-01-04T08:10:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/238#issuecomment-1370598404","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c5RtUsO","author":{"login":"niros1"},"authorAssociation":"NONE","body":"workflow_runner=workflow_instance.UnsandboxedWorkflowRunner()\r\nWorkaround it.","createdAt":"2023-01-04T11:54:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HOORAY","users":{"totalCount":3}}],"url":"https://github.com/temporalio/sdk-python/issues/238#issuecomment-1370835726","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c5v8KqN","author":{"login":"MauSant"},"authorAssociation":"NONE","body":"> workflow_runner=workflow_instance.UnsandboxedWorkflowRunner() Workaround it.\r\n\r\nThank you!\r\n\r\nIt worked for me with the following code: \r\n\r\n```\r\nfrom temporalio.client import Client  \r\nfrom temporalio.worker import Worker, UnsandboxedWorkflowRunner  \r\n\r\nWorker(\r\n        client,\r\n        task_queue=some_task_queue,\r\n        activities=[],\r\n        workflows=[SomeWorkflow],\r\n        debug_mode=True,\r\n        workflow_runner=UnsandboxedWorkflowRunner()\r\n    ):\r\n\r\n\r\n\r\n\r\n","createdAt":"2024-01-05T02:37:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":5}}],"url":"https://github.com/temporalio/sdk-python/issues/238#issuecomment-1878043277","viewerDidAuthor":false},{"id":"IC_kwDOGusT1c6T26ya","author":{"login":"challapradyumna"},"authorAssociation":"NONE","body":"Created a new worker bypassing the `_pydevd_bundle` module. Works as of now. \r\n\r\n```\r\ndef new_sandbox_runner() -> SandboxedWorkflowRunner:\r\n    # TODO(cretz): Use with_child_unrestricted when https://github.com/temporalio/sdk-python/issues/254\r\n    # is fixed and released\r\n    invalid_module_member_children = dict(\r\n        SandboxRestrictions.invalid_module_members_default.children\r\n    )\r\n    del invalid_module_member_children[\"datetime\"]\r\n    return SandboxedWorkflowRunner(\r\n        restrictions=dataclasses.replace(\r\n            SandboxRestrictions.default.with_passthrough_modules(\"_pydevd_bundle\"),\r\n            invalid_module_members=dataclasses.replace(\r\n                SandboxRestrictions.invalid_module_members_default,\r\n                children=invalid_module_member_children,\r\n            ),\r\n        )\r\n    )\r\n```\r\n\r\nused the above as a workflow runner as below\r\n\r\n```\r\n   worker = Worker(\r\n        client,\r\n        workflow_runner=new_sandbox_runner(),\r\n        task_queue=\"queue\",\r\n        workflows=[Workflow],\r\n        activities=[activity],\r\n        max_concurrent_workflow_tasks = 1,\r\n        max_concurrent_activities= 1\r\n    )\r\n```","createdAt":"2024-11-16T16:39:27Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HEART","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-python/issues/238#issuecomment-2480647322","viewerDidAuthor":false}],"createdAt":"2023-01-03T21:38:49Z","labels":[{"id":"LA_kwDOGusT1c7gQgHK","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":238,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":3}}],"state":"OPEN","title":"[Bug] Can't debugging workflow using vscode","updatedAt":"2024-11-16T16:40:38Z","url":"https://github.com/temporalio/sdk-python/issues/238"}
