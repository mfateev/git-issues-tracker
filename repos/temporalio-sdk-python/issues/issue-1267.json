{"assignees":[],"author":{"id":"MDQ6VXNlcjQzMjE4NjI3","is_bot":false,"login":"marcoriopel","name":""},"body":"### What are you really trying to do?\nAdd some logs to query functions\n\n### Describe the bug\nWhen adding logs to a query function using the provided replay safe logger, it doesn't log anything.\n\nThe log below will always be dropped:\n```\nfrom temporalio import workflow\n\n@workflow.defn\nclass TestWorkflow:\n    @workflow.run\n    async def run(self) -> bool:\n       return True\n    \n    @workflow.query\n    def get_test(self) -> str:\n        workflow.logger.info(\"Query received\")\n        return \"Test\"\n\n```\n\nIt seems like `workflow.unsafe.is_replaying()` always returns True when in the context of a query. This is used by the replay safe logger to determine if to drop logs or not so I assume this is why we have this behaviour.\n","closedAt":null,"comments":[],"createdAt":"2026-01-08T15:16:55Z","labels":[{"id":"LA_kwDOGusT1c7gQgHK","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1267,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"OPEN","title":"[Bug] Logs not emitted during workflow queries","updatedAt":"2026-01-08T15:18:22Z","url":"https://github.com/temporalio/sdk-python/issues/1267"}
