{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"### Describe the solution you'd like\n\nFailure sizes are limited server side. Since Python 3.11, https://peps.python.org/pep-0657/ has been adding a bunch of extra stuff to tracebacks like the code that is failing and the ascii underlines of where. This bloats the traceback considerably causing it to be more likely to overflow the server side limit.\n\nWe should allow people to not add this extra data. Unfortunately a quick glance seems to show this cannot be done on a case-by-case basis, the setting is global. So we may have to walk the frames and build our own stack trace. The implementer will have to research this and will have to decide whether this is opt-in behavior or opt-out.\n\nThis is separate but related to the feature to partially truncate stack traces at https://github.com/temporalio/features/issues/597.\n","closedAt":"2025-04-03T20:41:35Z","comments":[{"id":"IC_kwDOGusT1c6lg7Wz","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"After research, this just adds `^` and `~` under code lines which we don't believe contributes _too_ significantly to stack trace size. If this is a concern for users, per https://docs.python.org/3/whatsnew/3.11.html#whatsnew311-pep657, they can set `PYTHONNODEBUGRANGES` env var or `-X no_debug_ranges` cmd arg.\n\nClosing as won't do.","createdAt":"2025-04-03T20:41:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-python/issues/765#issuecomment-2776872371","viewerDidAuthor":false}],"createdAt":"2025-02-12T21:58:45Z","labels":[{"id":"LA_kwDOGusT1c7gQgHN","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":765,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Allow failures to have the traditional pre-3.11 traceback with less information","updatedAt":"2025-04-03T20:41:35Z","url":"https://github.com/temporalio/sdk-python/issues/765"}
