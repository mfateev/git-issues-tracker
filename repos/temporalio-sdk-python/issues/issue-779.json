{"assignees":[],"author":{"id":"MDQ6VXNlcjE5MTIwMjg=","is_bot":false,"login":"spacether","name":"Justin Black"},"body":"### Is your feature request related to a problem? Please describe.\n\nHow about adding type checking on workflow_execute activity when a variable number of positional args exist in the callable activity?\nRight now the args are not type checked, Sequence[Any] is allowed in\n\n### Describe the solution you'd like\n\nUse TypedVarTupe to define *args, delete the arg input.\n\n### Additional context\n\nI got this working with this code which would go in the workflow module\n```\nTs = typing.TypeVarTuple(\"Ts\")\n\nasync def execute_activity(\n    activity: Union[\n        typing.Callable[[*Ts], ReturnType],\n        typing.Callable[[], ReturnType],\n    ],\n    *args: *Ts,\n    task_queue: Optional[str] = None,\n    result_type: Optional[Type] = None,\n    schedule_to_close_timeout: Optional[timedelta] = None,\n    schedule_to_start_timeout: Optional[timedelta] = None,\n    start_to_close_timeout: Optional[timedelta] = None,\n    heartbeat_timeout: Optional[timedelta] = None,\n    retry_policy: Optional[temporalio.common.RetryPolicy] = None,\n    cancellation_type: ActivityCancellationType = ActivityCancellationType.TRY_CANCEL,\n    activity_id: Optional[str] = None,\n    versioning_intent: Optional[VersioningIntent] = None,\n) -> ReturnType:\n```\n\nPros:\n- this works and enforces type checking for one or more positional argument inputs\n\nCons:\n- it only works for Python 3.11 or 3.12 and higher\n- it is a breaking change and I think requires remove of the arg argument in workflow.execute_activity\n\nSee https://stackoverflow.com/questions/79476595/is-it-possible-to-type-hint-a-callable-that-takes-positional-arguments-only-usin\n\n### Other Apllications\n- a fix like this would be great for signals, updates, and queries too\n","closedAt":"2025-03-09T03:40:21Z","comments":[{"id":"IC_kwDOGusT1c6hTvCm","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> it only works for Python 3.11 or 3.12 and higher [...] it is a breaking change and I think requires remove of the arg argument in workflow.execute_activity\n\nThese limitations unfortunately mean we cannot do them. But we suggest only using single-argument items anyways as dataclasses that can get default fields added to them in a compatible manner. This is why our type-safe overloads only focus on no-param/single-param items across the codebase.","createdAt":"2025-03-07T12:15:51Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-python/issues/779#issuecomment-2706305190","viewerDidAuthor":false}],"createdAt":"2025-03-01T03:58:56Z","labels":[{"id":"LA_kwDOGusT1c7gQgHN","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":779,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Adding type checking on workflow_execute activity when a variable number of positional args exist in the callable activity","updatedAt":"2025-03-10T13:50:51Z","url":"https://github.com/temporalio/sdk-python/issues/779"}
