{"assignees":[],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nThe current server configuration takes a directory and an environment name, supports merging multiple files and requires separate files for static and dynamic config.\r\n\r\nThis complexity hurts the developer experience and is the reason we don't expose server configuration in the Temporal CLI.\r\n\r\n**Describe the solution you'd like**\r\n\r\nCome up with a clean config structure that can be contained in a single file.\r\n\r\n**Additional context**\r\n\r\nExtra care should be taken if we migrate to a new format to avoid breaking existing users.","closedAt":null,"comments":[{"id":"IC_kwDODNqesM6NvUFN","author":{"login":"dnr"},"authorAssociation":"MEMBER","body":"Straw-man proposal for dynamic config part:\r\n\r\n- Assume that static config has been collapsed to only use one file (I'm not proposing details for that part).\r\n- If the static config file contains a top-level key `dynamicConfig`, then the value of that key is used exactly the same way the dynamic config file is used now, including reloading on change. (Of course, changes to any other keys in the file will not take effect without restart.)\r\n- If the config also has a value for `dynamicConfigClient.filepath`, then an error is raised on startup.\r\n- The value of `dynamicConfigClient.pollInterval` is still respected.\r\n- Currently `dynamicConfigClient.pollInterval` is required, with a minimum of 5s. This would be changed so it's not required anymore, defaults to infinite (do not reload), same minimum.\r\n","createdAt":"2024-09-26T21:42:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6561#issuecomment-2377990477","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6N1YA0","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Overall SGTM. I'd maybe just call the top level key `dynamic` because you're already in the context of `config` but that's mostly nitpicking.","createdAt":"2024-09-27T15:44:57Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6561#issuecomment-2379579444","viewerDidAuthor":false}],"createdAt":"2024-09-26T00:47:43Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":6561,"reactionGroups":[],"state":"OPEN","title":"Simple configuration structure","updatedAt":"2024-09-27T15:44:57Z","url":"https://github.com/temporalio/temporal/issues/6561"}
