{"assignees":[],"author":{"id":"MDQ6VXNlcjk5NjY4MQ==","is_bot":false,"login":"andrewloux","name":"Andrew Louis"},"body":"## Expected Behavior\r\n\r\nRetries should start respecting the initial delay and backoff coefficient, and then but the distance between retries is capped to the `MaximumInterval` value which is 1 hour in our case.\r\n\r\n## Actual Behavior\r\n\r\nAll retries are 1 hour apart. \r\n\r\n## Steps to Reproduce the Problem\r\n\r\n1. Make an Activity fail. Configure the Activity as so:\r\n\r\n```\r\n  10  ActivityTaskScheduled                            \r\n  {ActivityId:10,\r\n    ActivityType:{Name:waitForCompletionActivity},\r\n    TaskQueue:{Name:api, Kind:Normal},\r\n    Input:[\"e1877661-2ce8-455b-b2d6-fb0c0cdfd98d_11\"],\r\n    ScheduleToCloseTimeout:24h0m0s, ScheduleToStartTimeout:5m0s,\r\n    StartToCloseTimeout:24h0m0s, HeartbeatTimeout:0s,\r\n    WorkflowTaskCompletedEventId:9, RetryPolicy:{InitialInterval:200ms,\r\n    BackoffCoefficient:2, MaximumInterval:1h0m0s, MaximumAttempts:10,\r\n    NonRetryableErrorTypes:[]}}\r\n ```\r\n\r\n2.  Run the Activity. \r\n\r\n3. Now try again without the `MaximimInterval` - the retries go back to normal and behave as expected\r\n\r\nNote that I haven't run in a Sandboxed environment.\r\n\r\n## Specifications\r\n\r\n  - Version: `temporalio/server:1.9.2`\r\n  - Platform: linux,amd64\r\n\r\nMore conversation: https://temporalio.slack.com/archives/CTRCR8RBP/p1624476720272300\r\n","closedAt":"2021-06-24T22:17:10Z","comments":[],"createdAt":"2021-06-23T19:57:09Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":1675,"reactionGroups":[],"state":"CLOSED","title":"Activity Retry Policy does not seem to be respected","updatedAt":"2021-06-24T22:17:10Z","url":"https://github.com/temporalio/temporal/issues/1675"}
