{"assignees":[],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"## Expected Behavior\r\nReset should work for all workflows. If a workflow timed out without any workflow task started event, it should just reset to its startWorkflowExecutionEvent.\r\n\r\n## Actual Behavior\r\nFrom Slack\r\n\r\nHi team! I'm trying to replay history of some of workflows. Some of them have events `WorkflowExecutionStarted -> DecisionTaskScheduled -> WorkflowExecutionTimedOut`\r\n```\r\n/usr/local/bin # ./cadence --ad cadence-frontend:7933 --do dikbm_integration_domain workflow reset -w 5f4baa91-8987-422b-97a4-1fed23d71204 -r f9f31434-4bbf-4094-a802-a0e706de7bf6 --reset_type LastDecision\r\nCompleted --reason \"restart timeout workflow\"\r\nresetType: LastDecisionCompleted\r\nGet DecisionFinishID failed\r\nError: getResetEventIDByType failed\r\nError Details: no DecisionFinishID\r\n('export CADENCE_CLI_SHOW_STACKS=1' to see stack traces)\r\n```\r\n\r\n","closedAt":"2023-05-24T00:55:42Z","comments":[{"id":"IC_kwDODNqesM5dAGUi","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Ran a sample workflow and made sure it timed out before having any WorkflowTaskCompleted Event. Running tctl workflow reset --reset_type LastWorkflow|FirstWorkflow reset the workflow to the corresponding WorkflowTaskScheduled event.","createdAt":"2023-05-24T00:55:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/494#issuecomment-1560306978","viewerDidAuthor":false}],"createdAt":"2020-07-02T15:54:49Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxNjIxMDMwNzg5","name":"good first issue","description":"Good for newcomers","color":"7057ff"},{"id":"MDU6TGFiZWwyMDE5NzgzNzUw","name":"API","description":"Issues/features involving the API","color":"3d910f"},{"id":"MDU6TGFiZWwyNTc2NTM1ODQ2","name":"difficulty: easy","description":"","color":"68d662"},{"id":"MDU6TGFiZWwzMTM4ODI4MTE3","name":"up-for-grabs","description":"Issues to consider for external contribution","color":"69CD90"}],"milestone":null,"number":494,"reactionGroups":[],"state":"CLOSED","title":"Reset to LastWorkflowTaskCompleted doesn't work for workflows without a single completed workflow task","updatedAt":"2023-05-24T00:55:42Z","url":"https://github.com/temporalio/temporal/issues/494"}
