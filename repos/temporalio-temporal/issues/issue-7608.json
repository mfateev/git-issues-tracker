{"assignees":[],"author":{"id":"MDQ6VXNlcjQ2NTE4NjM=","is_bot":false,"login":"shankarkc","name":""},"body":"## Expected Behavior\nAs a Temporal user, I should be able to utilize a GCP Objectstore bucket for archival with the permissions provided by the GCP Objectstore service. These permissions allow content creation within the bucket. \n\n## Actual Behavior\nArchival fails with a \"permission denied\" error because the necessary `storage.buckets.get` permission for the bucket itself is not included in the Objectstore binding.\n\n```\nXXXXX@YYYY.com does not have storage.buckets.get access to the Google Cloud Storage bucket. Permission 'storage.buckets.get' denied on resource (or it may not exist)., forbidden\"\n```\n\n## Steps to Reproduce the Problem\n\nCreate a service account with below IAMRoles and try to use that serviceAccount to temporal archival\n  - storage.objects.create\n  - storage.objects.get\n  - storage.objects.delete\n  - storage.objects.list\n\n## Specifications\nNA, All versions\n","closedAt":"2025-06-26T22:26:36Z","comments":[{"id":"IC_kwDODNqesM6q8m-c","author":{"login":"yycptt"},"authorAssociation":"MEMBER","body":"The gcp archiver implementation verifies if the bucket exists or not both at archive time and also when archival configuration is updated for a new/existing namespace. \nhttps://github.com/temporalio/temporal/blob/main/common/archiver/gcloud/history_archiver.go#L277\n\nIs adding `storage.buckets.get` permission not an option for you?\n\nThis is not a priority for us now unfortunately. Happy to take a contribution if this is important and adding permission is not an option.","createdAt":"2025-05-09T22:53:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7608#issuecomment-2868015004","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6zbjkD","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Closing this due to lack of interest.","createdAt":"2025-06-26T22:26:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7608#issuecomment-3010345219","viewerDidAuthor":false}],"createdAt":"2025-04-15T08:55:50Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"},{"id":"LA_kwDODNqesM743zS7","name":"archival","description":"","color":"494536"}],"milestone":null,"number":7608,"reactionGroups":[],"state":"CLOSED","title":"Archival Fails Due to Missing `storage.buckets.get` Permission in GCP Objectstore Binding","updatedAt":"2025-06-26T22:26:46Z","url":"https://github.com/temporalio/temporal/issues/7608"}
