{"assignees":[{"id":"MDQ6VXNlcjQ2NjcyMw==","login":"dnr","name":"David Reiss","databaseId":0}],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"Currently a workflow can be started with cron option. When specified the workflow on completion is not going to close, but schedule a next run according to schedule. This is very useful for modeling periodic jobs.\r\n\r\nFor variety of use cases (like polling for a result) it would be nice to specify cron on an activity. This would re execute the activity upon its completion. Another option is to support an ability to schedule the next invocation from the activity itself. Something like:\r\n`\r\nActivity.executeAgaintIn(Duration.ofMinutes(10));\r\n`\r\n","closedAt":null,"comments":[{"id":"MDEyOklzc3VlQ29tbWVudDYxMTM0NDE5Nw==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"Especially useful if we could trigger the workflow cron  immediately, regardless of cron schedule.","createdAt":"2020-04-09T05:58:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-611344197","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDYxMTcwMTI2Mg==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"@hazcod You can currently do it by sending a signal to a cron workflow which is waiting for its time to run.","createdAt":"2020-04-09T19:05:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-611701262","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDYxMTcxNjcyNg==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"@mfateev Hi maxim, do you mean via `SignalWithStart`? Or a `workflow.NewSelector(ctx).AddReceive` at the start of my workflow?","createdAt":"2020-04-09T19:39:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-611716726","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDYxMTgyMjE5Mw==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"It looks like I don't understand your question. I thought you asked how to force immediate execution of a cron workflow which is blocked waiting for its time to run. For such workflow sending normal signal to it from outside will force an immediate execution.\r\n\r\nIf you are asking about how to start cron workflow which is not running in non cron mode, then just don't pass cron parameter to the start method.\r\n","createdAt":"2020-04-10T00:54:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-611822193","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDYxMTkwNTI4NQ==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"@mfateev I have a workflow that I schedule via CronSchedule (later) indeed.\r\nBut how would a signal work here? Can you give an example?\r\nIt's unclear to me since the workflow wouldn't be running, right?","createdAt":"2020-04-10T06:50:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-611905285","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDYxMjEzMjkyNQ==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"You don't need to handle signal inside the workflow code. It would just force the server to start executing workflow code. \r\nThe tricky part is that the cron workflow instance exists even when it is waiting to execute in the future. So you can signal it using normal signalling techniques.","createdAt":"2020-04-10T17:27:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-612132925","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDYxMjQxODYxMQ==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"Could you give an example on how to signal a cron workflow to immediately start executing? I don’t quite see how. I’m looking at client.SignalWithStartWorkflow , would I just send a placeholder signal to just start it? (edited) ","createdAt":"2020-04-11T13:13:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-612418611","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDYxMjUyMDA1MA==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"Use client.SignalWorkflow to wake up already exising cron workflow which is waiting for its time to run.","createdAt":"2020-04-11T21:47:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-612520050","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDYxMjU5MTg1OA==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"@mfateev For the `WorkflowOptions` argument in `SignalWithStartWorkflow`, can that be the same as the cron workflow, thus containing the CronSchedule?\r\nOr should it not contain ChronSchedule to execute immediately?","createdAt":"2020-04-12T10:09:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-612591858","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDYxMjYyNzg2OA==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"If you just want to execute it immediately one time call StartWorkflow without cron schedule.","createdAt":"2020-04-12T14:49:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-612627868","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDcxMjc2MDAyMQ==","author":{"login":"simararneja"},"authorAssociation":"NONE","body":"@mfateev SignalWorkflow only seems to accept typed workflow stub, is there a  way to start the untyped ones ?","createdAt":"2020-10-20T10:39:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/130#issuecomment-712760021","viewerDidAuthor":false}],"createdAt":"2020-02-09T19:35:47Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5ODIxNjI0","name":"CRON","description":"","color":"4c0572"}],"milestone":null,"number":130,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":6}}],"state":"OPEN","title":"Add cron activity","updatedAt":"2023-03-03T20:23:27Z","url":"https://github.com/temporalio/temporal/issues/130"}
