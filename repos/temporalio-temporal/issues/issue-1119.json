{"assignees":[{"id":"MDQ6VXNlcjIyMzI1MjQ=","login":"alexshtin","name":"Alex Shtin","databaseId":0}],"author":{"id":"MDQ6VXNlcjQxNjYwOTI=","is_bot":false,"login":"ryanhall07","name":"Ryan Hall"},"body":"## Expected Behavior\r\nWorkflowExecutionInfo.ParentExecution should be set for child workflows. \r\n\r\n## Actual Behavior\r\nAt least ListOpenWorkflow returns a nil value for child workflows. \r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Execute a child workflow\r\n  1. Query ListOpenWorkflow\r\n\r\n## Specifications\r\n\r\n  - Version:1.4.1 w/ mysql persistence\r\n  - Platform: docker\r\n","closedAt":null,"comments":[{"id":"MDEyOklzc3VlQ29tbWVudDc0ODczNjAzNw==","author":{"login":"ryanhall07"},"authorAssociation":"NONE","body":"looks like it's missing when fetching from the db. not sure if it's supposed to be decorated later.\r\n\r\nhttps://github.com/temporalio/temporal/blob/a48274e22dc015d07575ddc7ddd6078ffaa218ad/common/persistence/sql/sqlVisibilityStore.go#L366","createdAt":"2020-12-21T03:25:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1119#issuecomment-748736037","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc0OTIzMTg1OQ==","author":{"login":"wxing1292"},"authorAssociation":"CONTRIBUTOR","body":"@ryanhall07 \r\n\r\nThanks for reporting this.\r\n\r\nThe parent execution info was incorrectly introduced when migrating from thrift to protobuf.\r\nPlease ignore that field for all list open / close workflow APIs.\r\n\r\nKeep this issue open in case we decide to introduce parent execution info to all visibility APIs in the future","createdAt":"2020-12-21T22:25:38Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1119#issuecomment-749231859","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3NjY3ODQ3Mw==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"`WorkflowExecutionInfo` proto struct is used in both `List*` APIs and `DescribeWorkflowExecution` API. There are few fields: `ParentExecution`, `AutoResetPoints`, and `ParentNamespaceId` which are assigned only for `DescribeWorkflowExecution` but not for `List*` because this fields are not stored in visibility database/Elasticsearch index. There are 3 approaches to fix this:\r\n1. Properly document existing behaviour with zero changes on a code side.\r\n2. Introduce another structure `WorkflowExecutionInfo` (i.e. `ListWorkflowExecutionInfo`) w/o these fields and use it for `List*` APIs. This can be done in a backward compatible way on the wire level but not on a code level (this struct is exposed via SDK).\r\n3. Store this information in visibility database/Elasticsearch index and properly fill it in `List*` APIs.","createdAt":"2021-07-08T19:10:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1119#issuecomment-876678473","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3NzU0Nzk1Ng==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"After offline discussion we decided to proceed with (3). I will add missing fields to visibility database/Elasticsearch index and fill up missing fields.","createdAt":"2021-07-10T03:14:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1119#issuecomment-877547956","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5Pwa_o","author":{"login":"tsurdilo"},"authorAssociation":"MEMBER","body":"@alexshtin hey just wanted to ask if there is any updates on this. we have users that are asking for this info","createdAt":"2022-12-05T20:03:21Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1119#issuecomment-1338093544","viewerDidAuthor":false}],"createdAt":"2020-12-21T03:21:30Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg0","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwyNTc2NTM1ODQ2","name":"difficulty: easy","description":"","color":"68d662"},{"id":"MDU6TGFiZWwzMTYzMjkyNDk4","name":"visibility","description":"","color":"4035BD"}],"milestone":null,"number":1119,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"OPEN","title":"ParentExecution not set in WorkflowExecutionInfo","updatedAt":"2023-03-03T20:22:31Z","url":"https://github.com/temporalio/temporal/issues/1119"}
