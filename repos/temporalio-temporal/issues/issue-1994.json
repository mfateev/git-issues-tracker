{"assignees":[{"id":"MDQ6VXNlcjQ2NjcyMw==","login":"dnr","name":"David Reiss","databaseId":0}],"author":{"id":"MDQ6VXNlcjQzNzY1MjEy","is_bot":false,"login":"pvolchak","name":"pvolchakpax8"},"body":"**Is your feature request related to a problem? Please describe.**\r\nCurrently there is no way to trigger a workflow in some time. There is support for cron workflows but if the workflow is taking up the whole time bracket then the workflow runs might be immediate.\r\n\r\n**Describe the solution you'd like**\r\nLet's consider a scenario of polling a lot of data from multiple data sources. I start a cron workflow that is supposed to run with a 10 minute interval. Let's say the workflow started it's execution. It completes pulling all the data in 9 minutes. Then cron triggers it again in 1 minute instead of in 10 minutes, which is correct, but not a desired behavior.\r\n\r\n**Describe alternatives you've considered**\r\nUsing some other cron or job mechanisms to identify when to start a non cron workflow\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM43d8_m","author":{"login":"dnr"},"authorAssociation":"MEMBER","body":"You're right that the behavior you want isn't possible with the current cron feature. We're working on redesigning that feature and will definitely take this use case into account.\r\n\r\nIn the meantime, there are a few ways to achieve that functionality with the current features:\r\n\r\nYou can use a simple loop: wrap the repeated logic followed by a sleep in a for loop that runs 100 times. After 100 or 1000 times, do continue-as-new to restart the workflow. The repeated logic could be included in that workflow itself, or as a child workflow that the parent starts and waits on.\r\n\r\nAlternatively, put a sleep at the beginning of the workflow and use continue-as-new each time.\r\n\r\nMake sure the workflow has an infinite execution and run timeout (the default). You could also add a workflow retry policy to ensure that it keeps running if the workflow somehow fails.","createdAt":"2021-09-29T22:43:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1994#issuecomment-930598886","viewerDidAuthor":false},{"id":"IC_kwDODNqesM43hD8d","author":{"login":"pvolchak"},"authorAssociation":"NONE","body":"the problem that i am facing with continue-as-new is its status. maybe its already in the working, but any time i see the status continue-as-new i have no idea if it gets to completed/error state, at least in the cron flow of things. Do you know of a way to fix/correct/modify that?","createdAt":"2021-09-30T15:13:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1994#issuecomment-931413789","viewerDidAuthor":false},{"id":"IC_kwDODNqesM43hIZ6","author":{"login":"dnr"},"authorAssociation":"MEMBER","body":"If you define an outer workflow that just does a loop around a child workflow plus sleep, and put your logic in the child workflow, you'll be able to see the status of each run. (The outer workflow will always be \"running\" or \"continued as new\".) You could even adjust the sleep time based on the result of the child if you want.","createdAt":"2021-09-30T15:32:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1994#issuecomment-931432058","viewerDidAuthor":false},{"id":"IC_kwDODNqesM43hW2X","author":{"login":"pvolchak"},"authorAssociation":"NONE","body":"that is fair. i will play with that. thanks a lot.","createdAt":"2021-09-30T16:46:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1994#issuecomment-931491223","viewerDidAuthor":false},{"id":"IC_kwDODNqesM49z1Cg","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Cron has been changed since 1.14 and the workflow is now complete with it actual state and not as continue-as-new.","createdAt":"2022-02-12T05:09:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1994#issuecomment-1036996768","viewerDidAuthor":false},{"id":"IC_kwDODNqesM499Wiy","author":{"login":"dnr"},"authorAssociation":"MEMBER","body":"The original request is a valid use case that isn't addressed by the current cron feature: run a workflow repeatedly, sleeping for a fixed period in between runs.\r\n\r\nI think we can address this in the new experience, so I'll keep it open until then (or we decide that a loop + child workflow is the best solution).","createdAt":"2022-02-14T19:56:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1994#issuecomment-1039493298","viewerDidAuthor":false}],"createdAt":"2021-09-29T21:46:42Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5ODIxNjI0","name":"CRON","description":"","color":"4c0572"}],"milestone":null,"number":1994,"reactionGroups":[],"state":"OPEN","title":"Cron tailgate-like workflow triggering (start a workflow in some time after it completes and not according to cron schedule) [Java]","updatedAt":"2023-03-03T20:21:02Z","url":"https://github.com/temporalio/temporal/issues/1994"}
