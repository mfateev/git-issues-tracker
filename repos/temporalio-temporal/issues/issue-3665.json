{"assignees":[{"id":"MDQ6VXNlcjIwNjgxMjQ=","login":"rodrigozhou","name":"Rodrigo Zhou","databaseId":0}],"author":{"id":"U_kgDOBdy3gg","is_bot":false,"login":"calum-stripe","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nMy use case is wanting to tag workflows with metadata based on an external system. For example, I want to run a cronjob (or another workflow) every minute which will check if a workflow has taken longer than X amounts of minutes time to finish running (the X value here is not available in the workflow or worker and only in this third party system so we couldn't just use a timer or search attributes in the workflow itself). I have access to the workflow ids because we can query Temporal with the client library. \r\n\r\n**Describe the solution you'd like**\r\nI would like the ability to update a workflows search attributes outside of the workflow context. Preferably with the ability to be able to update a set of workflows based on a query. For example we would like the ability to provide a query `ExecutionStatus='Failed'` and to update all the workflows with this. \r\n\r\n**Describe alternatives you've considered**\r\nI've considered storing the workflow id and the search attributes in another datastore but this feels wasteful when search attributes are so useful and accessible.\r\n\r\nhttps://temporalio.slack.com/archives/CTRCR8RBP/p1669332033386459\r\n- updating the ElasticSearch index manually using the ElasticSearch API directly.\r\n\r\n**Additional context**\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5PGJ8X","author":{"login":"calum-stripe"},"authorAssociation":"NONE","body":"Also just curious if this does get implemented how this will be impacted on cloud (will it be classed an action per workflow updated or per operation). ","createdAt":"2022-11-25T04:36:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3665#issuecomment-1327013655","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5PWg_S","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"@calum-stripe do you need to be able to update closed workflows as well as open ones?","createdAt":"2022-11-29T21:00:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3665#issuecomment-1331302354","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5z39gv","author":{"login":"Chrisbattarbee"},"authorAssociation":"NONE","body":"I'd like to be able to update closed workflows.\r\n\r\nWhen I add a new search attribute I'd like to migrate past workflows by setting the search attribute on the existing workflows","createdAt":"2024-02-14T15:21:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3665#issuecomment-1944049711","viewerDidAuthor":false}],"createdAt":"2022-11-25T04:08:54Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":3665,"reactionGroups":[],"state":"OPEN","title":"Update workflow search attributes outside of workflow context ","updatedAt":"2024-02-14T15:21:02Z","url":"https://github.com/temporalio/temporal/issues/3665"}
