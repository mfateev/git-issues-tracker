{"assignees":[],"author":{"id":"MDQ6VXNlcjEwODc0MQ==","is_bot":false,"login":"robzienert","name":"Rob Zienert"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nScenario: Performing a blue/green as part of a rollout of Temporal services themselves.\r\n\r\nAt Netflix, our model of a red/black is that when a new service version is deployed, the old one is put into a disabled state, rather than destroying old infrastructure. In this disabled state, a service is still \"hot\", but not performing work (serving requests, consuming queues or producing events, and so-on). \r\n\r\nAt a glance for the `frontend` service, deregistering the service from the load balancer appears to be adequate.\r\n\r\n**Describe the solution you'd like**\r\n\r\nIdeal: I'd like an extension point that would allow us to write a listener into the services themselves to actuate an enable/disabled state for the process, similar to what exists in `WorkerFactory` via `suspendPolling` and `enablePolling`.\r\n\r\nAlternative: An API to send a signal to the service process to enable/disable.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nWe're running Temporal, for the time being, on EC2 VMs. It's looking like what we'll need to do is write a sidecar that subscribes to Discovery status change events, which then send `sigstop` and `sigcont` on UP/DOWN. This solution is fine until we move our workload onto [Titus](https://netflix.github.io/titus/), at which point the only solution would be to teardown the service and re-provision in the case of a rollback.\r\n\r\n**Additional context**\r\n\r\nThis disabled state, as opposed to destroying infrastructure (killing containers, terminating an EC2 instance, etc) is a convention that consciously trades cost for operational agility: We would prefer to keep infrastructure in case of a rollback, we can do so as quickly as possible without having to wait for capacity allocation, service startup, warming, and so-on.","closedAt":"2024-03-16T00:43:03Z","comments":[{"id":"IC_kwDODNqesM4-WpIx","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"A relatively simple feature would be pausing/unpausing a specific workflow or activity task queue through the service API.","createdAt":"2022-02-19T23:20:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":3}},{"content":"HEART","users":{"totalCount":2}}],"url":"https://github.com/temporalio/temporal/issues/1012#issuecomment-1046123057","viewerDidAuthor":true},{"id":"IC_kwDODNqesM5ukpJT","author":{"login":"mathiarasan-e5"},"authorAssociation":"NONE","body":"Hi.. is there any update on this feature? One of our use cases needs pausing workflow and resuming it later.","createdAt":"2023-12-14T04:11:55Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":4}}],"url":"https://github.com/temporalio/temporal/issues/1012#issuecomment-1855099475","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5u1Uet","author":{"login":"Wenfeng-GAO"},"authorAssociation":"NONE","body":"Looking forward to this feature too. ","createdAt":"2023-12-18T02:56:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1012#issuecomment-1859471277","viewerDidAuthor":false},{"id":"IC_kwDODNqesM52f2VH","author":{"login":"csimonsson"},"authorAssociation":"NONE","body":"This feature would be very useful for our implementation, any updates?","createdAt":"2024-03-11T10:18:04Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1012#issuecomment-1988060487","viewerDidAuthor":false},{"id":"IC_kwDODNqesM53QiZc","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Close this one in favor of https://github.com/temporalio/temporal/issues/3006","createdAt":"2024-03-16T00:43:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1012#issuecomment-2000823900","viewerDidAuthor":false}],"createdAt":"2020-11-19T02:10:36Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyNTk0NTYwMDQy","name":"backlog","description":"","color":"0144E5"}],"milestone":null,"number":1012,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":23}},{"content":"EYES","users":{"totalCount":4}}],"state":"CLOSED","title":"Support pausing/resuming Temporal services' work","updatedAt":"2024-03-16T00:43:04Z","url":"https://github.com/temporalio/temporal/issues/1012"}
