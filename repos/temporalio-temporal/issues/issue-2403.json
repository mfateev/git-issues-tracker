{"assignees":[{"id":"MDQ6VXNlcjEyNjAyNTAy","login":"Ardagan","name":"Mikhail Gryzykhin","databaseId":0}],"author":{"id":"MDQ6VXNlcjcwNDUwMDM=","is_bot":false,"login":"Danprot","name":""},"body":"## Expected Behavior\r\nupdating packages for embedded temporal , from go.temporal.io/server v1.9.2 to  go.temporal.io/server v1.14.3\r\ngo mod tidy works fine\r\n\r\n## Actual Behavior\r\ngo mod tidy fails\r\ntemp_test imports\r\n        go.temporal.io/server/common/authorization imports\r\n        go.temporal.io/server/common/metrics imports\r\n        github.com/cactus/go-statsd-client/statsd loaded from github.com/cactus/go-statsd-client/statsd@v0.0.0-20200423205355-cb0885a1018c,\r\n        but go 1.16 would fail to locate it:\r\n        ambiguous import: found package github.com/cactus/go-statsd-client/statsd in multiple modules:\r\n        github.com/cactus/go-statsd-client v3.1.1+incompatible (.../go/pkg/mod/github.com/cactus/go-statsd-client@v3.1.1+incompatible/statsd)\r\n        github.com/cactus/go-statsd-client/statsd v0.0.0-20200423205355-cb0885a1018c (../go/pkg/mod/github.com/cactus/go-statsd-client/statsd@v0.0.0-20200423205355-cb0885a1018c)\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. use go.temporal.io/server v1.9.2 in code\r\n  sample:\r\n      package main\r\n      \r\n      import (\r\n\t      \"go.temporal.io/server/common/authorization\"\r\n\t      \"go.temporal.io/server/common/config\"\r\n\t      \"log\"\r\n      )\r\n      \r\n      func main() {\r\n\t      cfg := config.Authorization{}\r\n\t      _, err := authorization.GetAuthorizerFromConfig(&cfg)\r\n\t      if err != nil {\r\n\t\t      log.Println(err)\r\n\t      }\r\n      }\r\n  2. go get -u go.temporal.io/server\r\n  3. go mod tidy\r\n\r\n## Specifications\r\n\r\n  - Version: go version go1.17.5\r\n  - Platform: ubuntu 20 (same on windows)\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM48sg5O","author":{"login":"Danprot"},"authorAssociation":"NONE","body":"The issue can be fixed, using go mod tidy -compat=1.17 , but this is undesirable","createdAt":"2022-01-21T08:50:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2403#issuecomment-1018302030","viewerDidAuthor":false}],"createdAt":"2022-01-21T08:49:39Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":2403,"reactionGroups":[],"state":"OPEN","title":"import of github.com/cactus/go-statsd-client is ambiguous in go.temporal.io/server","updatedAt":"2023-03-03T20:20:33Z","url":"https://github.com/temporalio/temporal/issues/2403"}
