{"assignees":[],"author":{"id":"MDQ6VXNlcjg0NDExMDE0","is_bot":false,"login":"yiminc","name":"Yimin Chen"},"body":"We mark sticky task queue enabled in mutable state for each workflow when worker has sticky enabled. \r\nHowever, we don't clear that sticky flag when worker is gone. \r\n\r\nNew task will be dispatched to the sticky task queue that no poller is working on.\r\n\r\nWe could do something on matching when addTask, check if this is sticky queue, and no poller is polling from it in last x minutes, if so, add the task to non-sticky queue. When the task is picked by other worker, it will also update the sticky queue to the new worker.","closedAt":"2022-05-10T23:52:36Z","comments":[{"id":"IC_kwDODNqesM5C7_k7","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Fix by https://github.com/temporalio/temporal/pull/2811","createdAt":"2022-05-10T23:52:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2363#issuecomment-1123023163","viewerDidAuthor":false}],"createdAt":"2022-01-11T22:47:43Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":2363,"reactionGroups":[],"state":"CLOSED","title":"fix 5s delay in sticky task queue after worker is gone","updatedAt":"2022-05-10T23:52:37Z","url":"https://github.com/temporalio/temporal/issues/2363"}
