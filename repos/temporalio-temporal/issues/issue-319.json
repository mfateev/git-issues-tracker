{"assignees":[{"id":"MDQ6VXNlcjIxODY5Ng==","login":"markmark206","name":"Mark Markaryan","databaseId":0}],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"Reported by a customer:\r\n\r\n> After 4/5 days having left the system IDLE, without doing anything, the graphite/statsd container volume grew to 7/8GB size\r\n\r\nIMHO we should not include statsd container in the default development docker-compose. ","closedAt":"2020-07-13T23:46:07Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDYxNzkwNzE0Ng==","author":{"login":"markmark206"},"authorAssociation":"NONE","body":"Good point. I have recently removed `statsd` from `docker-compose-es.yml` (when cleaning it up while looking into `ElasticSearch` helm integration):\r\n\r\nhttps://github.com/temporalio/temporal/pull/311/files#diff-88f33e8e16988f6f86017093884fb3aaL7-L13\r\n\r\nI will address this in the remaining docker compose files in the near future.","createdAt":"2020-04-22T17:04:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/319#issuecomment-617907146","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDY1Njc3ODk4MQ==","author":{"login":"markmark206"},"authorAssociation":"NONE","body":"apparently, removing statsd from docker-compose breaks things, as reported by Pedro (thank you for the report!) https://community.temporal.io/t/issues-running-docker-compose-for-mysql-in-local-environment/123","createdAt":"2020-07-10T16:56:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/319#issuecomment-656778981","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDY1NzM4OTQ1Nw==","author":{"login":"kkcmadhu"},"authorAssociation":"NONE","body":"is custom coding required for extracting metrics through prometheus or  will temporal include this by default?","createdAt":"2020-07-13T06:44:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/319#issuecomment-657389457","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDY1NzcyOTgzNA==","author":{"login":"markmark206"},"authorAssociation":"NONE","body":"> is custom coding required for extracting metrics through prometheus or will temporal include this by default?\r\n\r\n@kkcmadhu â€“ i think the answer is there is no custom coding to enable prometheus metrics scraping, but there is a bit if config.\r\n\r\nSome details:\r\n\r\nTemporal's \"batteries included' \"demo\" helm chart [configures temporal for prometheus scraping](https://github.com/temporalio/helm-charts/blob/520c0db6f5bf3413c00453064550bd00c8a2d785/templates/server-configmap.yaml#L103-L105) and [includes a few dashboard](https://github.com/temporalio/helm-charts/blob/520c0db6f5bf3413c00453064550bd00c8a2d785/values.yaml#L290-L298).\r\n\r\nIn docker-compose world, one should be able to configure a prometheus endpoint [by providing `PROMETHEUS_ENDPOINT`  environment variable](https://github.com/temporalio/temporal/blob/3fb0ca84bb39948f407dbd40b16a0671c5dcbbdb/docker/config_template.yaml#L100-L105), but I don't think we have any `docker-compose` examples of that. \r\n\r\nIn non-docker world, when running temporal natively, we have a [config file with a sample prometheus configuration](https://github.com/temporalio/temporal/blob/3fb0ca84bb39948f407dbd40b16a0671c5dcbbdb/config/development_prometheus.yaml#L28-L31). However, I am not sure how much testing that file gets, so be aware. ;)  \r\n\r\nPlease let me know if this doesn't answer your question!","createdAt":"2020-07-13T18:49:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/319#issuecomment-657729834","viewerDidAuthor":false}],"createdAt":"2020-04-22T15:13:45Z","labels":[],"milestone":null,"number":319,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"Statsd docker volume growth ","updatedAt":"2020-07-13T23:46:07Z","url":"https://github.com/temporalio/temporal/issues/319"}
