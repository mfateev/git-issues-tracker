{"assignees":[],"author":{"id":"MDQ6VXNlcjEwODc0MQ==","is_bot":false,"login":"robzienert","name":"Rob Zienert"},"body":"## Expected Behavior\r\nI have a workflow that has two arguments, a JSON document and a string value. I would expect that passing `--input foo` would work as-is, since strings and other primitive types are considered valid JSON documents on their own.\r\n\r\n## Actual Behavior\r\ntctl rejects the request, saying that the input must be valid JSON.\r\n\r\n```\r\nTEMPORAL_CLI_SHOW_STACKS=1 ./scripts/tctl.sh wf start --tq foo --w robztest --wt StageContextCloudOperationRunner --if test.json -i \"resizeServerGroup\" --et 120\r\nError: Input is not a valid JSON.\r\nError Details: invalid character 'r' looking for beginning of value\r\nStack trace:\r\ngoroutine 1 [running]:\r\nruntime/debug.Stack(0xd, 0x0, 0x0)\r\n\truntime/debug/stack.go:24 +0x9f\r\nruntime/debug.PrintStack()\r\n\truntime/debug/stack.go:16 +0x25\r\ngo.temporal.io/server/tools/cli.printError(0x2ae7338, 0x1a, 0x2d9d940, 0xc00046f950)\r\n\tgo.temporal.io/server/tools/cli/util.go:386 +0x2be\r\ngo.temporal.io/server/tools/cli.ErrorAndExit(0x2ae7338, 0x1a, 0x2d9d940, 0xc00046f950)\r\n\tgo.temporal.io/server/tools/cli/util.go:397 +0x49\r\ngo.temporal.io/server/tools/cli.processJSONInput(0xc00022c9a0, 0x2ade3a5)\r\n\tgo.temporal.io/server/tools/cli/util.go:618 +0x352\r\ngo.temporal.io/server/tools/cli.startWorkflowHelper(0xc00022c9a0, 0x0)\r\n\tgo.temporal.io/server/tools/cli/workflowCommands.go:208 +0x245\r\ngo.temporal.io/server/tools/cli.StartWorkflow(...)\r\n\tgo.temporal.io/server/tools/cli/workflowCommands.go:176\r\ngo.temporal.io/server/tools/cli.newWorkflowCommands.func3(0xc00022c9a0)\r\n\tgo.temporal.io/server/tools/cli/workflow.go:57 +0x30\r\ngithub.com/urfave/cli.HandleAction(0x2734000, 0x2b6a478, 0xc00022c9a0, 0xc00022c9a0, 0x0)\r\n\tgithub.com/urfave/cli@v1.22.5/app.go:526 +0x59\r\ngithub.com/urfave/cli.Command.Run(0x2abdd24, 0x5, 0x0, 0x0, 0x0, 0x0, 0x0, 0x2af22a7, 0x1e, 0x0, ...)\r\n\tgithub.com/urfave/cli@v1.22.5/command.go:173 +0x579\r\ngithub.com/urfave/cli.(*App).RunAsSubcommand(0xc000496540, 0xc00022c6e0, 0x0, 0x0)\r\n\tgithub.com/urfave/cli@v1.22.5/app.go:405 +0x914\r\ngithub.com/urfave/cli.Command.startApp(0x2ac4d34, 0x8, 0x0, 0x0, 0xc000b44420, 0x1, 0x1, 0x2ae50f8, 0x19, 0x0, ...)\r\n\tgithub.com/urfave/cli@v1.22.5/command.go:372 +0x7ff\r\ngithub.com/urfave/cli.Command.Run(0x2ac4d34, 0x8, 0x0, 0x0, 0xc000b44420, 0x1, 0x1, 0x2ae50f8, 0x19, 0x0, ...)\r\n\tgithub.com/urfave/cli@v1.22.5/command.go:102 +0x9d4\r\ngithub.com/urfave/cli.(*App).Run(0xc0004961c0, 0xc0001aa000, 0x11, 0x12, 0x0, 0x0)\r\n\tgithub.com/urfave/cli@v1.22.5/app.go:277 +0x808\r\nmain.main()\r\n\tcommand-line-arguments/main.go:37 +0x4e\r\n```\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Define a workflow that takes a primitive value as an input parameter.\r\n  1. Attempt to start it from tctl\r\n\r\n## Specifications\r\n\r\n  - Version: 1.9.1\r\n  - Platform: OSX\r\n","closedAt":"2021-06-01T23:23:42Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg1MjU1MzQ2Ng==","author":{"login":"robzienert"},"authorAssociation":"CONTRIBUTOR","body":"Works as desired -- string values must be double-quoted to be parsed correctly.","createdAt":"2021-06-01T23:23:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1585#issuecomment-852553466","viewerDidAuthor":false}],"createdAt":"2021-06-01T23:14:05Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":1585,"reactionGroups":[],"state":"CLOSED","title":"tctl does not allow passing primitive values as input parameters to workflow start","updatedAt":"2021-06-01T23:23:42Z","url":"https://github.com/temporalio/temporal/issues/1585"}
