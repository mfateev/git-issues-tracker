{"assignees":[],"author":{"id":"MDQ6VXNlcjgxNTIzOTk=","is_bot":false,"login":"dran-dev","name":"Dileep Ranganathan"},"body":"## Expected Behavior\nWhen attempting to use Temporal Nexus endpoints for cross-namespace communication, requests fail because the internal frontend service is not listening on the expected HTTP port (7246). This occurs despite having Nexus enabled in the configuration.\n\n## Actual Behavior\n\n```log\n{\"message\":\"Post \\\"http://10.1.251.74:7246/nexus/endpoints/4ffdb2f8-5829-47fb-9242-8c353a730b64/services/testnexusservice/test-operation?callback=http%3A%2F%2Flocalhost:%3A7243%2Fnamespaces%2Ftest-namespace%2Fnexus%2Fcallback\\\": dial tcp 10.1.251.74:7246: connect: connection refused\",\"applicationFailureInfo\":{\"type\":\"CallError\"}}\n```\n\n## Steps to Reproduce the Problem\n1. created a temporal nexus endpoint for cross namespace call.\n```shell\n$ temporal operator nexus endpoint list\n  ID                       4ffdb2f8-5829-47fb-9242-8c353a730b64\n  Name                     testnexus-endpoint\n  CreatedTime              <nil>\n  LastModifiedTime         \"2025-02-25T19:45:20.784Z\"\n  Target.External.URL\n  Target.Worker.Namespace  test-worker-namespace\n  Target.Worker.TaskQueue  test-task-queue\n  Description\n```\n 2. The internal frontend pod only listens on these ports:\n```shell\n$ netstat -plant | grep LISTEN\ntcp        0      0 127.0.0.1:7936          0.0.0.0:*               LISTEN      1/temporal-server\ntcp        0      0 :::9090                 :::*                    LISTEN      1/temporal-server\ntcp        0      0 :::6936                 :::*                    LISTEN      1/temporal-server\ntcp        0      0 :::7236                 :::*                    LISTEN      1/temporal-server\n```\n3. relevant config\n```yaml\nservices:\n  frontend:\n    rpc:\n      grpcPort: 7233\n      httpPort: 7243\n      membershipPort: 6933\n      bindOnIP: \"0.0.0.0\"\n  internal-frontend:\n    rpc:\n      grpcPort: 7236\n      httpPort: 7246\n      membershipPort: 6936\n      bindOnIP: \"0.0.0.0\"\n```\n4. dynamicConfig\n```yaml\ndynamicConfig:\n  system.enableNexus: true\n  component.nexusoperations.callback.endpoint.template: \"http://localhost:7243/namespaces/{{.NamespaceName}}/nexus/callback\"\n```\n\n## Specifications\n\n  - Version: \n     - temporal-server - 1.26.2, 1.27.0 \n     - helm chart - v0.55.0, v0.56.0\n  - Platform: Kubernetes\n\n## \n\nIs there additional configuration needed to enable the HTTP port (7246) on the internal frontend?\nIs this a known issue with the current version?\nAre there any workarounds available?\n\nLet me know if you need any additional information to help investigate this issue.","closedAt":"2025-09-15T23:24:18Z","comments":[{"id":"IC_kwDODNqesM6hPJys","author":{"login":"yycptt"},"authorAssociation":"MEMBER","body":"cc @rodrigozhou @pdoerner Can you help take a look here?","createdAt":"2025-03-06T22:42:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7386#issuecomment-2705104044","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6riF-G","author":{"login":"vitornp"},"authorAssociation":"NONE","body":"I have the same problem","createdAt":"2025-05-13T20:18:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7386#issuecomment-2877841286","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7ER4WT","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"We are taking a look at this, thanks for reporting.","createdAt":"2025-09-15T16:33:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7386#issuecomment-3293021587","viewerDidAuthor":false}],"createdAt":"2025-02-25T20:15:52Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":7386,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}},{"content":"EYES","users":{"totalCount":1}}],"state":"CLOSED","title":"Connection refused during Nexus Operation for Internal Frontend HTTP Port (7246)","updatedAt":"2025-09-15T23:24:18Z","url":"https://github.com/temporalio/temporal/issues/7386"}
