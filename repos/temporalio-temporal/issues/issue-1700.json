{"assignees":[{"id":"MDQ6VXNlcjE0NjM2MjI=","login":"mfateev","name":"Maxim Fateev","databaseId":0}],"author":{"id":"MDQ6VXNlcjI2NzcyNDc=","is_bot":false,"login":"mytototo","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nI'm looking to create a task queue that needs to handle at most 1 workflow of a specific workflow type across workers.\r\n\r\n**Describe the solution you'd like**\r\nI think something like this could work for one worker:\r\n```go\r\nwe.RegisterWorkflowWithOptions(MyWorkflow, workflow.RegisterOptions{\r\n  MaxConcurrentWorkflowsInWorker: 1,\r\n  MaxConcurrentWorkflowsAcrossWorkers: 1,\r\n})\r\n```\r\n\r\nBut I'm not sure this would work across all workers. Any idea?\r\n\r\n**Describe alternatives you've considered**\r\nI took a look at [this](https://github.com/temporalio/samples-go/tree/master/mutex), [this](https://community.temporal.io/t/management-of-mutex-workflow/190), and [this](https://community.temporal.io/t/limit-workflow-based-concurrent-executions/633).\r\n\r\nI think these solutions are too complex to implement in comparison to the solution described.","closedAt":null,"comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg3MzY2NTQzMw==","author":{"login":"samarabbas"},"authorAssociation":"MEMBER","body":"@mfateev any thoughts on this feature request?","createdAt":"2021-07-04T21:25:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1700#issuecomment-873665433","viewerDidAuthor":false},{"id":"IC_kwDODNqesM40i_0e","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Concurrent limit of 1 is special case, you can rely on the unique workflow ID feature of temporal. If you make sure your workflow always use a const workflow ID, you are guaranteed to have only one running workflow for this ID. ","createdAt":"2021-07-16T17:00:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1700#issuecomment-881589534","viewerDidAuthor":false},{"id":"IC_kwDODNqesM40k76X","author":{"login":"mytototo"},"authorAssociation":"NONE","body":"@yiminc Sorry if I were not clear. I'm not looking to handle 1 concurrent workflow ID across workers at a time. Instead I'm looking to ensure a workflow type is executing a single workflow at a time, where the workflow IDs are not const. These workflows access a single resource in a database and I need to ensure only one is active when reading / writing these said resource.","createdAt":"2021-07-18T18:18:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1700#issuecomment-882097815","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5WfzU_","author":{"login":"sync-by-unito"},"authorAssociation":"NONE","body":"âž¤ Maxim Fateev commented:\n\nAn ability to limit the number of parallel workflow executions (of a given type or by some other group like batchId) across all workers is a very frequently requested feature. There is a similar feature to support limiting number of parallel activities. \n\nDesigning such a limit might be nontrivial at scale. So we need to weight it against other feature requests.","createdAt":"2023-03-02T02:22:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1700#issuecomment-1451177279","viewerDidAuthor":false}],"createdAt":"2021-07-01T07:20:30Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5NzgzNzUw","name":"API","description":"Issues/features involving the API","color":"3d910f"},{"id":"MDU6TGFiZWwyMDE5OTIzNjU1","name":"devexp","description":"","color":"9350b7"}],"milestone":null,"number":1700,"reactionGroups":[],"state":"OPEN","title":"Simple way to handle a single concurrent workflow","updatedAt":"2023-03-03T20:22:15Z","url":"https://github.com/temporalio/temporal/issues/1700"}
