{"assignees":[{"id":"MDQ6VXNlcjE3MjM4ODEw","login":"maoyi16","name":"Yi","databaseId":0}],"author":{"id":"MDQ6VXNlcjg0NDExMDE0","is_bot":false,"login":"yiminc","name":"Yimin Chen"},"body":"Set per task queue rate limit to 1, observe the RPS stay at around 1, then reboot matching and you will see a big spike of throughput for the first minute, then it fall to 1 again. This is due to the rate limiter only update its rate every 1m and is initialized with a big limit value. https://github.com/temporalio/temporal/blob/c2a3a2bdfb6377a633928203ffe577281da216d1/service/matching/matcher.go#L78\r\n\r\nWe should allow the rate limiter to update its rate for the first time without that 1m delay.","closedAt":"2022-09-08T02:39:29Z","comments":[{"id":"IC_kwDODNqesM5J6yt5","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"https://github.com/temporalio/temporal/pull/3335","createdAt":"2022-09-08T02:39:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3149#issuecomment-1240148857","viewerDidAuthor":false}],"createdAt":"2022-07-27T05:03:06Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":3149,"reactionGroups":[],"state":"CLOSED","title":"Per task queue rate limiter only take effect after 1m.","updatedAt":"2022-09-08T02:39:30Z","url":"https://github.com/temporalio/temporal/issues/3149"}
