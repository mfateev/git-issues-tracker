{"assignees":[],"author":{"id":"MDQ6VXNlcjQ2MDg3ODcx","is_bot":false,"login":"LauVietVan","name":"LauVietVan"},"body":"## Expected Behavior\r\nNo more CVEs found.\r\n## Actual Behavior\r\nThere are a lot of CVEs found from the latest Temporal image:\r\n`temporalio/admin-tools:1.25.2-tctl-1.18.1-cli-1.1.2`\r\n## Steps to Reproduce the Problem\r\nPull the latest image `temporalio/admin-tools:1.25.2-tctl-1.18.1-cli-1.1.2` from Dockerhub\r\nScan the image with any vulnerability scanner\r\n```shell\r\nScan results for: image temporalio/admin-tools:1.25.2-tctl-1.18.1-cli-1.1.2 sha256:70c966b9022bd1574036d32179e07a777258d1a16e1387beaf923835d488023b\r\nVulnerabilities\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n|       CVE        | SEVERITY | CVSS |           PACKAGE            |                VERSION                |             STATUS              | PUBLISHED  | DISCOVERED |                    DESCRIPTION                     |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-6345    | high     | 8.80 | setuptools                   | 65.5.0                                | fixed in 70.0.0                 | > 5 months | < 1 hour   | A vulnerability in the package_index module of     |\r\n|                  |          |      |                              |                                       | > 4 months ago                  |            |            | pypa/setuptools versions up to 69.1.1 allows for   |\r\n|                  |          |      |                              |                                       |                                 |            |            | remote code execution via its download functions.  |\r\n|                  |          |      |                              |                                       |                                 |            |            | Thes...                                            |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| PRISMA-2022-0168 | high     | 7.80 | pip                          | 24.0                                  | open                            | > 2 years  | < 1 hour   | An issue was discovered in pip (all versions)      |\r\n|                  |          |      |                              |                                       |                                 |            |            | because it installs the version with the highest   |\r\n|                  |          |      |                              |                                       |                                 |            |            | version number, even if the user had intended to   |\r\n|                  |          |      |                              |                                       |                                 |            |            | obtain...                                          |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-7348    | high     | 7.50 | postgresql16                 | 16.3-r0                               | fixed in 16.4-r0                | > 4 months | < 1 hour   | Time-of-check Time-of-use (TOCTOU) race condition  |\r\n|                  |          |      |                              |                                       | 41 days ago                     |            |            | in pg_dump in PostgreSQL allows an object creator  |\r\n|                  |          |      |                              |                                       |                                 |            |            | to execute arbitrary SQL functions as the user     |\r\n|                  |          |      |                              |                                       |                                 |            |            | run...                                             |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-9681    | medium   | 6.50 | curl                         | 8.9.1-r2                              | fixed in 8.11.0-r0              | 36 days    | < 1 hour   | When curl is asked to use HSTS, the expiry time    |\r\n|                  |          |      |                              |                                       | 35 days ago                     |            |            | for a subdomain might overwrite a parent domain\\'s |\r\n|                  |          |      |                              |                                       |                                 |            |            | cache entry, making it end sooner or later than    |\r\n|                  |          |      |                              |                                       |                                 |            |            | oth...                                             |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2022-40897   | medium   | 5.90 | setuptools                   | 65.5.0                                | fixed in 65.5.1                 | > 1 years  | < 1 hour   | Python Packaging Authority (PyPA) setuptools       |\r\n|                  |          |      |                              |                                       | > 1 years ago                   |            |            | before 65.5.1 allows remote attackers to cause a   |\r\n|                  |          |      |                              |                                       |                                 |            |            | denial of service via HTML in a crafted package or |\r\n|                  |          |      |                              |                                       |                                 |            |            | custo...                                           |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-2689    | medium   | 0.00 | go.temporal.io/server        | v1.18.1-0.20230217005328-b313b7f58641 | fixed in 1.20.5, 1.21.6, 1.22.7 | > 6 months | < 1 hour   | Denial of Service in Temporal Server prior to      |\r\n|                  |          |      |                              |                                       | > 6 months ago                  |            |            | version 1.20.5, 1.21.6, and 1.22.7 allows an       |\r\n|                  |          |      |                              |                                       |                                 |            |            | authenticated user who has permissions to interact |\r\n|                  |          |      |                              |                                       |                                 |            |            | with wor...                                        |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-3485    | low      | 3.60 | go.temporal.io/server        | v1.18.1-0.20230217005328-b313b7f58641 | fixed in 1.20.0                 | > 3 months | < 1 hour   | Insecure defaults in open-source Temporal Server   |\r\n|                  |          |      |                              |                                       | > 1 years ago                   |            |            | before version 1.20 on all platforms allows an     |\r\n|                  |          |      |                              |                                       |                                 |            |            | attacker to craft a task token with access to a    |\r\n|                  |          |      |                              |                                       |                                 |            |            | namesp...                                          |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-9287    | low      | 0.00 | python3                      | 3.12.6-r0                             | fixed in 3.12.8-r0              | 50 days    | < 1 hour   | A vulnerability has been found in the CPython      |\r\n|                  |          |      |                              |                                       | 5 days ago                      |            |            | `venv` module and CLI where path names provided    |\r\n|                  |          |      |                              |                                       |                                 |            |            | when creating a virtual environment were not       |\r\n|                  |          |      |                              |                                       |                                 |            |            | quoted prop...                                     |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-9143    | low      | 0.00 | openssl                      | 3.3.2-r0                              | fixed in 3.3.2-r1               | 56 days    | < 1 hour   | Issue summary: Use of the low-level GF(2^m)        |\r\n|                  |          |      |                              |                                       | 52 days ago                     |            |            | elliptic curve APIs with untrusted explicit values |\r\n|                  |          |      |                              |                                       |                                 |            |            | for the field polynomial can lead to out-of-bounds |\r\n|                  |          |      |                              |                                       |                                 |            |            | memo...                                            |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-8096    | low      | 0.00 | curl                         | 8.9.1-r2                              | fixed in 8.10.0-r0              | > 3 months | < 1 hour   | When curl is told to use the Certificate Status    |\r\n|                  |          |      |                              |                                       | > 3 months ago                  |            |            | Request TLS extension, often referred to as OCSP   |\r\n|                  |          |      |                              |                                       |                                 |            |            | stapling, to verify that the server certificate is |\r\n|                  |          |      |                              |                                       |                                 |            |            | va...                                              |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-51744   | low      | 0.00 | github.com/golang-jwt/jwt/v4 | v4.5.0                                | fixed in 4.5.1                  | 37 days    | < 1 hour   | golang-jwt is a Go implementation of JSON Web      |\r\n|                  |          |      |                              |                                       | 37 days ago                     |            |            | Tokens. Unclear documentation of the error         |\r\n|                  |          |      |                              |                                       |                                 |            |            | behavior in `ParseWithClaims` can lead to          |\r\n|                  |          |      |                              |                                       |                                 |            |            | situation where use...                             |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-50602   | low      | 0.00 | expat                        | 2.6.3-r0                              | fixed in 2.6.4-r0               | 46 days    | < 1 hour   | An issue was discovered in libexpat before 2.6.4.  |\r\n|                  |          |      |                              |                                       | 33 days ago                     |            |            | There is a crash within the XML_ResumeParser       |\r\n|                  |          |      |                              |                                       |                                 |            |            | function because XML_StopParser can stop/suspend   |\r\n|                  |          |      |                              |                                       |                                 |            |            | an uns...                                          |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-12254   | low      | 0.00 | python3                      | 3.12.6-r0                             | fixed in 3.12.8-r1              | 5 days     | < 1 hour   | Starting in Python 3.12.0, the                     |\r\n|                  |          |      |                              |                                       | 5 days ago                      |            |            | asyncio._SelectorSocketTransport.writelines()      |\r\n|                  |          |      |                              |                                       |                                 |            |            | method would not \"pause\" writing and signal to the |\r\n|                  |          |      |                              |                                       |                                 |            |            | Protocol to drain  th...                           |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-10979   | low      | 0.00 | postgresql16                 | 16.3-r0                               | fixed in 16.5-r0                | 27 days    | < 1 hour   | Incorrect control of environment variables in      |\r\n|                  |          |      |                              |                                       | 26 days ago                     |            |            | PostgreSQL PL/Perl allows an unprivileged database |\r\n|                  |          |      |                              |                                       |                                 |            |            | user to change sensitive process environment       |\r\n|                  |          |      |                              |                                       |                                 |            |            | variable...                                        |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-10978   | low      | 0.00 | postgresql16                 | 16.3-r0                               | fixed in 16.5-r0                | 27 days    | < 1 hour   | Incorrect privilege assignment in PostgreSQL       |\r\n|                  |          |      |                              |                                       | 26 days ago                     |            |            | allows a less-privileged application user to view  |\r\n|                  |          |      |                              |                                       |                                 |            |            | or change different rows from those intended.  An  |\r\n|                  |          |      |                              |                                       |                                 |            |            | attac...                                           |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-10977   | low      | 0.00 | postgresql16                 | 16.3-r0                               | fixed in 16.5-r0                | 27 days    | < 1 hour   | Client use of server error message in PostgreSQL   |\r\n|                  |          |      |                              |                                       | 26 days ago                     |            |            | allows a server not trusted under current SSL or   |\r\n|                  |          |      |                              |                                       |                                 |            |            | GSS settings to furnish arbitrary non-NUL bytes to |\r\n|                  |          |      |                              |                                       |                                 |            |            | t...                                               |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-10976   | low      | 0.00 | postgresql16                 | 16.3-r0                               | fixed in 16.5-r0                | 27 days    | < 1 hour   | Incomplete tracking in PostgreSQL of tables        |\r\n|                  |          |      |                              |                                       | 26 days ago                     |            |            | with row security allows a reused query to view    |\r\n|                  |          |      |                              |                                       |                                 |            |            | or change different rows from those intended.      |\r\n|                  |          |      |                              |                                       |                                 |            |            | CVE-2023-24...                                     |\r\n+------------------+----------+------+------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n\r\nVulnerabilities found for image temporalio/admin-tools:1.25.2-tctl-1.18.1-cli-1.1.2: total - 17, critical - 0, high - 3, medium - 3, low - 11\r\nVulnerability threshold check results: PASS\r\n\r\nCompliance Issues\r\n+----------+------------------------------+\r\n| SEVERITY |         DESCRIPTION          |\r\n+----------+------------------------------+\r\n| high     | Private keys stored in image |\r\n+----------+------------------------------+\r\n\r\nCompliance found for image temporalio/admin-tools:1.25.2-tctl-1.18.1-cli-1.1.2: total - 1, critical - 0, high - 1, medium - 0, low - 0\r\nCompliance threshold check results: PASS\r\n```\r\n## Specifications\r\n\r\n  - Version: `temporalio/admin-tools:1.25.2-tctl-1.18.1-cli-1.1.2`\r\n  - Platform:\r\n","closedAt":null,"comments":[],"createdAt":"2024-12-12T09:34:54Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":6977,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"OPEN","title":"Addressing a lot of security vulnerabilities in the Temporalio/admin-tools release 1.25.2-tctl-1.18.1-cli-1.1.2","updatedAt":"2024-12-12T09:34:54Z","url":"https://github.com/temporalio/temporal/issues/6977"}
