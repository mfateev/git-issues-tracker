{"assignees":[{"id":"MDQ6VXNlcjYzNTAzMDE=","login":"jbreiding","name":"Jeremy","databaseId":0}],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"## Expected Behavior\r\n\r\nWhen executing a workflow and then calling `ListClosedWorkflowExecutions` with Postgres and Elastic, the `task_queue` field is populated on each `WorkflowExecutionInfo`.\r\n\r\n## Actual Behavior\r\n\r\nWhen executing a workflow and then calling `ListClosedWorkflowExecutions` using https://github.com/DataDog/temporalite (i.e. Sqlite in memory and no Elastic), the `task_queue` field is _not_ populated on each `WorkflowExecutionInfo`.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nRun a workflow against https://github.com/DataDog/temporalite and then call `ListClosedWorkflowExecutions` there.","closedAt":"2022-02-25T02:22:47Z","comments":[{"id":"IC_kwDODNqesM46ObdG","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"@jlegrone - FYI (sorry, forgot to notify you in description)","createdAt":"2021-11-23T17:05:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/2207#issuecomment-976860998","viewerDidAuthor":false},{"id":"IC_kwDODNqesM49zv-j","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Looks like the TaskQueue was not define in our SQL persistence data model, but fortunately it is defined in db schema. So I think this could be a simple change to wire up request to persistence in both write and read path.\r\nAdd TaskQueue to in memory [data model](https://github.com/temporalio/temporal/blob/57cdbe3e00fec04c50326cff25ae8e31e60b06d6/common/persistence/sql/sqlplugin/visibility.go#L35) \r\nFind where the other fields of that VisibilityRow is used (for example workflow_type_name), and try to copy for TaskQueue. Make sure you update the SQL statement for both write and read to include for this extra field.","createdAt":"2022-02-12T03:39:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/2207#issuecomment-1036976035","viewerDidAuthor":false}],"createdAt":"2021-11-19T23:10:43Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":2207,"reactionGroups":[],"state":"CLOSED","title":"SQLite persistence not returning WorkflowExecutionInfo.task_queue","updatedAt":"2022-02-25T02:22:47Z","url":"https://github.com/temporalio/temporal/issues/2207"}
