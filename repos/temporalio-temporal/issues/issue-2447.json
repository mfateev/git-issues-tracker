{"assignees":[{"id":"MDQ6VXNlcjIyMzI1MjQ=","login":"alexshtin","name":"Alex Shtin","databaseId":0}],"author":{"id":"MDQ6VXNlcjE0NjYwNzA=","is_bot":false,"login":"AndreevDm","name":"Dmitry Andreev"},"body":"**Is your feature request related to a problem? Please describe.**\r\nHello. I use managed DB cloud, which does not allow creating a database using sql. But auto-setup.sh script [tries](https://github.com/temporalio/temporal/blob/master/docker/auto-setup.sh#L180) to create it via sql-tool, which in my case leads to a crash. And I can't use it to apply DB schema.\r\n\r\n**Describe the solution you'd like**\r\nAdd option SKIP_CREATE_DB to auto-setup.sh witch will skipp `temporal-sql-tool create` commands\r\n\r\n**Describe alternatives you've considered**\r\nThe only alternative I can imagine is to write my own script. Which of course doesn't look like a good solution.\r\n\r\n","closedAt":"2022-02-17T01:15:30Z","comments":[{"id":"IC_kwDODNqesM49PEgj","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"There is SKIP_SCHEMA_SETUP, did you try that?","createdAt":"2022-02-01T22:45:04Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2447#issuecomment-1027360803","viewerDidAuthor":false},{"id":"IC_kwDODNqesM49PF0d","author":{"login":"AndreevDm"},"authorAssociation":"NONE","body":"I need only to skip `temporal-sql-tool create` commands (cause db already exists), but run all other (setup-schema and update-schema) to create tables.","createdAt":"2022-02-01T22:53:42Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2447#issuecomment-1027366173","viewerDidAuthor":false},{"id":"IC_kwDODNqesM49alHG","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"@AndreevDm , do you want to use an existing temporal db instance and have the auto setup to be able to upgrade the schema? Or it it just an empty db that you just need to skip the create step? If so, why is there an empty db, how was it get created?","createdAt":"2022-02-04T21:51:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2447#issuecomment-1030377926","viewerDidAuthor":false},{"id":"IC_kwDODNqesM49rjd8","author":{"login":"AndreevDm"},"authorAssociation":"NONE","body":"> Or it it just an empty db that you just need to skip the create step?\r\n\r\nThis option.\r\n\r\n\r\n>If so, why is there an empty db, how was it get created?\r\n\r\nIt is created via database management console (cli or UI). But no sql create database available.\r\nDocumentation about the cloud https://cloud.yandex.com/en-ru/docs/managed-postgresql/operations/databases#add-db","createdAt":"2022-02-10T11:48:29Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/2447#issuecomment-1034827644","viewerDidAuthor":false},{"id":"IC_kwDODNqesM4979Z3","author":{"login":"AndreevDm"},"authorAssociation":"NONE","body":"Thanks a lot!","createdAt":"2022-02-14T14:08:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2447#issuecomment-1039128183","viewerDidAuthor":false}],"createdAt":"2022-02-01T21:45:16Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":2447,"reactionGroups":[],"state":"CLOSED","title":"Option not to create DB in auto-setup","updatedAt":"2022-02-17T01:15:31Z","url":"https://github.com/temporalio/temporal/issues/2447"}
