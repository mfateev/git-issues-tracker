{"assignees":[],"author":{"id":"MDQ6VXNlcjExOTQyMg==","is_bot":false,"login":"tsurdilo","name":"Tihomir Surdilovic"},"body":"If a workflow task is scheduled after a specified (configurable?) time after a previous workflow task then sticky queue shouldn't be used (it should reset to \"Normal\" kind).\r\n\r\nexample:\r\n\r\n    {\r\n          \"eventId\": \"20\",\r\n          \"eventTime\": \"2022-03-10T18:22:00.176291717Z\",\r\n          \"eventType\": \"WorkflowTaskCompleted\",\r\n          ....\r\n    }\r\n     .... inactivity for 5 hours\r\n    {\r\n       \"eventId\": \"21\",\r\n       \"eventTime\": \"2022-03-10T23:33:10.270782473Z\",\r\n       \"eventType\": \"WorkflowTaskScheduled\",\r\n       .... \"kind\": \"Sticky\"\r\n     }\r\n\r\nevent 21 should have been reset to kind:  \"Normal\" after some time (less than 5 hours)\r\n","closedAt":"2022-03-11T22:35:09Z","comments":[{"id":"IC_kwDODNqesM4_dkVC","author":{"login":"zhishi"},"authorAssociation":"NONE","body":"I think the better way is check if the sticky worker id still running to avoid sending the task to an outdated worker? the timeout issue can happens when I restart everything in several minutes.","createdAt":"2022-03-11T02:41:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2600#issuecomment-1064715586","viewerDidAuthor":false},{"id":"IC_kwDODNqesM4_g8AR","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"This is a dup of https://github.com/temporalio/temporal/issues/2363","createdAt":"2022-03-11T22:35:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2600#issuecomment-1065598993","viewerDidAuthor":false}],"createdAt":"2022-03-11T02:24:38Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":2600,"reactionGroups":[],"state":"CLOSED","title":"Reset sticky queue after some time before workflow task is scheduled","updatedAt":"2022-03-11T22:35:09Z","url":"https://github.com/temporalio/temporal/issues/2600"}
