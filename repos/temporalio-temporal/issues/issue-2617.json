{"assignees":[],"author":{"id":"MDQ6VXNlcjExOTQyMg==","is_bot":false,"login":"tsurdilo","name":"Tihomir Surdilovic"},"body":"**Is your feature request related to a problem? Please describe.**\r\nCurrently setting retention period does not take in account workflow completion type. For example users would like to\r\nset a different retention period for \"Completed\" vs \"Failed\" workflows.\r\n\r\n**Describe the solution you'd like**\r\nAllow to set workflow completion type when updating retention for a namespace in \r\ntctl namespace update --retention X\r\n\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5AKyHk","author":{"login":"Ryan-Thomas"},"authorAssociation":"NONE","body":"Main reason we want this is that we set a retention period of 7 days, but it would be very helpful to have a longer retention to debug failed workflows without needing to store all the successful ones for longer.\r\n\r\nIt was also suggested that you make it possible to set retention period as part of WorkflowOptions on each workflow. We run Temporal as a multitenant service and we wouldn't want a team hogging the service's resources by setting some extraordinarily long retention for their own workflows. If you decide to allow setting retention on WorkflowOptions, it would be great if there is some server level config option that lets us enforce that WorkflowOptions retention doesn't exceed the namespace level default retention.\r\n\r\nWe don't really need to be able to set retention period in WorkflowOptions, we are mainly just interested in setting retention by completion type.","createdAt":"2022-03-23T16:53:45Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2617#issuecomment-1076568548","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5q5HBv","author":{"login":"mxvsh"},"authorAssociation":"NONE","body":"any update?","createdAt":"2023-11-04T06:08:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2617#issuecomment-1793355887","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5y_Jee","author":{"login":"mittalsuraj18"},"authorAssociation":"NONE","body":"Hi, we too are interested in knowing if this can be done. ","createdAt":"2024-02-06T09:56:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2617#issuecomment-1929156510","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6OEt7-","author":{"login":"msainty"},"authorAssociation":"NONE","body":"This would be interesting in regards to data governance e.g. some data you can keep for longer should it be related to something that is purchased.  However you may trigger a workflow and only want to retain this data for a few days as something was not purchased.  This flexibility would be very useful rather than having a set retention period for everything.","createdAt":"2024-09-30T16:02:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2617#issuecomment-2383601406","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6QSG_r","author":{"login":"yosefrev"},"authorAssociation":"NONE","body":"Hi, this feature would be really helpful for us as well. Thanks!","createdAt":"2024-10-17T21:51:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2617#issuecomment-2420666347","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6qExQW","author":{"login":"petrkoutnycz"},"authorAssociation":"NONE","body":"I'm up for it as well, would be nice :-) the reasoning is very similar to sampling in tracing - it is usually desired to keep failed traces but keep only a sample of successful ones.","createdAt":"2025-05-06T06:07:21Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2617#issuecomment-2853377046","viewerDidAuthor":false}],"createdAt":"2022-03-17T23:46:13Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":2617,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":9}}],"state":"OPEN","title":"Allow retention period to be set per workflow completion type","updatedAt":"2025-05-06T06:08:36Z","url":"https://github.com/temporalio/temporal/issues/2617"}
