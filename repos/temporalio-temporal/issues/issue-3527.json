{"assignees":[{"id":"MDQ6VXNlcjQ2NjcyMw==","login":"dnr","name":"David Reiss","databaseId":0}],"author":{"id":"MDQ6VXNlcjIyMDk4MjQ2","is_bot":false,"login":"andrey-dubnik","name":"cloudwiz"},"body":"## Expected Behavior\r\n\r\nSystem worker should be able to connect to a Frontend service resolved by a new service discovery when a publicClient configuration is removed and a Temporal cluster is TLS enabled\r\n\r\n## Actual Behavior\r\n\r\nWorker fails to connect to the cluster with a message below\r\n\r\n```\r\n{“level”:“warn”,“ts”:“2022-10-20T08:51:40.097Z”,“msg”:“error creating sdk client”,“service”:“worker”,“error”:“failed reaching server: context deadline exceeded”,“logging-call-at”:“factory.go:116”\r\n```\r\n\r\nThe probably cause can be in a service discovery returning IP while the Client SDK TLS host validation failing on a cert DNS not matching the IP\r\n\r\nMore details on the problem is in the [community post](https://community.temporal.io/t/temporal-worker-failing-to-connect-to-frontend-in-1-18-2-post-removing-publicclient-from-config/6262)\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n1. enable TLS on the cluster\r\n2. start all services\r\n\r\n## Specifications\r\n\r\n  - Version: 1.18.2\r\n  - Platform: Linux\r\n","closedAt":"2023-10-22T04:47:36Z","comments":[],"createdAt":"2022-10-24T12:55:13Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":3527,"reactionGroups":[],"state":"CLOSED","title":"System worker fails to connect to a Frontend in the TLS enabled cluster after removing the publicClient settings","updatedAt":"2023-10-22T04:47:36Z","url":"https://github.com/temporalio/temporal/issues/3527"}
