{"assignees":[],"author":{"id":"MDQ6VXNlcjQ1Mzk1MTk3","is_bot":false,"login":"sidharthsunilkumar","name":""},"body":"I added Persistence Volume Claim to my Cassandra Pod in my Temporal setup. So I expected it to retain the execution history even if the whole setup is killed and restarted. But when I restart the setup, I can see that the executions are retained in the 'history_node' table in Cassandra. But the executions do not show up in the Temporal UI.\r\nWhat do I need to do to make this happen?\r\n\r\nI have attached the PVC part of the statefulset.yaml file of Cassadra Pods.\r\n\r\n volumeClaimTemplates:\r\n    - metadata:\r\n        name: data\r\n      spec:\r\n        accessModes: [ \"ReadWriteOnce\" ]\r\n        storageClassName: \"my-storage-class2\"\r\n        resources:\r\n          requests:\r\n              storage: 1Gi\r\n\r\n","closedAt":"2022-03-14T07:13:26Z","comments":[{"id":"IC_kwDODNqesM4_hGTA","author":{"login":"jbreiding"},"authorAssociation":"CONTRIBUTOR","body":"To my knowledge here I would expect the result of this change would have been a new and empty volume attached.\r\nBut I do not believe you can edit this portion of a statefulset without redeploying the statefulset.\r\n\r\nIs it possible the statefulset is still just using the previous dynamic volume claim?\r\n\r\nBut the UI displays executions from the visibility store, how have you configured visibility?","createdAt":"2022-03-11T23:27:56Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2603#issuecomment-1065641152","viewerDidAuthor":false},{"id":"IC_kwDODNqesM4_kMAA","author":{"login":"sidharthsunilkumar"},"authorAssociation":"NONE","body":"The issue has been resolved. To fix it, the volume mount path needs to be changed from \"var/lib/elasticsearch\" to \"/usr/share/elasticsearch/data\".","createdAt":"2022-03-14T07:13:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2603#issuecomment-1066450944","viewerDidAuthor":false}],"createdAt":"2022-03-11T18:54:01Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":2603,"reactionGroups":[],"state":"CLOSED","title":"Workflow execution history not showing up in the Temporal UI with Persistence Volume Claim","updatedAt":"2022-03-14T07:13:26Z","url":"https://github.com/temporalio/temporal/issues/2603"}
