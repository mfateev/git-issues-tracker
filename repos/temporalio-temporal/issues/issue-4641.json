{"assignees":[{"id":"MDQ6VXNlcjIyMzI1MjQ=","login":"alexshtin","name":"Alex Shtin","databaseId":0}],"author":{"id":"MDQ6VXNlcjc3NTQxMjA=","is_bot":false,"login":"yycptt","name":"Yichao Yang"},"body":"## Expected Behavior\r\nTest should always pass\r\n\r\n## Actual Behavior\r\n```\r\n--- FAIL: TestIntegrationSuite (8.43s)\r\n    --- FAIL: TestIntegrationSuite/TestUpdateWorkflow_NormalScheduledWorkflowTask_AcceptComplete (0.05s)\r\n        --- FAIL: TestIntegrationSuite/TestUpdateWorkflow_NormalScheduledWorkflowTask_AcceptComplete/without_RunID (0.02s)\r\npanic: runtime error: index out of range [0] with length 0 [recovered]\r\n        panic: runtime error: index out of range [0] with length 0\r\n\r\ngoroutine 4189 [running]:\r\ntesting.tRunner.func1.2({0x102efcba0, 0x14000e75098})\r\n        /opt/homebrew/Cellar/go/1.20.4/libexec/src/testing/testing.go:1526 +0x1c8\r\ntesting.tRunner.func1()\r\n        /opt/homebrew/Cellar/go/1.20.4/libexec/src/testing/testing.go:1529 +0x384\r\npanic({0x102efcba0, 0x14000e75098})\r\n        /opt/homebrew/Cellar/go/1.20.4/libexec/src/runtime/panic.go:884 +0x204\r\ngo.temporal.io/server/tests.(*integrationSuite).TestUpdateWorkflow_NormalScheduledWorkflowTask_AcceptComplete.func1.2(0x0?)\r\n        /Users/ycyang/temporalio/temporal/tests/update_workflow_test.go:663 +0x360\r\ngo.temporal.io/server/tests.(*TaskPoller).PollAndProcessWorkflowTaskWithAttemptAndRetryAndForceNewWorkflowTask(0x14003ba2e00, 0x0, 0x0, 0x0, 0x0, 0x1, 0x1, 0x1, 0x0)\r\n        /Users/ycyang/temporalio/temporal/tests/taskpoller.go:254 +0x638\r\ngo.temporal.io/server/tests.(*integrationSuite).TestUpdateWorkflow_NormalScheduledWorkflowTask_AcceptComplete.func1()\r\n        /Users/ycyang/temporalio/temporal/tests/update_workflow_test.go:704 +0x5e8\r\ngithub.com/stretchr/testify/suite.(*Suite).Run.func2(0x14000fc8340?)\r\n        /Users/ycyang/go/pkg/mod/github.com/stretchr/testify@v1.8.4/suite/suite.go:112 +0x3c\r\ntesting.tRunner(0x14003e6e000, 0x14003e34f78)\r\n        /opt/homebrew/Cellar/go/1.20.4/libexec/src/testing/testing.go:1576 +0x10c\r\ncreated by testing.(*T).Run\r\n        /opt/homebrew/Cellar/go/1.20.4/libexec/src/testing/testing.go:1629 +0x368\r\nexit status 2\r\nFAIL    go.temporal.io/server/tests     8.919s\r\n```\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Run ^ test using master branch (I was using commit 7e2de6902fa98cc98884b4f4003b5a0e8a91936e, and cassandra as storage). It fails like once in 10 runs. \r\n  1.\r\n  1.\r\n\r\n## Specifications\r\n\r\n  - Version:\r\n  - Platform:\r\n","closedAt":"2024-05-07T17:30:10Z","comments":[],"createdAt":"2023-07-18T00:44:32Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":4641,"reactionGroups":[],"state":"CLOSED","title":"Flaky test: TestUpdateWorkflow_NormalScheduledWorkflowTask_AcceptComplete ","updatedAt":"2024-05-07T17:30:10Z","url":"https://github.com/temporalio/temporal/issues/4641"}
