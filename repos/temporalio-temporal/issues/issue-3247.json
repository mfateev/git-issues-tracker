{"assignees":[],"author":{"id":"MDQ6VXNlcjc1NjU0MDE=","is_bot":false,"login":"chanjoongkim","name":"CJ Kim"},"body":"Is your feature request related to a problem? Please describe.\r\nCurrently the Temporal services (specifically Frontend I believe) only supports a gRPC healthcheck. Due to infrastructure limitations at our company we can only make HTTP healthchecks.\r\n\r\nDescribe the solution you'd like\r\nExposing a \"/healthcheck\" endpoint on the Frontend service so service deployment engines can utilize this endpoint if they can't support gRPC calls.\r\n\r\nDescribe alternatives you've considered\r\nFor our use case we were able to find a workaround by having our deployment engines make TCP calls instead, but having an explicit HTTP endpoint would have simplified our onboarding to self hosted Temporal.","closedAt":"2023-10-22T05:00:08Z","comments":[{"id":"IC_kwDODNqesM5ItmAg","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"One option is to document using TCP if gRPC is unavailable. \r\n\r\nIf we wanted to add HTTP, would you just need an empty `200` response to this GET request?\r\n\r\n`GET /healthcheck HTTP/1.1`\r\n","createdAt":"2022-08-18T20:09:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1219911712","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5Itmri","author":{"login":"chanjoongkim"},"authorAssociation":"NONE","body":"Yeah documenting using TCP instead would be good. \r\n\r\nFor the HTTP endpoint our services typically return back a `200` with a JSON response like:\r\n\r\n`\r\n{\r\n  \"status\" : \"ok\"\r\n}\r\n`\r\n\r\nBut we could probably make it work with an empty response as well.","createdAt":"2022-08-18T20:12:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1219914466","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5Itnvu","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"For TCP Nomad config, anything helpful I can add beyond this?\r\n\r\n```\r\n      service {\r\n        check {\r\n          type     = \"tcp\"\r\n          port     = 7233\r\n          interval = \"10s\"\r\n          timeout  = \"2s\"\r\n        }\r\n```","createdAt":"2022-08-18T20:17:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1219918830","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5IttXv","author":{"login":"chanjoongkim"},"authorAssociation":"NONE","body":"I think that's sufficient, thanks Loren! ","createdAt":"2022-08-18T20:43:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1219941871","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5Ixks2","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Is this resolved? ","createdAt":"2022-08-19T17:56:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1220954934","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5IxlK2","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"The pending question is whether we’d like to expose an HTTP endpoint as\ndescribed\n\nOn Fri, Aug 19, 2022 at 1:56 PM Yimin Chen ***@***.***> wrote:\n\n> Is this resolved?\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/temporalio/temporal/issues/3247#issuecomment-1220954934>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAB5LGDUMPPLJMXFQEE4KFLVZ7DFFANCNFSM566J7BEQ>\n> .\n> You are receiving this because you commented.Message ID:\n> ***@***.***>\n>\n","createdAt":"2022-08-19T17:59:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1220956854","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5Ixuo_","author":{"login":"chanjoongkim"},"authorAssociation":"NONE","body":"We found a workaround for our system, but yes the ask is to expose an HTTP endpoint","createdAt":"2022-08-19T18:46:59Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1220995647","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5pvQQ2","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"HTTP API is WIP.","createdAt":"2023-10-22T05:00:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3247#issuecomment-1773995062","viewerDidAuthor":false}],"createdAt":"2022-08-18T19:36:05Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":3247,"reactionGroups":[],"state":"CLOSED","title":"Expose an HTTP Healthcheck for Temporal server","updatedAt":"2023-10-22T05:00:09Z","url":"https://github.com/temporalio/temporal/issues/3247"}
