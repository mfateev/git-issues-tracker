{"assignees":[{"id":"MDQ6VXNlcjIxODY5Ng==","login":"markmark206","name":"Mark Markaryan","databaseId":0}],"author":{"id":"MDQ6VXNlcjE3NjY1MTU=","is_bot":false,"login":"samarabbas","name":"Samar Abbas"},"body":"```\r\n./tctl --ns temporal-system tl list-partition --tl temporal-sys-history-scanner-tasklist-0\r\n```\r\n\r\nfails with:\r\n```\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x18 pc=0x41ef846]\r\n\r\ngoroutine 83623 [running]:\r\ngo.temporal.io/temporal-proto/tasklist.(*TaskListPartitionMetadata).MarshalToSizedBuffer(0x0, 0xc0016fe000, 0xfa0, 0xfa0, 0x58fd748, 0xc00106d8f8, 0x404dcbc)\r\n\t/Users/samar/go/pkg/mod/go.temporal.io/temporal-proto@v0.20.23-0.20200419215242-d6f5d8fa6b15/tasklist/message.pb.go:611 +0x26\r\ngithub.com/temporalio/temporal/.gen/proto/matchingservice.(*ListTaskListPartitionsResponse).MarshalToSizedBuffer(0xc00165c6c0, 0xc0016fe000, 0xfa0, 0xfa0, 0x400c443, 0x570fc80, 0x58fd700)\r\n\t/Users/samar/projects/temporal/src/github.com/temporalio/temporal/.gen/proto/matchingservice/request_response.pb.go:2479 +0xc3\r\ngithub.com/temporalio/temporal/.gen/proto/matchingservice.(*ListTaskListPartitionsResponse).Marshal(0xc00165c6c0, 0x58fd700, 0xc00165c6c0, 0x7f1db68, 0xc00165c6c0, 0xc00106da01)\r\n\t/Users/samar/projects/temporal/src/github.com/temporalio/temporal/.gen/proto/matchingservice/request_response.pb.go:2459 +0x7a\r\ngoogle.golang.org/grpc/encoding/proto.codec.Marshal(0x58fd700, 0xc00165c6c0, 0x6ccefa0, 0x7a4e7d0, 0x400afcb, 0xc000032000, 0x5726820)\r\n\t/Users/samar/go/pkg/mod/google.golang.org/grpc@v1.28.0/encoding/proto/proto.go:70 +0x193\r\ngoogle.golang.org/grpc.encode(0xf846440, 0x6cf9850, 0x58fd700, 0xc00165c6c0, 0x6cf9850, 0x0, 0xc00106db18, 0x5356011, 0x0)\r\n\t/Users/samar/go/pkg/mod/google.golang.org/grpc@v1.28.0/rpc_util.go:545 +0x52\r\ngoogle.golang.org/grpc.(*Server).sendResponse(0xc000f7a340, 0x5e22840, 0xc000840600, 0xc000b44200, 0x58fd700, 0xc00165c6c0, 0x0, 0x0, 0xc001633d4e, 0x0, ...)\r\n\t/Users/samar/go/pkg/mod/google.golang.org/grpc@v1.28.0/server.go:869 +0x89\r\ngoogle.golang.org/grpc.(*Server).processUnaryRPC(0xc000f7a340, 0x5e22840, 0xc000840600, 0xc000b44200, 0xc00074eab0, 0x6cb7e60, 0x0, 0x0, 0x0)\r\n\t/Users/samar/go/pkg/mod/google.golang.org/grpc@v1.28.0/server.go:1117 +0x5fb\r\ngoogle.golang.org/grpc.(*Server).handleStream(0xc000f7a340, 0x5e22840, 0xc000840600, 0xc000b44200, 0x0)\r\n\t/Users/samar/go/pkg/mod/google.golang.org/grpc@v1.28.0/server.go:1405 +0xcc9\r\ngoogle.golang.org/grpc.(*Server).serveStreams.func1.1(0xc0009bfca0, 0xc000f7a340, 0x5e22840, 0xc000840600, 0xc000b44200)\r\n\t/Users/samar/go/pkg/mod/google.golang.org/grpc@v1.28.0/server.go:746 +0xa1\r\ncreated by google.golang.org/grpc.(*Server).serveStreams.func1\r\n\t/Users/samar/go/pkg/mod/google.golang.org/grpc@v1.28.0/server.go:744 +0xa1\r\n```","closedAt":"2020-07-31T18:14:23Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDY2NzI3NDIzMA==","author":{"login":"markmark206"},"authorAssociation":"NONE","body":"i believe this to be fixed, with this update: https://github.com/temporalio/temporal/pull/639","createdAt":"2020-07-31T18:14:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/320#issuecomment-667274230","viewerDidAuthor":false}],"createdAt":"2020-04-22T20:03:53Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg0","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":2,"title":"Code Complete","description":"","dueOn":"2020-07-31T00:00:00Z"},"number":320,"reactionGroups":[],"state":"CLOSED","title":"Listing Tasklist partitions crashes server","updatedAt":"2020-07-31T18:14:23Z","url":"https://github.com/temporalio/temporal/issues/320"}
