{"assignees":[],"author":{"id":"MDQ6VXNlcjE1MjYxNzY1","is_bot":false,"login":"CarlosEssun","name":""},"body":"## Expected Behavior\r\nHope that the currently running Xworkflow can be canceled through CancelWorkflow or RequestCancelWorkflowExecution\r\n\r\n## Actual Behavior\r\nDefine a DownloadWorkflow in which there are two activities DumpActivity and LoadActivity. When CancelWorkflow(ctx, req.WorkflowId, req.RunId) is used to cancel, the following activities will still be executed. Is there any way to cancel the currently running workflow task?\r\n\r\n## Steps to Reproduce the Problem\r\n`2023/06/16 10:19:29 Started Workflow Execution WorkflowID 02029f6f-d4bb-4eef-b94c-035222ee06f0 RunID c3ee77e9-27cc-44b2-8728-8ed4f42a0a9e\r\n2023/06/16 10:19:29 INFO  cancel workflow started Namespace test TaskQueue test WorkerID 10041@essun.com@ WorkflowType CannelDumplingWorkflow WorkflowID 02029f6f-d4bb-4eef-b94c-035222ee06f0 RunID c3ee77e9-27cc-44b2-8728-8ed4f42a0a9e Attempt 1\r\n2023/06/16 10:19:29 DEBUG ExecuteActivity Namespace test TaskQueue test WorkerID 10041@essun.com@ WorkflowType CannelDumplingWorkflow WorkflowID 02029f6f-d4bb-4eef-b94c-035222ee06f0 RunID c3ee77e9-27cc-44b2-8728-8ed4f42a0a9e Attempt 1 ActivityID 5 ActivityType DumperActivity\r\n\r\n2023/06/16 10:20:11 DEBUG RequestCancelActivity Namespace test TaskQueue test WorkerID 10041@essun.com@ WorkflowType CannelDumplingWorkflow WorkflowID 02029f6f-d4bb-4eef-b94c-035222ee06f0 RunID c3ee77e9-27cc-44b2-8728-8ed4f42a0a9e Attempt 1 ActivityID 11\r\n......\r\n2023/06/16 10:20:39 INFO Namespace test TaskQueue test WorkerID 10041@essun.com@ WorkflowType CannelDumplingWorkflow WorkflowID 02029f6f-d4bb-4eef-b94c-035222ee06f0 RunID c3ee77e9-27cc-44b2-8728-8ed4f42a0a9e Attempt 1 \r\n2023/06/16 10:20:39 DEBUG ExecuteActivity Namespace test TaskQueue test WorkerID 10041@essun.com@ WorkflowType CannelDumplingWorkflow WorkflowID 02029f6f-d4bb-4eef-b94c-035222ee06f0 RunID c3ee77e9-27cc-44b2-8728-8ed4f42a0a9e Attempt 1 ActivityID 22 ActivityType CleanMigrateActivity\r\n\r\n`\r\n## Specifications\r\n\r\n  - Version:  go sdk 1.15.0 ;temporal 1.15.0\r\n  - Platform: linux\r\n","closedAt":"2023-06-16T23:10:06Z","comments":[{"id":"IC_kwDODNqesM5fGHCA","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Cancel activity from within the workflow via the context that is used to start the activity. If the activity is already started, the activity needs to do heartbeat to be able to notice that it is cancelled.\r\nSee similar discussion here: https://community.temporal.io/t/problems-cancelling-a-running-activity-from-parent-workflow/2169\r\n\r\nPlease post this type of questions to community forum. Github is used for issue request or bug report. Thanks.","createdAt":"2023-06-16T23:10:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/4507#issuecomment-1595437184","viewerDidAuthor":false}],"createdAt":"2023-06-16T02:48:03Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":4507,"reactionGroups":[],"state":"CLOSED","title":"cancel mutil activity by  single workflow","updatedAt":"2023-06-16T23:10:06Z","url":"https://github.com/temporalio/temporal/issues/4507"}
