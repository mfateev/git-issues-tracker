{"assignees":[],"author":{"id":"U_kgDOB1mBBw","is_bot":false,"login":"jesse-triplewhale","name":""},"body":"version: 1.22.4\r\nself-hosted\r\n\r\nI deleted a schedule in the UI, but it is still returning in the web UI and via\r\n```\r\n$ temporal schedule list\r\n  ScheduleId    WorkflowType   Paused  Notes  NextRunTime  LastRunTime  \r\n...\r\n```\r\n\r\nWhen I try to delete\r\n```\r\n$ temporal schedule delete ...\r\nError: unable to delete schedule: workflow execution already completed\r\nStack trace:\r\ngoroutine 1 [running]:\r\nruntime/debug.Stack()\r\n        /opt/hostedtoolcache/go/1.20.11/x64/src/runtime/debug/stack.go:24 +0x65\r\nruntime/debug.PrintStack()\r\n        /opt/hostedtoolcache/go/1.20.11/x64/src/runtime/debug/stack.go:16 +0x19\r\ngithub.com/temporalio/cli/app.HandleError(0x24d5b60?, {0x320df40, 0xc00065a2e0})\r\n        /home/runner/work/cli/cli/app/app.go:73 +0x15b\r\ngithub.com/urfave/cli/v2.(*App).handleExitCoder(0xc0008fe160?, 0xc000225400?, {0x320df40?, 0xc00065a2e0?})\r\n        /home/runner/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/app.go:452 +0x38\r\ngithub.com/urfave/cli/v2.(*Command).Run(0xc0008fe160, 0xc000699bc0, {0xc0000af770, 0x5, 0x5})\r\n        /home/runner/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/command.go:276 +0xa18\r\ngithub.com/urfave/cli/v2.(*Command).Run(0x4744c20, 0xc000699a80, {0xc0000a5aa0, 0x6, 0x6})\r\n        /home/runner/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/command.go:267 +0xc4d\r\ngithub.com/urfave/cli/v2.(*Command).Run(0xc000900c60, 0xc000699940, {0xc000050070, 0x7, 0x7})\r\n        /home/runner/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/command.go:267 +0xc4d\r\ngithub.com/urfave/cli/v2.(*App).RunContext(0xc0007b25a0, {0x322f340?, 0xc00005a028}, {0xc000050070, 0x7, 0x7})\r\n        /home/runner/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/app.go:332 +0x616\r\ngithub.com/urfave/cli/v2.(*App).Run(0x60?, {0xc000050070?, 0x0?, 0x0?})\r\n        /home/runner/go/pkg/mod/github.com/urfave/cli/v2@v2.25.7/app.go:309 +0x38\r\nmain.main()\r\n        /home/runner/work/cli/cli/cmd/temporal/main.go:14 +0x33\r\n```\r\n\r\nThank you!","closedAt":null,"comments":[{"id":"IC_kwDODNqesM573KQK","author":{"login":"dnr"},"authorAssociation":"MEMBER","body":"That looks like the change to the status of the schedule workflow hasn't made it to visibility. Which main and visibility backends are you using? Have you noticed any other visibility issues, any other situations where the result of ListWorkflows isn't in sync with the status of running workflows? Any visibility-related errors in logs or metrics, i.e. for visibility task processing or ES bulk processor (if using ES)?","createdAt":"2024-04-25T19:48:12Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5785#issuecomment-2078057482","viewerDidAuthor":false},{"id":"IC_kwDODNqesM58XC9q","author":{"login":"jesse-triplewhale"},"authorAssociation":"NONE","body":"Hi, thanks for the response - we're using postgres + Elasticsearch. I haven't noticed any other behaviors like this (although I think I have seen this behavior multiple times). I ended up deleting and recreating the namespace to clean it up","createdAt":"2024-04-30T18:21:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5785#issuecomment-2086416234","viewerDidAuthor":false}],"createdAt":"2024-04-24T09:23:06Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":5785,"reactionGroups":[],"state":"OPEN","title":"deleted schedule showing","updatedAt":"2024-04-30T18:21:34Z","url":"https://github.com/temporalio/temporal/issues/5785"}
