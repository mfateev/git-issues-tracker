{"assignees":[{"id":"MDQ6VXNlcjIwNjgxMjQ=","login":"rodrigozhou","name":"Rodrigo Zhou","databaseId":0}],"author":{"id":"MDQ6VXNlcjM4ODUwMzg=","is_bot":false,"login":"anthonywong555","name":"Anthony Wong"},"body":"## Expected Behavior\r\n\r\nAll the search attributes should have been added when using the `temporal operator search-attribute create` **command** back-to-back.\r\n\r\n## Actual Behavior\r\n\r\nWhen executing the following command:\r\n\r\n```sh\r\ntemporal operator search-attribute list | grep Custom\r\n  CustomStringField           Text\r\n```\r\n\r\nYou can see that only one search attribute was added.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nIn the terminal, execute the following commands:\r\n  1. temporal server start-dev\r\n  2. temporal operator search-attribute create --name CustomIntField --type Int\r\n  3. temporal operator search-attribute create --name CustomDatetimeField --type Datetime\r\n  4. temporal operator search-attribute create --name CustomKeywordField --type Keyword\r\n  5. temporal operator search-attribute create --name CustomBoolField --type Bool\r\n  6. temporal operator search-attribute create --name CustomDoubleField --type Double\r\n  7. temporal operator search-attribute create --name CustomStringField --type Text\r\n\r\n## Workaround\r\n\r\nIn testing, it looks like if you execute the following command:\r\n\r\n```sh\r\ntemporal operator search-attribute create \\\r\n    --name CustomIntField --type Int \\\r\n    --name CustomDatetimeField --type Datetime \\\r\n    --name CustomKeywordField --type Keyword \\\r\n    --name CustomBoolField --type Bool \\\r\n    --name CustomDoubleField --type Double \\\r\n    --name CustomStringField --type Text\r\n```\r\n\r\nThis would save all the search attributes. \r\n\r\n## Specifications\r\n\r\n  - Version: Temporal Version 0.6.0 (Server 1.20.0) (UI 2.11.0)\r\n","closedAt":"2023-03-29T22:07:29Z","comments":[{"id":"IC_kwDODNqesM5YJ3fp","author":{"login":"rodrigozhou"},"authorAssociation":"MEMBER","body":"PR https://github.com/temporalio/temporal/pull/4080 should fix the issue.","createdAt":"2023-03-22T06:24:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/4073#issuecomment-1478981609","viewerDidAuthor":false}],"createdAt":"2023-03-21T21:46:38Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":4073,"reactionGroups":[],"state":"CLOSED","title":"Search Attributes fail to be added when executed back to back","updatedAt":"2023-03-29T22:07:29Z","url":"https://github.com/temporalio/temporal/issues/4073"}
