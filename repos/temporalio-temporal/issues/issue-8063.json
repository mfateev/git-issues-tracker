{"assignees":[],"author":{"id":"MDQ6VXNlcjMzMzIyOTA3","is_bot":false,"login":"piotrkolodziej","name":"Piotr Ko≈Çodziej"},"body":"I am successfully using temporal auto-setup with ES7, but when I want to set up a new k8s deployment for V8 it crashes with two files missing (cluster_settings_v8 and index_template_v8):\n\n```\n[2025-07-17  21:50:27]\t(temporal-6956b45cc-tlh56 temporal)\tcurl: Failed to open \n[2025-07-17  21:50:27]\t(temporal-6956b45cc-tlh56 temporal)\tcurl: /etc/temporal/schema/elasticsearch/visibility/index_template_v8.json\n[2025-07-17  21:50:27]\t(temporal-6956b45cc-tlh56 temporal)\tcurl: option --data-binary: error encountered when reading a file\n\n```\n\nand\n\n```\n[2025-07-17  21:50:27]\t(temporal-6956b45cc-tlh56 temporal)\tcurl: Failed to open \n[2025-07-17  21:50:27]\t(temporal-6956b45cc-tlh56 temporal)\tcurl: /etc/temporal/schema/elasticsearch/visibility/cluster_settings_v8.json\n[2025-07-17  21:50:27]\t(temporal-6956b45cc-tlh56 temporal)\tcurl: option --data-binary: error encountered when reading a file\n\n```\n\n`image: temporalio/auto-setup:1.27.2`\n\nI even tried attaching a ConfigMap with those two dummy empty files, but then it fails on:\n\n`[2025-07-17  21:55:44]\t(temporal-6956b45cc-q5mz7 temporal)\tcurl: (22) The requested URL returned error: 400`\n\nIs there any chance I can get a hold of those two files? Am I doing something wrong here? ","closedAt":"2025-09-04T22:04:41Z","comments":[{"id":"IC_kwDODNqesM6_d8IV","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Can you try and omit ES_VERSION from the auto-setup environment variables? The v7 schema should be compatible with v8.","createdAt":"2025-08-21T22:52:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/8063#issuecomment-3212296725","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6_eoSM","author":{"login":"rodrigozhou"},"authorAssociation":"MEMBER","body":"In fact, you can completely ignore the `ES_VERSION` env var, it doesn't have effect in running Temporal ES7 or ES8.\nYou can simply start ES8, and run Temporal with ES_VERSION=v7, and it should work.","createdAt":"2025-08-21T23:44:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/8063#issuecomment-3212477580","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7CEZZS","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"@rodrigozhou removed the ES_VERSION env var from the script here: https://github.com/temporalio/docker-builds/commit/38db15d48e42178075601eb225b37309265b865b","createdAt":"2025-09-04T22:04:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/8063#issuecomment-3255932498","viewerDidAuthor":false}],"createdAt":"2025-07-17T19:57:49Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":8063,"reactionGroups":[],"state":"CLOSED","title":"temporalio/auto-setup can't run ES8","updatedAt":"2025-09-04T22:04:41Z","url":"https://github.com/temporalio/temporal/issues/8063"}
