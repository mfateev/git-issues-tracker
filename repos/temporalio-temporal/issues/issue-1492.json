{"assignees":[],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"**Is your feature request related to a problem? Please describe.**\r\nSome use cases need to pass the same payload to a large number of activities or child worklfows. In the current model, the payload will be repeated in the history as many times as the number of invocations. Recording the same payload many times is clearly nonoptimal.\r\n\r\n**Describe the solution you'd like**\r\nI don't have a specific API/feature proposal to resolve this issue. But I believe some solution that saves such a payload only once should be possible. \r\n\r\nOne simplistic strawman is to have a special command to save a payload and then allow referencing it in other places of a workflow. \r\n\r\nAnother idea is to perform payload deduplication by storing large payload hashes in the mutable state.\r\n\r\n**Additional context**\r\nA [forum post ](https://community.temporal.io/t/workflow-history-size-count-exceeds-limit/1999) that describes a customer having issues with a large payload passed to many child workflows.\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5SbwGl","author":{"login":"mycroftcanner"},"authorAssociation":"NONE","body":"I wanted to add that the idea of \"payload deduplication by storing large payload hashes in the mutable state\" mentioned in the GitHub issue reminds me of [Plan 9's Venti](http://doc.cat-v.org/plan_9/4th_edition/papers/venti/). This approach could also potentially enforce a write-once policy, preventing accidental or malicious destruction of data.\r\n","createdAt":"2023-01-15T00:50:13Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1492#issuecomment-1383006629","viewerDidAuthor":false}],"createdAt":"2021-04-25T18:24:29Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5OTIzNjU1","name":"devexp","description":"","color":"9350b7"},{"id":"MDU6TGFiZWwzMTM4ODI4MTE3","name":"up-for-grabs","description":"Issues to consider for external contribution","color":"69CD90"}],"milestone":null,"number":1492,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":12}}],"state":"OPEN","title":"Optimize large payload fan-out to activities and child workflows","updatedAt":"2023-03-03T20:22:03Z","url":"https://github.com/temporalio/temporal/issues/1492"}
