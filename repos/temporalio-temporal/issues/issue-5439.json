{"assignees":[],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"**Is your feature request related to a problem? Please describe.**\r\nWhen histories are large, a worker restart invalidates all the cached histories. This leads to increased latency for all the workflows that were cached on that worker.\r\n\r\n**Describe the solution you'd like**\r\nWhen a worker gracefully shuts down (or even crashes), the workflows that are cached on it are recovered on other workers to get cached before any tasks are generated for them.\r\n\r\n**Additional context**\r\nThis is how a user requested it:\r\n\r\n> Moving workflows that have a high history size from one worker to another when you have to kill the worker (to update for example) can be painful. It would be great if there was a way to mark workflows as \"require preemptive cache alocation\" or something that ensures that the cache is coordinated when killing the worker (or some similar strategy to make killing such a worker less painful)\r\n\r\n","closedAt":null,"comments":[],"createdAt":"2024-02-20T05:06:51Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":5439,"reactionGroups":[],"state":"OPEN","title":"Worker cache handover","updatedAt":"2024-02-23T22:34:57Z","url":"https://github.com/temporalio/temporal/issues/5439"}
