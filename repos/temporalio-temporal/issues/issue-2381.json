{"assignees":[],"author":{"id":"MDQ6VXNlcjg1NDg1OQ==","is_bot":false,"login":"rhetzler","name":"Robert Hetzler"},"body":"## Expected Behavior\r\n\r\n```\r\n        DescribeTaskQueueRequest request = DescribeTaskQueueRequest.newBuilder()\r\n                                    .setNamespace(namespace)\r\n                                    .setTaskQueue(queue)\r\n                                    .setTaskQueueType(TaskQueueType.TASK_QUEUE_TYPE_UNSPECIFIED)\r\n                                    .setIncludeTaskQueueStatus(true)\r\n                                    .build();\r\n```\r\n`TaskQueueType.TASK_QUEUE_TYPE_UNSPECIFIED` implies (in the absence of clear docs) that all types of taskQueues would match.\r\n\r\n## Actual Behavior\r\nnothing matches. instead you must use `TaskQueueType.TASK_QUEUE_TYPE_WORKFLOW` or `ACTIVITY` to get any results.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nlogged in slack: https://temporalio.slack.com/archives/CTT84KXK9/p1622848389156200\r\n\r\n```\r\n        log.info(namespace);\r\n        log.info(taskQueueName);\r\n        TaskQueue queue = TaskQueue.newBuilder()\r\n                                    .setName(taskQueueName)\r\n                                    .setKind(TaskQueueKind.TASK_QUEUE_KIND_NORMAL)\r\n                                    .build();\r\n        DescribeTaskQueueRequest request = DescribeTaskQueueRequest.newBuilder()\r\n                                    .setNamespace(namespace)\r\n                                    .setTaskQueue(queue)\r\n                                    .setIncludeTaskQueueStatus(true)\r\n                                    .build();\r\n        DescribeTaskQueueResponse taskQueueDescription = serviceBlockingStub.describeTaskQueue(request);\r\n        log.info(\"{}\",taskQueueDescription.getPollersCount());\r\n```\r\n> note the omitted `.setTaskQueueType()` which implicitly is `TaskQueueType.TASK_QUEUE_TYPE_UNSPECIFIED`\r\n\r\n## Specifications\r\n\r\n  - Version:\r\n  - Platform:\r\n","closedAt":"2023-09-02T01:30:22Z","comments":[{"id":"IC_kwDODNqesM48XiZL","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Transferring back to the server repo. \r\nThis doesn't look like a java-sdk bug. It's reproduced using java-sdk using a raw gRPC stub (which means that there is no real SDK logic here), so this bug is about the server behavior.\r\nWhen Temporal Server side looks good, I will verify that test server is alligned with the Temporal Server behavior.","createdAt":"2022-01-14T06:10:52Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2381#issuecomment-1012803147","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5NPmks","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"When the TaskQueueType is not specified, server should use a default type (TASK_QUEUE_TYPE_WORKFLOW), and this needs to be documented. \r\n","createdAt":"2022-10-29T18:52:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2381#issuecomment-1295935788","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5li1yO","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"https://github.com/temporalio/temporal/pull/4815","createdAt":"2023-09-02T01:30:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/2381#issuecomment-1703632014","viewerDidAuthor":false}],"createdAt":"2021-06-08T03:32:32Z","labels":[],"milestone":null,"number":2381,"reactionGroups":[],"state":"CLOSED","title":"Behaviour of DescribeTaskQueueRequest - TaskQueueType.TASK_QUEUE_TYPE_UNSPECIFIED ) is counterintuitive","updatedAt":"2023-09-02T01:30:22Z","url":"https://github.com/temporalio/temporal/issues/2381"}
