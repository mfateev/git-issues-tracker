{"assignees":[],"author":{"id":"MDQ6VXNlcjE4NDYzODE2","is_bot":false,"login":"sonpham96","name":""},"body":"## Expected Behavior\r\nThere is no CVE found in the `temporalio/server` image.\r\n\r\n## Actual Behavior\r\nThere are **27** vulnerabilities found for image temporalio/server:1.23.0, including 5 high, 19 medium and 3 low CVEs.\r\n\r\nScan results:\r\n```sh\r\nScan results for: image temporalio/server:1.23.0 sha256:5ace4dfce78a30f760d9a0550dceef17e47fac11374e83d85a2762cde767ea41\r\nVulnerabilities\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n|       CVE        | SEVERITY | CVSS |                                   PACKAGE                                   |                VERSION                |             STATUS              | PUBLISHED  | DISCOVERED |                    DESCRIPTION                     |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-47108   | high     | 7.50 | go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc | v0.36.4                               | fixed in 0.46.0                 | > 5 months | < 1 hour   | OpenTelemetry-Go Contrib is a collection of        |\r\n|                  |          |      |                                                                             |                                       | > 5 months ago                  |            |            | third-party packages for OpenTelemetry-Go.         |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Prior to version 0.46.0, the grpc Unary Server     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Interceptor out ...                                |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-47108   | high     | 7.50 | go.opentelemetry.io/contrib/instrumentation/google.golang.org/grpc/otelgrpc | v0.42.0                               | fixed in 0.46.0                 | > 5 months | < 1 hour   | OpenTelemetry-Go Contrib is a collection of        |\r\n|                  |          |      |                                                                             |                                       | > 5 months ago                  |            |            | third-party packages for OpenTelemetry-Go.         |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Prior to version 0.46.0, the grpc Unary Server     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Interceptor out ...                                |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-39325   | high     | 7.50 | golang.org/x/net/http2                                                      | v0.7.0                                | fixed in 0.17.0                 | > 6 months | < 1 hour   | A malicious HTTP/2 client which rapidly creates    |\r\n|                  |          |      |                                                                             |                                       | 51 days ago                     |            |            | requests and immediately resets them can cause     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | excessive server resource consumption. While the   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | total ...                                          |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-44487   | high     | 5.30 | golang.org/x/net                                                            | v0.7.0                                | fixed in 0.17.0                 | > 6 months | < 1 hour   | The HTTP/2 protocol allows a denial of service     |\r\n|                  |          |      |                                                                             |                                       | > 6 months ago                  |            |            | (server resource consumption) because request      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | cancellation can reset many streams quickly, as    |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | exploited...                                       |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-44487   | high     | 5.30 | google.golang.org/grpc                                                      | v1.53.0                               | fixed in 1.58.3, 1.57.1, 1.56.3 | > 6 months | < 1 hour   | The HTTP/2 protocol allows a denial of service     |\r\n|                  |          |      |                                                                             |                                       | > 5 months ago                  |            |            | (server resource consumption) because request      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | cancellation can reset many streams quickly, as    |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | exploited...                                       |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| PRISMA-2023-0056 | medium   | 6.20 | github.com/sirupsen/logrus                                                  | v1.9.0                                | fixed in v1.9.3                 | > 1 years  | < 1 hour   | The github.com/sirupsen/logrus module of all       |\r\n|                  |          |      |                                                                             |                                       | > 1 years ago                   |            |            | versions is vulnerable to denial of service.       |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Logging more than 64kb of data in a single entry   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | without new...                                     |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-6992    | medium   | 5.50 | zlib                                                                        | 1.3.1-r0                              |                                 | > 3 months | < 1 hour   | Cloudflare version of zlib library was found       |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | to be vulnerable to memory corruption issues       |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | affecting the deflation algorithm implementation   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | (deflate.c)...                                     |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-42366   | medium   | 5.50 | busybox                                                                     | 1.36.1                                |                                 | > 4 months | < 1 hour   | A heap-buffer-overflow was discovered in BusyBox   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | v.1.36.1 in the next_token function at awk.c:1159. |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-42365   | medium   | 5.50 | busybox                                                                     | 1.36.1                                |                                 | > 4 months | < 1 hour   | A use-after-free vulnerability was discovered in   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | BusyBox v.1.36.1 via a crafted awk pattern in the  |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | awk.c copyvar function.                            |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-42364   | medium   | 5.50 | busybox                                                                     | 1.36.1                                |                                 | > 4 months | < 1 hour   | A use-after-free vulnerability in BusyBox v.1.36.1 |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | allows attackers to cause a denial of service      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | via a crafted awk pattern in the awk.c evaluate    |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | funct...                                           |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-42363   | medium   | 5.50 | busybox                                                                     | 1.36.1                                |                                 | > 4 months | < 1 hour   | A use-after-free vulnerability was discovered      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | in xasprintf function in xfuncs_printf.c:344 in    |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | BusyBox v.1.36.1.                                  |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-2435    | moderate | 4.30 | github.com/temporalio/ui-server/v2                                          | v2.21.3                               | fixed in 2.25.0                 | 14 days    | < 1 hour   | For an attacker with pre-existing access to send   |\r\n|                  |          |      |                                                                             |                                       | 14 days ago                     |            |            | a signal to a workflow, the attacker can make the  |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | signal name a script that executes when a victim   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | vi...                                              |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-28180   | moderate | 0.00 | gopkg.in/square/go-jose.v2                                                  | v2.6.0                                | fixed in                        | 39 days    | < 1 hour   | Package jose aims to provide an implementation     |\r\n|                  |          |      |                                                                             |                                       | 32 days ago                     |            |            | of the Javascript Object Signing and Encryption    |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | set of standards. An attacker could send a JWE     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | containi...                                        |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-27304   | moderate | 0.00 | github.com/jackc/pgx/v5/internal/sanitize                                   | v5.4.3                                | fixed in 5.5.4                  | 42 days    | < 1 hour   | pgx: SQL Injection via Protocol Message Size       |\r\n|                  |          |      |                                                                             |                                       | 33 days ago                     |            |            | Overflow                                           |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-27304   | moderate | 0.00 | github.com/jackc/pgx/v5/pgproto3                                            | v5.4.3                                | fixed in 5.5.4                  | 42 days    | < 1 hour   | pgx: SQL Injection via Protocol Message Size       |\r\n|                  |          |      |                                                                             |                                       | 33 days ago                     |            |            | Overflow                                           |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-27304   | moderate | 0.00 | github.com/jackc/pgx/v5/pgconn                                              | v5.4.3                                | fixed in 5.5.4                  | 42 days    | < 1 hour   | pgx: SQL Injection via Protocol Message Size       |\r\n|                  |          |      |                                                                             |                                       | 33 days ago                     |            |            | Overflow                                           |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-24786   | moderate | 0.00 | google.golang.org/protobuf/internal/encoding/json                           | v1.31.0                               | fixed in 1.33.0                 | 42 days    | < 1 hour   | The protojson.Unmarshal function can enter an      |\r\n|                  |          |      |                                                                             |                                       | 42 days ago                     |            |            | infinite loop when unmarshaling certain forms      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | of invalid JSON. This condition can occur when     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | unmarshalin...                                     |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-24786   | moderate | 0.00 | google.golang.org/protobuf/encoding/protojson                               | v1.31.0                               | fixed in 1.33.0                 | 42 days    | < 1 hour   | The protojson.Unmarshal function can enter an      |\r\n|                  |          |      |                                                                             |                                       | 42 days ago                     |            |            | infinite loop when unmarshaling certain forms      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | of invalid JSON. This condition can occur when     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | unmarshalin...                                     |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-24786   | moderate | 0.00 | google.golang.org/protobuf/internal/encoding/json                           | v1.28.1                               | fixed in 1.33.0                 | 42 days    | < 1 hour   | The protojson.Unmarshal function can enter an      |\r\n|                  |          |      |                                                                             |                                       | 42 days ago                     |            |            | infinite loop when unmarshaling certain forms      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | of invalid JSON. This condition can occur when     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | unmarshalin...                                     |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-24786   | moderate | 0.00 | google.golang.org/protobuf/encoding/protojson                               | v1.28.1                               | fixed in 1.33.0                 | 42 days    | < 1 hour   | The protojson.Unmarshal function can enter an      |\r\n|                  |          |      |                                                                             |                                       | 42 days ago                     |            |            | infinite loop when unmarshaling certain forms      |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | of invalid JSON. This condition can occur when     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | unmarshalin...                                     |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-45288   | moderate | 0.00 | golang.org/x/net/http2                                                      | v0.22.0                               | fixed in 0.23.0                 | 12 days    | < 1 hour   | An attacker may cause an HTTP/2 endpoint to        |\r\n|                  |          |      |                                                                             |                                       | 12 days ago                     |            |            | read arbitrary amounts of header data by sending   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | an excessive number of CONTINUATION frames.        |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Maintaining H...                                   |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-45288   | moderate | 0.00 | net/http                                                                    | 1.22.1                                | fixed in 1.21.9, 1.22.2         | 12 days    | < 1 hour   | An attacker may cause an HTTP/2 endpoint to        |\r\n|                  |          |      |                                                                             |                                       | 12 days ago                     |            |            | read arbitrary amounts of header data by sending   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | an excessive number of CONTINUATION frames.        |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Maintaining H...                                   |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-45288   | moderate | 0.00 | golang.org/x/net/http2                                                      | v0.7.0                                | fixed in 0.23.0                 | 12 days    | < 1 hour   | An attacker may cause an HTTP/2 endpoint to        |\r\n|                  |          |      |                                                                             |                                       | 12 days ago                     |            |            | read arbitrary amounts of header data by sending   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | an excessive number of CONTINUATION frames.        |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Maintaining H...                                   |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-45288   | moderate | 0.00 | golang.org/x/net/http2                                                      | v0.18.0                               | fixed in 0.23.0                 | 12 days    | < 1 hour   | An attacker may cause an HTTP/2 endpoint to        |\r\n|                  |          |      |                                                                             |                                       | 12 days ago                     |            |            | read arbitrary amounts of header data by sending   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | an excessive number of CONTINUATION frames.        |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | Maintaining H...                                   |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2023-3485    | low      | 3.00 | go.temporal.io/server                                                       | v1.18.1-0.20230217005328-b313b7f58641 | fixed in 1.20.0                 | > 9 months | < 1 hour   | Insecure defaults in open-source Temporal Server   |\r\n|                  |          |      |                                                                             |                                       | > 9 months ago                  |            |            | before version 1.20 on all platforms allows an     |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | attacker to craft a task token with access to a    |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | namesp...                                          |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-25629   | low      | 0.00 | c-ares                                                                      | 1.24.0-r1                             | fixed in 1.27.0-r0              | 53 days    | < 1 hour   | c-ares is a C library for asynchronous DNS         |\r\n|                  |          |      |                                                                             |                                       | 22 days ago                     |            |            | requests. `ares__read_line()` is used to           |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | parse local configuration files such as            |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | `/etc/resolv.conf`, `/etc/...                      |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n| CVE-2024-2511    | low      | 0.00 | openssl                                                                     | 3.1.4-r5                              | fixed in 3.1.4-r6               | n/a        | < 1 hour   | Issue summary: Some non-default TLS server         |\r\n|                  |          |      |                                                                             |                                       | 7 days ago                      |            |            | configurations can cause unbounded memory growth   |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | when processing TLSv1.3 sessions  Impact summary:  |\r\n|                  |          |      |                                                                             |                                       |                                 |            |            | An attac...                                        |\r\n+------------------+----------+------+-----------------------------------------------------------------------------+---------------------------------------+---------------------------------+------------+------------+----------------------------------------------------+\r\n\r\nVulnerabilities found for image temporalio/server:1.23.0: total - 27, critical - 0, high - 5, medium - 19, low - 3\r\nVulnerability threshold check results: PASS\r\n\r\nCompliance found for image temporalio/server:1.23.0: total - 0, critical - 0, high - 0, medium - 0, low - 0\r\nCompliance threshold check results: PASS\r\n```\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Pull the latest image `temporalio/server:1.23.0` from Dockerhub\r\n  2. Scan the image with any vulnerability scanner\r\n\r\n## Specifications\r\n\r\n  - Version: `1.23.0`\r\n  - Platform: N/A\r\n","closedAt":"2024-10-22T17:13:34Z","comments":[{"id":"IC_kwDODNqesM6KdDGB","author":{"login":"vithubati"},"authorAssociation":"NONE","body":"Hi Any update on this issue ?","createdAt":"2024-08-31T11:40:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5740#issuecomment-2322870657","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6NP3sT","author":{"login":"cgetzen"},"authorAssociation":"NONE","body":"I'm curious if there are any SLO's around managing CVEs in temporal","createdAt":"2024-09-23T23:16:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5740#issuecomment-2369747731","viewerDidAuthor":false}],"createdAt":"2024-04-17T09:43:50Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":5740,"reactionGroups":[{"content":"HEART","users":{"totalCount":3}}],"state":"CLOSED","title":"Addressing a lot of security vulnerabilities in the latest Temporal server release 1.23.0","updatedAt":"2024-10-22T17:13:34Z","url":"https://github.com/temporalio/temporal/issues/5740"}
