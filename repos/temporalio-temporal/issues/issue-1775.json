{"assignees":[],"author":{"id":"MDQ6VXNlcjE2NzIzNQ==","is_bot":false,"login":"daa","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nI have a HA PostgreSQL cluster consisting of 1 master and 2 replicas with quorum commit and I'd like to use client-side failover like ``libpq`` has (https://www.postgresql.org/docs/13/libpq-connect.html, 31.3.3). But currently I can't because Go's ``lib/pq`` module is in maintenance mode (https://github.com/lib/pq#status) and lacks required features (https://github.com/lib/pq/issues/683).\r\n\r\n**Describe the solution you'd like**\r\nI think that the best and easiest way would be to use ``pgx`` as a PostgreSQL driver instead of ``pq`` because it's actively maintained, has necessary features and is compatible with ``sqlx`` used in SQL plugins.\r\n\r\n**Describe alternatives you've considered**\r\nAlternative solution may be to deploy and use proxy to handle failover and load balancing however this makes scheme more complex which I'd like to avoid.\r\n\r\n**Additional context**\r\nAuthors of ``lib/pq`` recommend using ``pgx`` on package front page.","closedAt":"2023-10-09T22:38:53Z","comments":[{"id":"IC_kwDODNqesM5KbvnZ","author":{"login":"wilsoniya"},"authorAssociation":"NONE","body":"I'd also like to see support for multiple hosts for HA Postgres.\r\n\r\nAbsent this, is there documentation for alternative ways to use multi-host (i.e., HA) postgres with temporal?","createdAt":"2022-09-16T00:33:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1775#issuecomment-1248786905","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5MQt4Q","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"We don't have resource to work on this at the moment. Contribution on this would be awesome.","createdAt":"2022-10-14T20:48:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1775#issuecomment-1279450640","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5e-BIk","author":{"login":"wilsoniya"},"authorAssociation":"NONE","body":"A bug in `lib/pq`  appears to be a direct cause of this https://github.com/temporalio/temporal/issues/4184","createdAt":"2023-06-15T15:42:50Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1775#issuecomment-1593315876","viewerDidAuthor":false}],"createdAt":"2021-07-28T17:56:25Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1775,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"CLOSED","title":"Consider switch to jackc/pgx from lib/pq","updatedAt":"2023-10-09T22:38:53Z","url":"https://github.com/temporalio/temporal/issues/1775"}
