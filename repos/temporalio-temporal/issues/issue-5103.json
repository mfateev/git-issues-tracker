{"assignees":[],"author":{"id":"MDQ6VXNlcjE0OTIxOTIz","is_bot":false,"login":"mugambikimathi","name":""},"body":"## Expected Behavior\r\nSeamless integration with Opensearch 2.11\r\n\r\n## Actual Behavior\r\nGetting an error on the console and ui\r\n`temporal                  | {\"level\":\"error\",\"ts\":\"2023-11-09T06:36:44.512Z\",\"msg\":\"elastic: bulk processor \\\"visibility-processor\\\" failed but may retry: elastic: Error 400 (Bad Request): Illegal character ((CTRL-CHAR, code 31)): only regular white space (\\\\r, \\\\n, \\\\t) is allowed between tokens\\n at [Source: (byte[])\\\"\\\\^_�\\\\^H\\\\^@\\\\^@\\\\^@\\\\^@\\\\^@\\\\^@���Ko�F\\\\^W\\\\^F���3f�1�~�2�\\\"; line: 1, column: 2] [type=json_parse_exception]\",\"logging-call-at\":\"logger.go:48\",\"stacktrace\":\"go.temporal.io/server/common/log.(*zapLogger).Error\\n\\t/home/builder/temporal/common/log/zap_logger.go:156\\ngo.temporal.io/server/common/persistence/visibility/store/elasticsearch/client.(*errorLogger).Printf\\n\\t/home/builder/temporal/common/persistence/visibility/store/elasticsearch/client/logger.go:48\\ngithub.com/olivere/elastic/v7.(*Client).errorf\\n\\t/go/pkg/mod/github.com/olivere/elastic/v7@v7.0.32/client.go:840\\ngithub.com/olivere/elastic/v7.(*bulkWorker).commit.func2\\n\\t/go/pkg/mod/github.com/olivere/elastic/v7@v7.0.32/bulk_processor.go:559\\ngithub.com/olivere/elastic/v7.RetryNotify\\n\\t/go/pkg/mod/github.com/olivere/elastic/v7@v7.0.32/retry.go:51\\ngithub.com/olivere/elastic/v7.(*bulkWorker).commit\\n\\t/go/pkg/mod/github.com/olivere/elastic/v7@v7.0.32/bulk_processor.go:580\\ngithub.com/olivere/elastic/v7.(*bulkWorker).work\\n\\t/go/pkg/mod/github.com/olivere/elastic/v7@v7.0.32/bulk_processor.go:501\"}`\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Install Opensearch\r\n  2. Connect temporal to opensearch 2.11 for advanced visibility\r\n  \r\n\r\n## Specifications\r\n\r\n  - Version: Opensearch 2.11\r\n  - Platform: Server 1.2.0 / UI 2.11.0\r\n","closedAt":"2023-11-17T22:45:18Z","comments":[{"id":"IC_kwDODNqesM5rodVn","author":{"login":"aromanovich"},"authorAssociation":"CONTRIBUTOR","body":"https://github.com/opensearch-project/OpenSearch/issues/10802 seems to be the reason.","createdAt":"2023-11-10T13:51:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5103#issuecomment-1805768039","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5sUIBM","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Thanks @aromanovich , looks like that issue on open search is resolved. ","createdAt":"2023-11-17T22:45:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5103#issuecomment-1817215052","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5sUJMy","author":{"login":"rodrigozhou"},"authorAssociation":"MEMBER","body":"Thanks @aromanovich for pointing that out. It seems that it's not a Temporal issue, so I'm gonna close the issue.\r\n@mugambikimathi feel free to open again if you think it might also be related to Temporal.","createdAt":"2023-11-17T22:51:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5103#issuecomment-1817219890","viewerDidAuthor":false}],"createdAt":"2023-11-10T08:41:11Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":5103,"reactionGroups":[],"state":"CLOSED","title":"bulk processor error with Opensearch 2.11","updatedAt":"2023-11-17T22:51:55Z","url":"https://github.com/temporalio/temporal/issues/5103"}
