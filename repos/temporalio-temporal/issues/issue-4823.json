{"assignees":[{"id":"MDQ6VXNlcjQ2NjcyMw==","login":"dnr","name":"David Reiss","databaseId":0}],"author":{"id":"MDQ6VXNlcjgyOTM5ODI3","is_bot":false,"login":"sonrel","name":""},"body":"Set up:\r\n2 seperate running clusters, Cluster-1 and Cluster-2. Both are configured with custom authorizers with OAuth authorization.\r\n\r\n## Expected Behavior\r\n\r\n1.  _Request-1_: _addOrUpsertRemoteCluster_ request to _Cluster-1_ with bearer token.\r\n2. _Request-1_ passes authorization check on _Cluster-1_\r\n3. Frontend service from _Cluster-1_ makes a _Request-2_ to _Cluster-2_ with propagated token from _Request-1_ \r\n4. _Request-2_ passes authorization check on _Cluster-2_\r\n\r\n## Actual Behavior\r\n\r\n1.  _Request-1_: _addOrUpsertRemoteCluster_ request to _Cluster-1_ with bearer token.\r\n2. _Request-1_ passes authorization check on _Cluster-1_\r\n3. Frontend service from _Cluster-1_ makes a _Request-2_ to _Cluster-2_ does not propagate token from _Request-1_ \r\n4. _Request-2_ fails authorization check on _Cluster-2_\r\n\r\n## Steps to Reproduce the Problem\r\n  1. Run 2 seperate clusters with OAuth authorizers (set them up to deny request with emtpy tokens)\r\n  2. Make a request _addOrUpsertRemoteCluster_ :\r\n  `temporal operator cluster upsert --frontend-address 'remote.address' --grpc-meta 'authorization=bearer TOKEN'`\r\n\r\n\r\n## Specifications\r\n\r\n  - Version: 1.20.3\r\n  - Platform: kubernetes, docker compose, any.\r\n","closedAt":null,"comments":[],"createdAt":"2023-08-31T12:21:48Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":4823,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"OPEN","title":"Bearer token not passed to remote cluster when adding or upserting remote cluster","updatedAt":"2023-09-01T21:38:40Z","url":"https://github.com/temporalio/temporal/issues/4823"}
