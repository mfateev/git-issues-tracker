{"assignees":[],"author":{"id":"MDQ6VXNlcjgxNzU5MzI=","is_bot":false,"login":"vanhtuan0409","name":"Tuấn Vương"},"body":"## Expected Behavior\r\n\r\nI want to migrate the visibility store from ES to Postgres using Dual Visibility Store feature. Expected behavior to be able to dual write to both ES and Postgres. Temporal config:\r\n\r\n```\r\n  visibilityStore: es-visibility\r\n  secondaryVisibilityStore: pg-visibility\r\n  datastores:\r\n    pg-visibility:\r\n      SQL:\r\n    es-visibility:\r\n      elasticsearch:\r\n```\r\n\r\n## Actual Behavior\r\n\r\nUpon starting the server, I got the following error `persistence config: cannot set secondaryVisibilityStore when visibilityStore is setting elasticsearch datastore`\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Setup the config as above\r\n  2. Start temporal server\r\n\r\n## Specifications\r\n\r\n  - Version: 1.22.3\r\n  - Platform: Linux\r\n","closedAt":null,"comments":[],"createdAt":"2024-03-05T07:58:26Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":5489,"reactionGroups":[],"state":"OPEN","title":"SecondaryVisbilityStore validation failed","updatedAt":"2024-03-05T07:58:26Z","url":"https://github.com/temporalio/temporal/issues/5489"}
