{"assignees":[{"id":"MDQ6VXNlcjg0NDExMDE0","login":"yiminc","name":"Yimin Chen","databaseId":0}],"author":{"id":"MDQ6VXNlcjE3NjY1MTU=","is_bot":false,"login":"samarabbas","name":"Samar Abbas"},"body":"**Is your feature request related to a problem? Please describe.**\r\nFor workflow executions with long history it could take a longer than workflow task timeout \r\nto paginate through history events during replay.  This would result in workflow task timeout\r\nwhich would be very bad for the system as now this task would be retried on a different host\r\nwhich would again result in replaying the history from beginning.  \r\n\r\n**Describe the solution you'd like**\r\nOne potential solution is to introduce a new concept of workflow task heartbeat while client\r\nis paginating through history during replay.  This way we can keep on renewing the workflow \r\ntask timeout while client is paginating through history events during replay.\r\n\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM4579P0","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"@yiminc this is exactly what we'd talked about today :)","createdAt":"2021-11-17T21:01:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/674#issuecomment-972018676","viewerDidAuthor":false},{"id":"IC_kwDODNqesM459LeP","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"The same workflow task heartbeat mechanism that is used by worker for local activity to extend workflow task timeout could be used here. From server's point of view, there is no difference. ","createdAt":"2021-11-17T23:59:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/674#issuecomment-972339087","viewerDidAuthor":false},{"id":"IC_kwDODNqesM459yRC","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"@Sushisource looks like a reasonable solution, wdyt, should we add to the backlog in core?","createdAt":"2021-11-18T03:50:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/674#issuecomment-972497986","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5jja1p","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"I don't think workflow task timeout is the best solution. I would make this the service responsibility to extend the timeout when history is paginated. All the needed information can be included into the pagination token.","createdAt":"2023-08-08T20:00:21Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/674#issuecomment-1670229353","viewerDidAuthor":true}],"createdAt":"2020-08-13T17:47:27Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyNTc2NTM3NTI4","name":"difficulty: medium","description":"","color":"ffaf11"},{"id":"MDU6TGFiZWwzMDAxNDk5NzYw","name":"operations","description":"","color":"f9d0c4"}],"milestone":null,"number":674,"reactionGroups":[],"state":"OPEN","title":"Heartbeat WorkflowTask during history pagination","updatedAt":"2023-08-08T20:00:21Z","url":"https://github.com/temporalio/temporal/issues/674"}
