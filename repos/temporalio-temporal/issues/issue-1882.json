{"assignees":[],"author":{"id":"MDQ6VXNlcjk0Nzc4OTE=","is_bot":false,"login":"philosophicus","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nNo.\r\n\r\n**Describe the solution you'd like**\r\nThere are ExponentialRetryPolicy and TwoPhaseRetryPolicy as far as I know. I wonder whether it's possible to have a ManualRetryPolicy which enables users to determine when to retry.\r\n\r\n**Describe alternatives you've considered**\r\n\r\n\r\n**Additional context**\r\n\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM42WYU5","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"You are asking for a full flow control on retry. You can achieve this by using signals. In your workflow, you have a signal channel, and depending on when and what signal it received, the workflow react on the signal. For example, you can define 2 type of signals, one to continue retry activity, the other to abort the activity. Your user could decide if (and when) they want to continue retry, as well as when to abort.  ","createdAt":"2021-09-02T16:01:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1882#issuecomment-911836473","viewerDidAuthor":false},{"id":"IC_kwDODNqesM42YtSW","author":{"login":"philosophicus"},"authorAssociation":"NONE","body":"@yiminc Thanks a lot for the guidance. I'll definitely test it myself.\r\nWill the heartbeat details recorded in the initial activity still be available in the retried activities?","createdAt":"2021-09-03T10:50:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1882#issuecomment-912446614","viewerDidAuthor":false},{"id":"IC_kwDODNqesM42Zdo2","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"@philosophicus , good question. I'm afraid that currently it won't be available in the client side retries. The heartbeat only available in the automatic server side initiated retries. I think it is good to expose the heartbeat result in ActivityFailedEvent/ActivityTimeoutEvent. cc @mfateev any comments?","createdAt":"2021-09-03T15:58:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1882#issuecomment-912644662","viewerDidAuthor":false},{"id":"IC_kwDODNqesM42aAbi","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"I take my above statement back.\r\nIt turns out that the last heartbeat is already exposed to ActivityTimeoutEvent via FailureInfo. See https://github.com/temporalio/api/blob/760fa1278ece08707f05b8937cc0b9c4c926eb6c/temporal/api/history/v1/message.proto#L221 https://github.com/temporalio/api/blob/760fa1278ece08707f05b8937cc0b9c4c926eb6c/temporal/api/failure/v1/message.proto#L88 \r\nhttps://github.com/temporalio/api/blob/760fa1278ece08707f05b8937cc0b9c4c926eb6c/temporal/api/failure/v1/message.proto#L45\r\n\r\nFor failure case, you could pass whatever data you want to return in the NewApplicationError() https://github.com/temporalio/sdk-go/blob/041f5c7e3e2647bf704cb2e4d6e2c8279eeae12a/internal/error.go#L266\r\n\r\nSo you should be able to do this already.","createdAt":"2021-09-03T20:16:48Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1882#issuecomment-912787170","viewerDidAuthor":false},{"id":"IC_kwDODNqesM42a1sB","author":{"login":"philosophicus"},"authorAssociation":"NONE","body":"@yiminc That's fantastic. Many thanks for your detailed reply.","createdAt":"2021-09-04T17:00:30Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1882#issuecomment-913005313","viewerDidAuthor":false}],"createdAt":"2021-09-02T10:36:19Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1882,"reactionGroups":[],"state":"OPEN","title":"support manual retries","updatedAt":"2023-03-03T20:21:37Z","url":"https://github.com/temporalio/temporal/issues/1882"}
