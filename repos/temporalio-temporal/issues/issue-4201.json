{"assignees":[],"author":{"id":"MDQ6VXNlcjE3NjQ0MjQ=","is_bot":false,"login":"StarpTech","name":"Dustin Deus"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nHi, I'm curious if someone else run into that use case. We want to ensure that only one workflow with the same ID runs at the same time and that subsequent workflow runs are queued with a concurrency of 1. We are aware that this can be solved with `SignalWithStartWorkflow` and draining the signal channel but it is very cumbersome to implement. We need to build a queue our-self. We think this mechanism should be provided by temporal natively because it manages the task queue.\r\nAlso this approach does not create a new workflow run but extends the history. This is bad for traceability, We want to see a workflow run per job. Is there anything on the roadmap to cover this issue? Therefore are they other approaches to implement this result?\r\n\r\n**Describe the solution you'd like**\r\n\r\nExtending `client.StartWorkflowOptions` with a property e.g. `TaskQueueConcurrency` to control the desired concurrency.\r\n\r\n```golang\r\n\tworkflowOptions := client.StartWorkflowOptions{\r\n\t\tID:                   \"projects/my-branch\"\r\n\t\tTaskQueue:            CreateDeploymentTaskQueueName,\r\n\t\tWorkflowIDConcurrencyPolicy: enums.WORKFLOW_CONCURRENCY_POLICY_UNLIMITED | WORKFLOW_CONCURRENCY_POLICY_SERIAL,\r\n\t}\r\n\twe, err := c.ExecuteWorkflow(context.Background(), workflowOptions, CreateDeploymentWorkflow, options)\r\n```\r\n\r\n- `WORKFLOW_CONCURRENCY_POLICY_UNLIMITED`: (default): Runs are scheduled without limits.\r\n- `WORKFLOW_CONCURRENCY_POLICY_SERIAL`: Runs with the same ID  are queued as separate runs and scheduled when the current workflow run is completed.\r\n\r\n**Describe alternatives you've considered**\r\n\r\nUsing `SignalWithStartWorkflow`.\r\n\r\n**Additional context**\r\n\r\nhttps://temporalio.slack.com/archives/CTDTU3J4T/p1682069065643249\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5pu77G","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Relevant issue: https://github.com/temporalio/temporal/issues/4386","createdAt":"2023-10-21T20:12:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/4201#issuecomment-1773911750","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6h3BEU","author":{"login":"rushabh-harness"},"authorAssociation":"NONE","body":"I have a very similar usecase : https://temporalio.slack.com/archives/CTT84KXK9/p1741636085855259\n\n","createdAt":"2025-03-11T19:56:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/4201#issuecomment-2715554068","viewerDidAuthor":false}],"createdAt":"2023-04-21T14:01:39Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":4201,"reactionGroups":[],"state":"OPEN","title":"Allow to configure max concurrency of a workflow with the same id","updatedAt":"2025-03-11T19:56:52Z","url":"https://github.com/temporalio/temporal/issues/4201"}
