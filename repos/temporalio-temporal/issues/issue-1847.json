{"assignees":[{"id":"MDQ6VXNlcjE3NjY1MTU=","login":"samarabbas","name":"Samar Abbas","databaseId":0}],"author":{"id":"MDQ6VXNlcjk5NzU4Mg==","is_bot":false,"login":"kkcmadhu","name":""},"body":"## Expected Behavior\r\nWorkers connected to standby cluster should start picking up tasks when proted as teh active cluster\r\n\r\n## Actual Behavior\r\nNo taks get dispatched to the worker connected to standby cluster\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Create an xdc setup in [docker compose](https://github.com/kkcmadhu/docker-compose/blob/patch-1/docker-compose-mysql-xdc.yml)   bring up the cluster using \r\n   `docker compose -f docker-compose-mysql-xdc.yaml up`\r\n  2. create a global namespace named xdc with clusters active and standby \r\n  3. create some workflow in xdc namespace\r\n  4.  bring down the active cluster (i.e temporal-active, temporal-active-admin-tools, temporal-active-web) (kill specific containers)\r\n  5.  log on to temporal-standby-admin-tools and  fail over to standby cluser using tctl -ns xdc n u --ac standby\r\n  \r\n\r\nThe workers  (java sdk) connected to the standby cluster is still not  getting any workflows/tasks dispatched.\r\n\r\nthis behaviour is with java sdk based worker/clients","closedAt":null,"comments":[{"id":"IC_kwDODNqesM416eU4","author":{"login":"kkcmadhu"},"authorAssociation":"NONE","body":"please let me know if i am missing something!","createdAt":"2021-08-24T10:29:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1847#issuecomment-904521016","viewerDidAuthor":false},{"id":"IC_kwDODNqesM419Cib","author":{"login":"kkcmadhu"},"authorAssociation":"NONE","body":"thie behaviour is highly undetermistic. This  is what i observe :\r\n\r\na) At times the new worker never pickup anything (old workflows/ newly submited workflows)\r\nb) Some other times,  i see that the standby cluster, which was made active is able to process any newly created workfows, howver do not pick/contine processiong workfows which were in progress and were processed by the active cluster prior to fail over.\r\n\r\nOn a side note:\r\n\r\nwhen i submit new workflows to standby cluster, they do get submitted, but when i do the same in active cluster after fail over\r\ni get  \"cluster is not active \" action, is this because i have \r\n\r\n`dcRedirectionPolicy:\r\n  policy: \"selected-apis-forwarding\"\r\n  toDC: \"\"` set in the standby cluster?","createdAt":"2021-08-25T05:24:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1847#issuecomment-905193627","viewerDidAuthor":false}],"createdAt":"2021-08-24T10:16:30Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":1847,"reactionGroups":[],"state":"OPEN","title":"[xdc] Workers connected to standby cluster not picking up tasks after  failover ","updatedAt":"2023-03-03T20:21:35Z","url":"https://github.com/temporalio/temporal/issues/1847"}
