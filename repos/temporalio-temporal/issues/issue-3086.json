{"assignees":[],"author":{"id":"MDQ6VXNlcjg3NjI4OTM=","is_bot":false,"login":"wxing1292","name":"Wenquan Xing"},"body":"**Is your feature request related to a problem? Please describe.**\r\nCPU profiling shows that logic probably should not emitting metrics during / before acquisition of shard r/w lock.\r\n<img width=\"1188\" alt=\"image\" src=\"https://user-images.githubusercontent.com/8762893/178384429-43ceca5f-af84-441f-964a-fa85a918f016.png\">\r\n\r\n\r\n**Describe the solution you'd like**\r\nEither do not emit metrics when acquiring shard r/w lock or at least do sampling\r\n\r\n**Describe alternatives you've considered**\r\nN/A\r\n\r\n**Additional context**\r\nN/A","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5GZ5YF","author":{"login":"wxing1292"},"authorAssociation":"CONTRIBUTOR","body":"cc @tusharroy25 @paulnpdev ","createdAt":"2022-07-12T00:51:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3086#issuecomment-1181193733","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5GjGx6","author":{"login":"paulnpdev"},"authorAssociation":"MEMBER","body":"cc @yiminc ","createdAt":"2022-07-13T19:42:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3086#issuecomment-1183607930","viewerDidAuthor":false}],"createdAt":"2022-07-12T00:49:27Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5OTE1MjIx","name":"performance","description":"","color":"f4f275"}],"milestone":null,"number":3086,"reactionGroups":[],"state":"OPEN","title":"Do not emit metrics when acquire shard r/w lock","updatedAt":"2023-03-03T20:19:40Z","url":"https://github.com/temporalio/temporal/issues/3086"}
