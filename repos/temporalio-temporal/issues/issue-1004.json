{"assignees":[],"author":{"id":"MDQ6VXNlcjM3MjE0MQ==","is_bot":false,"login":"skrul","name":"Steve Krulewitz"},"body":"## Expected Behavior\r\n\r\ntctl admin database commands should work on Aurora MySQL\r\n\r\n## Actual Behavior\r\n\r\n```\r\n# tctl adm namespace list \\\r\n>   --db_engine mysql \\\r\n>   --db_address $SQL_HOST \\\r\n>   --db_port $SQL_PORT \\\r\n>   --username $SQL_USER \\\r\n>   --password $SQL_PASSWORD \\\r\n>   --keyspace $SQL_DATABASE\r\nError: Failed to initialize metadata manager\r\nError Details: Error 1193: Unknown system variable 'transaction_isolation'\r\n('export TEMPORAL_CLI_SHOW_STACKS=1' to see stack traces)\r\n```\r\n\r\nThe `transaction_isolation` variable issue remains to be an issue with Aurora MySQL. We are able to overcome this in the regular service config by specifying connection attributes for the database connection:\r\n```\r\n        connectAttributes:\r\n          tx_isolation: \"READ-COMMITTED\"\r\n```\r\n\r\nHowever I don't see a way to do this for tctl.\r\n\r\n## Specifications\r\n\r\n  - Version: 1.1.1\r\n  - Platform: Linux + Aurora MySQL\r\n","closedAt":"2021-03-24T19:55:52Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDcyOTc5MTQ0OA==","author":{"login":"tendulkar"},"authorAssociation":"NONE","body":"did you try passing additional option to tctl like `--ca tx_isolation='READ-COMMITTED'` ?","createdAt":"2020-11-18T16:23:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1004#issuecomment-729791448","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDczMDAzNTYwNA==","author":{"login":"skrul"},"authorAssociation":"NONE","body":"The `--ca` flag does not seem to exist in 1.1.1, I get \"Incorrect Usage: flag provided but not defined: -ca\"\r\n","createdAt":"2020-11-19T00:07:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1004#issuecomment-730035604","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc4NDcwMjEwMg==","author":{"login":"wxing1292"},"authorAssociation":"CONTRIBUTOR","body":"@skrul is this issue still relevant ?","createdAt":"2021-02-24T02:28:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1004#issuecomment-784702102","viewerDidAuthor":false}],"createdAt":"2020-11-17T18:13:06Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"},{"id":"MDU6TGFiZWwyNzcwMzY2NzYw","name":"close-after-30-days","description":"","color":"1d76db"}],"milestone":null,"number":1004,"reactionGroups":[],"state":"CLOSED","title":"tctl admin database commands fail on Aurora MySQL","updatedAt":"2021-03-24T19:55:52Z","url":"https://github.com/temporalio/temporal/issues/1004"}
