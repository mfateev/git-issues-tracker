{"assignees":[],"author":{"id":"MDQ6VXNlcjIyMzI1MjQ=","is_bot":false,"login":"alexshtin","name":"Alex Shtin"},"body":"YARPC uses concept of dispatchers which are created with `DispatcherProvider` interface with one single implementation `dnsDispatcherProvider`. With migration to gRPC, call to `DispatcherProvider` [was replaced](https://github.com/temporalio/temporal/pull/60/files#r364390131) with simple host:port. gRPC has support for round robin and custom [load balancers](https://github.com/grpc/grpc/blob/master/doc/load-balancing.md) as well as [service configs](https://github.com/grpc/grpc/blob/master/doc/service_config.md).\r\nThese approaches need to be investigated and Temporal should provide flexible plugable mechanism to support different load balancers for frontend.\r\n\r\nhttps://medium.com/@ammar.daniel/grpc-client-side-load-balancing-in-go-cd2378b69242\r\nhttps://itnext.io/on-grpc-load-balancing-683257c5b7b3","closedAt":"2020-03-17T15:33:12Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDU5MTAwMTk1Ng==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"The right way to do this:\r\n```\r\n\tconn, err := grpc.Dial(address,\r\n\t\tgrpc.WithInsecure(),\r\n\t\tgrpc.WithDisableServiceConfig(),\r\n\t\tgrpc.WithDefaultServiceConfig(`{\"loadBalancingConfig\": [{\"round_robin\":{}}]}`),\r\n\t)\r\n```\r\nand `address` needs to be specified with `dns:///` (yes 3! slashaes) prefix, like `dns:///test.temporal.io:7233`.","createdAt":"2020-02-25T18:35:45Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/62#issuecomment-591001956","viewerDidAuthor":false}],"createdAt":"2020-01-08T23:51:55Z","labels":[],"milestone":{"number":1,"title":"Initial Temporal Release","description":"","dueOn":null},"number":62,"reactionGroups":[],"state":"CLOSED","title":"Use gRPC load balancer for frontend","updatedAt":"2020-03-17T15:33:12Z","url":"https://github.com/temporalio/temporal/issues/62"}
