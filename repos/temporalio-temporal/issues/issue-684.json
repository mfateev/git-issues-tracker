{"assignees":[],"author":{"id":"MDQ6VXNlcjI4MzQzOA==","is_bot":false,"login":"jvassev","name":""},"body":"Have you considered adding a DynamoDB persistence option. From what I can see it would be very close to the Cassandra driver.\r\n\r\nI could work on that feature with some guidance.\r\n\r\nOne thing that I am not sure how to map to Dynamo are shards: ` An adapter to any other database that provides multi-row single shard transactions can be added.`. DynamoDB transactions are limited just by [size](https://docs.amazonaws.cn/en_us/amazondynamodb/latest/developerguide/transaction-apis.html). Given this constraint, isn't it better to have just one shard?\r\nAn alternative design would be one table per shard - but such a design would be hard to manage/scale, more expensive and unusual?\r\n\r\nWhat do you think about this?","closedAt":"2021-07-04T07:24:33Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg3MzUzNzM2OQ==","author":{"login":"samarabbas"},"authorAssociation":"MEMBER","body":"Considering the size limitations for DynamoDB transactions it won't be a feasible option as persistence store for Temporal.","createdAt":"2021-07-04T07:24:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/684#issuecomment-873537369","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5ScBTX","author":{"login":"roded"},"authorAssociation":"NONE","body":"Has anything change with regards to this question? Is the answer the same and not expected to change?\r\nTY","createdAt":"2023-01-15T07:25:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/684#issuecomment-1383077079","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5V2xqN","author":{"login":"swordfish444"},"authorAssociation":"NONE","body":"@samarabbas @sunfmin Support for DynamoDB would be a *huge unlock* for enterprise companies (running on AWS), looking to use Temporal at scale. \r\n\r\nCan we re-open this issue and do a deeper investigation into how this may be achieved? Even if an initial solution was more of a \"hybrid\" solution, where the write-heavy models leverage DynamoDB.","createdAt":"2023-02-22T16:57:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":22}}],"url":"https://github.com/temporalio/temporal/issues/684#issuecomment-1440422541","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6Y7hsc","author":{"login":"JobaDiniz"},"authorAssociation":"NONE","body":"I was wondering the same and then I got here in the *closed* issue :(.\r\n\r\n*Truly* scaling Postgres is hard compared to how DynamoDB scales.\r\n\r\n>Considering the size limitations for DynamoDB transactions it won't be a feasible option as persistence store for Temporal.\r\n\r\nWhen using DynamoDB, you should _avoid_ transactions. They are not typical SQL transactions. You usually design *one* table ([single table design](https://aws.amazon.com/blogs/compute/creating-a-single-table-design-with-amazon-dynamodb/)) in a way to avoid needing transactions, because most of the time, they are *not needed* in DynamoDB.\r\n\r\nDynamoDB is [schemaless](https://aws.amazon.com/blogs/database/should-your-dynamodb-table-be-normalized-or-denormalized/), very different from any other supported temporal databases.\r\n\r\nWe would need to understand [access patterns](https://docs.aws.amazon.com/prescriptive-guidance/latest/dynamodb-data-modeling/step3.html) **before** designing the `items` and `item collection` in DynamoDB. I think it's possible to integrate with DynamoDB, but it won't be easy since temporal relies on SQL normalized architecture - *said by me, who do not understand Temporal innards*. \r\n\r\nI could work with someone as well to create a PoC for this. [Postgres schema](https://github.com/temporalio/temporal/blob/main/schema/postgresql/v12/temporal/schema.sql).","createdAt":"2024-12-30T17:25:47Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/684#issuecomment-2565741340","viewerDidAuthor":false}],"createdAt":"2020-08-21T08:49:53Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":684,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":13}}],"state":"CLOSED","title":"DynamoDB persistence driver","updatedAt":"2024-12-30T17:27:36Z","url":"https://github.com/temporalio/temporal/issues/684"}
