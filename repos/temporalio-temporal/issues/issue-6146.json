{"assignees":[{"id":"MDQ6VXNlcjE1OTg1Mg==","login":"stephanos","name":"Stephan Behnke","databaseId":0}],"author":{"id":"MDQ6VXNlcjUxMjUw","is_bot":false,"login":"bmacauley","name":"Brian Macauley"},"body":"## Expected Behavior\r\ntemporal on arm64 Linux is working correctly\r\n\r\n## Actual Behavior\r\ntemporal on arm64 Linux is not working correctly\r\nI believe the binaries are amd64 binaries\r\n\r\n## Steps to Reproduce the Problem\r\n  1. I am setting up temporal on k3s on ubuntu 2204 in Multipass on a Mac M1. \r\n  architecture\r\n  `ubuntu@temporal:~$ uname -m\r\naarch64`\r\n\r\n  2.After running helm to deploy the temporal on k3s, I get crashloopbackoff errors on some of the containers\r\n  \r\n  running correctly...\r\n  temporal-admintools\r\n  temporal-web\r\n  \r\n  crashloopbackoff...\r\n  temporal-frontend\r\n  temporal-history\r\n  temporal-matching\r\n  temporal-worker\r\n  \r\n  error message....\r\n  `/etc/temporal/start-temporal.sh: line 16: /usr/local/bin/temporal-server: cannot execute binary file: Exec format error`\r\n  \r\n  The correct arm64 containers are being pulled\r\n\r\n3. Looked inside the temporal-admintools container\r\n\r\nworking....\r\ntctl\r\ntemporal\r\n\r\nnot working...\r\ntdbg\r\ntemporal-cassandra-toll\r\ntemporal-sql-tool\r\n\r\n`\r\ntemporal-sql-tool\r\nbash: /usr/local/bin/temporal-sql-tool: cannot execute binary file: Exec format error\r\n`\r\n\r\ni downloaded temporal-sql-tool to check it\r\n\r\n`ubuntu@temporal:~$ file temporal-sql-tool\r\ntemporal-sql-tool: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, Go BuildID=YKktCnQevbFAZNSNLwHy/GM78rayp1t0RHnJ99Q3e/vpPHjRcqExXPiFanYzQs/XafXwTQ1y_JNzqzuhTvq, with debug_info, not stripped`\r\n\r\nIt is an amd64 binary?\r\n\r\n## Specifications\r\n\r\n  - Version:  1.24.1\r\n  - Platform: linux/arm64\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM6CI_Yj","author":{"login":"stephanos"},"authorAssociation":"MEMBER","body":"Thank you for your report, @bmacauley! We had the same issue reported earlier (see https://github.com/temporalio/docker-builds/issues/213) and pushed new images for the affected tags. Could you verify? (you might have to run `docker rmi` to clear the image from your cache)","createdAt":"2024-06-21T20:16:51Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6146#issuecomment-2183394851","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6Izp-4","author":{"login":"cemelo"},"authorAssociation":"NONE","body":"This is still happening with `temporalio/admin-tools:1.24.2-tctl-1.18.1-cli-0.13.0`, which is the default version used by the helm chart.","createdAt":"2024-08-18T12:21:44Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6146#issuecomment-2295242680","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6J1lT1","author":{"login":"roytev"},"authorAssociation":"NONE","body":"^ the admin-tools not working on arm64\r\n","createdAt":"2024-08-27T13:11:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6146#issuecomment-2312525045","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6NvD7T","author":{"login":"MrSaints"},"authorAssociation":"NONE","body":"Seems like a few image tags are still affected including 1.22.7.1. ","createdAt":"2024-09-26T20:57:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6146#issuecomment-2377924307","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7csBfG","author":{"login":"vimscientist69"},"authorAssociation":"NONE","body":"I have a different issue, specifically unsymbolicated issues with temporal swift sdk on x86_64 when building for release builds using static linking. When not using temporal-swift-sdk, or when doing a debug build without static linking, there is no issue. This happens in a docker container, for more information and MRE repository, check out this issue. Been stuck on this for 3 weeks, I guess it is just a skill issue -> https://github.com/apple/swift-temporal-sdk/issues/55","createdAt":"2025-12-31T17:06:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6146#issuecomment-3702527942","viewerDidAuthor":false}],"createdAt":"2024-06-15T09:09:15Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":6146,"reactionGroups":[],"state":"OPEN","title":"temporal on arm64 Linux is not working correctly ...amd64 binaries?","updatedAt":"2025-12-31T17:06:33Z","url":"https://github.com/temporalio/temporal/issues/6146"}
