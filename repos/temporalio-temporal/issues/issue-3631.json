{"assignees":[],"author":{"id":"U_kgDOBokOVw","is_bot":false,"login":"orby-will","name":"Will Lu"},"body":"## Expected Behavior\r\ntemopral UI list workflows correctly\r\n\r\n## Actual Behavior\r\n\r\nfailure wit the following error message:\r\nListWorkflowExecutions failed: elastic: Error 400 (Bad Request): all shards failed [type=search_phase_execution_exception], root causes: Text fields are not optimised for operations that require per-document field data like aggregations and sorting, so these operations are disabled by default. Please use a keyword field instead. Alternatively, set fielddata=true on [RunId] in order to load field data by uninverting the inverted index. Note that this can use significant memory. [type=illegal_argument_exception]\r\n\r\n<img width=\"1323\" alt=\"image\" src=\"https://user-images.githubusercontent.com/109645399/203100697-5237f812-8798-40d7-854f-77f24fe6e061.png\">\r\n\r\n\r\n## Steps to Reproduce the Problem\r\nLaunch the k8s deployment with the following command:\r\nkubectl apply -n temporal -R -f https://raw.githubusercontent.com/temporalio/docker-compose/main/k8s/temporal.yaml\r\n\r\n## Specifications\r\nDeployed on GKE\r\n","closedAt":"2023-10-22T01:51:43Z","comments":[{"id":"IC_kwDODNqesM5O0cD-","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"@orby-will what is your query? And which types are those fields?","createdAt":"2022-11-21T16:59:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3631#issuecomment-1322369278","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5O0vuh","author":{"login":"orby-will"},"authorAssociation":"NONE","body":"I didn't use any query. Simply opening the page gave me this error.","createdAt":"2022-11-21T18:01:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3631#issuecomment-1322449825","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5O0yv-","author":{"login":"orby-will"},"authorAssociation":"NONE","body":"<img width=\"1377\" alt=\"image\" src=\"https://user-images.githubusercontent.com/109645399/203129244-dd70977e-c7aa-4171-9130-3593d3842080.png\">\r\n","createdAt":"2022-11-21T18:11:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3631#issuecomment-1322462206","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5O8p2B","author":{"login":"orby-will"},"authorAssociation":"NONE","body":"Can someone please at least help point me to a direction that I can dig into?","createdAt":"2022-11-23T04:06:13Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3631#issuecomment-1324522881","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5PchJd","author":{"login":"orby-will"},"authorAssociation":"NONE","body":"@yiminc hi there, I am still blocked here. Do you mind taking another look/","createdAt":"2022-11-30T23:29:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3631#issuecomment-1332875869","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5PrZvJ","author":{"login":"orby-will"},"authorAssociation":"NONE","body":"Friendly ping","createdAt":"2022-12-05T05:39:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3631#issuecomment-1336777673","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5pvJ5R","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"This looks like a misconfiguration of the elastic search for visibility. Please seek help in community forum. https://community.temporal.io/ Thanks.","createdAt":"2023-10-22T01:51:43Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3631#issuecomment-1773968977","viewerDidAuthor":false}],"createdAt":"2022-11-21T16:00:00Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":3631,"reactionGroups":[],"state":"CLOSED","title":"Temporal UI K8s deployment listing workflows fails with elastic error","updatedAt":"2023-10-22T01:51:43Z","url":"https://github.com/temporalio/temporal/issues/3631"}
