{"assignees":[{"id":"MDQ6VXNlcjg0NDExMDE0","login":"yiminc","name":"Yimin Chen","databaseId":0}],"author":{"id":"MDQ6VXNlcjQ1MjM5NTU=","is_bot":false,"login":"longquanzheng","name":"Quanzheng Long"},"body":"https://github.com/temporalio/temporal/blob/0c735e4969e95ff8c113fc73ed15fca1bc2999c2/service/history/ndc/workflow_resetter.go#L290\r\n\r\nMirror issue https://github.com/uber/cadence/issues/5030\r\n\r\nThis is because child WF could get get closed after parent closed, and parent will not receive the children close signals. \r\n\r\nSo that after parent is closed for any reasons(terminate/timeout/fail/etc), this parent is never allowed to reset to anywhere because it has a pending childWFs in its mutableState forever as \"deadlock condition\"","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5eDTtR","author":{"login":"taonic"},"authorAssociation":"MEMBER","body":"Relates to https://github.com/temporalio/temporal/issues/705","createdAt":"2023-06-06T05:20:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3624#issuecomment-1577925457","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5v9bDF","author":{"login":"MalteHB"},"authorAssociation":"NONE","body":"Any updates on this @yiminc?\r\n\r\nI am also encountering that a workflow, without any pending children, cannot be reset to anything else but the first `WorkflowTaskCompleted` due to the `WorkflowResetter encountered pending child workflows.` error. ","createdAt":"2024-01-05T09:30:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/3624#issuecomment-1878372549","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6FQ2O4","author":{"login":"yujiachen-y"},"authorAssociation":"NONE","body":"Hi @yiminc , do we have any plans to address this issue? I'm also stuck on this problem.","createdAt":"2024-07-18T07:10:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3624#issuecomment-2235786168","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6LY8cx","author":{"login":"snackattas"},"authorAssociation":"NONE","body":"+1","createdAt":"2024-09-09T16:33:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3624#issuecomment-2338572081","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6YNdzI","author":{"login":"Vladyslav-Obochuk"},"authorAssociation":"NONE","body":"+1","createdAt":"2024-12-19T12:22:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3624#issuecomment-2553666760","viewerDidAuthor":false}],"createdAt":"2022-11-19T00:13:02Z","labels":[],"milestone":null,"number":3624,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"OPEN","title":"Reset should be allowed with pending childWF in current run, if current run is already closed","updatedAt":"2024-12-19T12:22:57Z","url":"https://github.com/temporalio/temporal/issues/3624"}
