{"assignees":[],"author":{"id":"MDQ6VXNlcjE3NTA2NDQx","is_bot":false,"login":"rfwagner","name":"Richard Wagner"},"body":"As an operator, when we onboard new users, we have them project their load for us in terms of:\r\n\r\n- number of workflows/s\r\n- number of activities/s\r\n- number of signals/s\r\n- number of timers/s\r\n\r\nWe think it makes sense to estimate load in these terms because they are concepts that directly correlate to API calls that users make in their code.\r\n\r\nHowever, when it comes time to enforce limits on their load, we don't really have sufficient controls in server to do so.\r\n\r\nThe server does offer some nice rate limiting options, but these controls are generally at a much lower level, e.g: `history.persistenceMaxQPS`, `frontend.rps`, etc\r\n\r\nThe best we can do is translate the users projected max load, expressed in SDK-centric terms above, into these low level system rate limits.\r\n\r\nIt would be ideal if the system offered direct control on the rates of these SDK-centric events, at the namespace level.\r\n ","closedAt":"2024-03-16T01:26:33Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg3MzY2NjIzOA==","author":{"login":"samarabbas"},"authorAssociation":"MEMBER","body":"Currently the most relevant knob which allows you to set different limits for namespaces on the cluster is `frontend.namespaceRPS`.  But I agree it won't support the granularity you described in the issue.","createdAt":"2021-07-04T21:31:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1690#issuecomment-873666238","viewerDidAuthor":false},{"id":"IC_kwDODNqesM53RIT2","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"There are several per-namespace rate limit options available, for example, the best one probably is \r\nfrontend.globalNamespaceRPS -- limit RPS to a given namespace for the entire cluster.\r\n","createdAt":"2024-03-16T01:26:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1690#issuecomment-2000979190","viewerDidAuthor":false}],"createdAt":"2021-06-24T22:33:58Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5OTIzMjY4","name":"architecture","description":"","color":"ad9fe0"},{"id":"MDU6TGFiZWwzMDAxNDk5NzYw","name":"operations","description":"","color":"f9d0c4"},{"id":"MDU6TGFiZWwzMTM4ODI4MTE3","name":"up-for-grabs","description":"Issues to consider for external contribution","color":"69CD90"}],"milestone":null,"number":1690,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"Support user-centric namespace based rate-limiting in the server","updatedAt":"2024-03-16T01:26:34Z","url":"https://github.com/temporalio/temporal/issues/1690"}
