{"assignees":[],"author":{"id":"MDQ6VXNlcjIxODM5MDQ=","is_bot":false,"login":"tomwheeler","name":"Tom Wheeler"},"body":"When starting a local Temporal development server using Temporal CLI version 0.12.0, I observe multiple \"Unspecified task queue kind\" warnings in the terminal window. Although I experience this while using the CLI, I believe the underlying problem is in the server code, so I am reporting it here.\r\n\r\n## Expected Behavior\r\nWhen starting the development server via the CLI, using the default options, I do not expect to see warnings or errors in the terminal window (except in case of user error, such as a port conflict on the machine).\r\n\r\n## Actual Behavior\r\nAfter starting the development server via the CLI, I frequently see multiple warnings with the message \"Unspecified task queue kind\" in the terminal window where that server is running. Here is a complete copy of the terminal session in which I started the development server. There are 10 such warnings (amid three \"error in prometheus reporter\" warnings, about which I filed [issue #5897](https://github.com/temporalio/temporal/issues/5897) yesterday):\r\n\r\n```\r\n$ temporal server start-dev\r\nTemporal server is running at: localhost:7233\r\nWeb UI is running at: http://localhost:8233\r\nMetrics available at: http://localhost:64716/metrics\r\ntime=2024-05-10T10:34:44.299 level=WARN msg=\"error in prometheus reporter\" error=\"a previously registered descriptor with the same fully-qualified name as Desc{fqName: \\\"AccessHistoryOld\\\", help: \\\"AccessHistoryOld counter\\\", constLabels: {}, variableLabels: [{service_name <nil>} {operation <nil>} {namespace <nil>}]} has different label names or a different help string\"\r\ntime=2024-05-10T10:34:44.309 level=WARN msg=\"error in prometheus reporter\" error=\"a previously registered descriptor with the same fully-qualified name as Desc{fqName: \\\"AccessHistoryOld\\\", help: \\\"AccessHistoryOld counter\\\", constLabels: {}, variableLabels: [{service_name <nil>} {namespace <nil>} {operation <nil>}]} has different label names or a different help string\"\r\ntime=2024-05-10T10:47:47.354 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:47:47.364 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:47:47.417 level=WARN msg=\"error in prometheus reporter\" error=\"a previously registered descriptor with the same fully-qualified name as Desc{fqName: \\\"AccessHistoryOld\\\", help: \\\"AccessHistoryOld counter\\\", constLabels: {}, variableLabels: [{operation <nil>} {service_name <nil>} {namespace <nil>}]} has different label names or a different help string\"\r\ntime=2024-05-10T10:48:15.333 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:48:15.337 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:48:17.951 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:48:17.953 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:49:11.224 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:49:11.227 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:49:12.794 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\ntime=2024-05-10T10:49:12.798 level=WARN msg=\"Unspecified task queue kind\" service=frontend wf-task-queue-name=orders wf-namespace=default\r\n```\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n 1. Install Temporal CLI version 0.12.0 (which is based on Temporal Server release 1.23.0). I did this via homebrew, although I doubt that the installation method is relevant\r\n2. Run `temporal server start-dev` to start the development server\r\n3. Run a few Workflows. The code I'm using isn't yet in a public repo, but I don't believe the problem is specific to this application. If you're unable to reproduce the problem, let me know and I will share the code and/or demonstrate it. \r\n\r\n## Specifications\r\n\r\n  - Version: Temporal CLI version 0.12.0\r\n  - Platform: M2 MacBook Pro, running MacOS 13.6.6\r\n","closedAt":"2024-07-12T00:34:56Z","comments":[{"id":"IC_kwDODNqesM59878_","author":{"login":"ShahabT"},"authorAssociation":"MEMBER","body":"This is already fixed in server code https://github.com/temporalio/temporal/pull/5661. It will be included in the next patch or minor release whenever comes first (1.23.2 or 1.24.0).","createdAt":"2024-05-15T17:55:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"url":"https://github.com/temporalio/temporal/issues/5903#issuecomment-2113126207","viewerDidAuthor":false}],"createdAt":"2024-05-10T16:06:14Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":5903,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"CLOSED","title":"\"Unspecified task queue kind\" warnings in Temporal Server 1.23.0 (CLI version 0.12.0)","updatedAt":"2024-07-12T00:34:56Z","url":"https://github.com/temporalio/temporal/issues/5903"}
