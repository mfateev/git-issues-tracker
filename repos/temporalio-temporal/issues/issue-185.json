{"assignees":[],"author":{"id":"MDQ6VXNlcjE3NjY1MTU=","is_bot":false,"login":"samarabbas","name":"Samar Abbas"},"body":"With activity retry policy, user could set the activity to retry on all errors until an expiration timeout. \r\nFor example keep retry when activity returns cadence.CustomeError(\"please-retry\", \"some details useful to workflow\")). \r\nThe last retry attempt could be scheduled very close to the expiration deadline and thus likely experiencing StartToClose timeout error. In this case, workflow would get timeout error and would lost the last error with the details that could be useful to workflow. \r\nIt would be much useful to actually return last application error instead of timeout error.\r\n\r\nThings that might be helpful:\r\n* Do not schedule retry attempt if next attempt will be very close to retry expiration. Essentially, if next_retry_time + StartToClose > expiration_time, then do not retry.\r\nOr\r\n* Store last application error and uses the application error when timeout error occur in last attempt.\r\n","closedAt":"2020-03-03T21:41:39Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDU5NDE4NDQ0Mw==","author":{"login":"samarabbas"},"authorAssociation":"MEMBER","body":"ported from: https://github.com/uber/cadence/issues/2627","createdAt":"2020-03-03T21:41:38Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/185#issuecomment-594184443","viewerDidAuthor":false}],"createdAt":"2020-03-03T21:41:18Z","labels":[],"milestone":null,"number":185,"reactionGroups":[],"state":"CLOSED","title":"retry activity get timeout error","updatedAt":"2020-03-03T21:41:39Z","url":"https://github.com/temporalio/temporal/issues/185"}
