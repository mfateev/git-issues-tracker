{"assignees":[{"id":"MDQ6VXNlcjIwNjgxMjQ=","login":"rodrigozhou","name":"Rodrigo Zhou","databaseId":0}],"author":{"id":"MDQ6VXNlcjExOTQyMg==","is_bot":false,"login":"tsurdilo","name":"Tihomir Surdilovic"},"body":"To repro:\r\n\r\ntctl adm cl asa -n A.B.C -t Text\r\ntctl adm cl asa -n A.B.C.D -t Text\r\n\r\n(can also add with cli :) )\r\n\r\ntemporal workflow list -q \"A.B.C='abc'\"\r\nruns fine\r\n\r\ntemporal workflow list -q \"A.B.C.D='abcd'\" \r\ngives error:\r\n\r\nError: unable to list workflow executions: invalid query: malformed SQL query: syntax error at position 34\r\n('export TEMPORAL_CLI_SHOW_STACKS=1' to see stack traces)\r\n\r\nseems in names with dots you cannot specify more than 2","closedAt":"2024-04-05T20:57:07Z","comments":[{"id":"IC_kwDODNqesM55oSQW","author":{"login":"rodrigozhou"},"authorAssociation":"MEMBER","body":"You need to enclose the search attribute name with backticks. Eg: ``temporal workflow list -q \"`A.B.C.D` = 'abcd'\"``.","createdAt":"2024-04-05T20:45:21Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5670#issuecomment-2040603670","viewerDidAuthor":false},{"id":"IC_kwDODNqesM55rnmf","author":{"login":"tsurdilo"},"authorAssociation":"MEMBER","body":"What's the rules at which point you need to do the enclose? Trying to document","createdAt":"2024-04-07T13:48:49Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5670#issuecomment-2041477535","viewerDidAuthor":false},{"id":"IC_kwDODNqesM56FyWV","author":{"login":"Kindratte"},"authorAssociation":"NONE","body":"> You need to enclose the search attribute name with backticks. Eg: `` temporal workflow list -q \"`A.B.C.D` = 'abcd'\" ``.\r\n\r\ntry this as query from Go SDK `\"'glossary.GlossDiv.GlossList.GlossEntry.GlossTerm'='SMGL'\"`\r\n\r\n\r\n```\r\ntemporalReq := &workflowservice.ListWorkflowExecutionsRequest{\r\n\tNamespace: namespace,\r\n\tQuery:     req.Query,\r\n}\r\n\r\nresp, err := u.temporalClient.ListWorkflow(ctx, temporalReq)\r\nif err != nil {\r\n\treturn dto.ListWorkflowsResponse{}, errors.NewInternalError(err.Error())\r\n}\r\n```\r\n\r\n\r\ngot this \r\n`\r\n\"invalid query: unable to convert filter expression: unable to convert left side of \\\"'glossary.GlossDiv.GlossList.GlossEntry.GlossTerm' = 'SMGL'\\\": invalid expression: must be a column name but was *sqlparser.SQLVal\"\r\n`","createdAt":"2024-04-10T19:59:58Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5670#issuecomment-2048337301","viewerDidAuthor":false}],"createdAt":"2024-04-05T18:08:08Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":5670,"reactionGroups":[],"state":"CLOSED","title":"Limitation in custom search attribute names","updatedAt":"2024-04-10T20:04:27Z","url":"https://github.com/temporalio/temporal/issues/5670"}
