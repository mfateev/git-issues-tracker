{"assignees":[{"id":"MDQ6VXNlcjIyMzI1MjQ=","login":"alexshtin","name":"Alex Shtin","databaseId":0}],"author":{"id":"MDQ6VXNlcjE3NjY1MTU=","is_bot":false,"login":"samarabbas","name":"Samar Abbas"},"body":"**Is your feature request related to a problem? Please describe.**\r\nAs of right now, Search Attributes can only be set and updated but not cleared. In order to simulate a clear we can set the value to some sentinel value, e.g Int being set to -1.\r\n\r\n**Describe the solution you'd like**\r\nDocuments would stay cleaner and queries more simplified if these search attributes could just be “unset”.\r\n\r\n**Describe alternatives you've considered**\r\nSet key to a sentinel value.\r\n\r\n**Additional context**\r\n[forum post](https://community.temporal.io/t/ability-to-clear-unset-search-attributes/211)\r\n","closedAt":"2022-07-07T18:40:23Z","comments":[{"id":"IC_kwDODNqesM40xR4z","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Another option would be to add some flag to `Payload` metadata indicating that this search attribute needs to be deleted on server.","createdAt":"2021-07-23T01:02:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/561#issuecomment-885333555","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5Ak5F5","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"I temporarily work around this issue in java-sdk by sending an empty collection, because it will work correctly.\r\n\r\nI encourage considering `[]` (empty list) as a magic value in the upsert that deletes the search attribute. \r\nSearch attributes do already support lists. Having a search attribute with a persisted empty collection value doesn't make sense, because it does nothing. And this value is semantically equivalent to an absent search attribute already now. It also looks organic, universal for all types and it doesn't conflict with a meaningful value.","createdAt":"2022-03-30T17:20:31Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/561#issuecomment-1083412857","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5GPODR","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Both `nil` and empty slice values clears search attributes now.","createdAt":"2022-07-08T00:16:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/561#issuecomment-1178394833","viewerDidAuthor":false}],"createdAt":"2020-07-18T04:07:31Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5NzgzNzUw","name":"API","description":"Issues/features involving the API","color":"3d910f"},{"id":"MDU6TGFiZWwyMDE5OTIzNjU1","name":"devexp","description":"","color":"9350b7"},{"id":"MDU6TGFiZWwzMTYzMjkyNDk4","name":"visibility","description":"","color":"4035BD"}],"milestone":null,"number":561,"reactionGroups":[],"state":"CLOSED","title":"Ability to clear/unset search attributes","updatedAt":"2022-07-08T00:16:53Z","url":"https://github.com/temporalio/temporal/issues/561"}
