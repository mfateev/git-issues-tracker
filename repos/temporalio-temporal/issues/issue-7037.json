{"assignees":[],"author":{"id":"MDQ6VXNlcjM5NDE0MDE=","is_bot":false,"login":"thomas-maurice","name":"Thomas Maurice"},"body":"## Expected Behavior\r\n\r\nExpected behaviour is that I would be able to see the schedule\r\n\r\n## Actual Behavior\r\nOut of the blue the schedules seem to be inaccessible, by which I mean the schedule page (for a single schedule, not the schedule list) throws a 504. Similarly I am unable to `describe` the schedule with the CLI:\r\n```\r\n$ temporal --env dev  schedule describe -smy-schedule \r\ntime=2024-12-27T18:32:25.632 level=ERROR msg=\"context deadline exceeded\"\r\n```\r\n\r\nI do not see anything in the error logs of the temporal server, I am using the `auto-setup` docker image. I have also noticed that this does not affect newly created schedules.\r\n\r\nThe schedules do not run anymore either.\r\n\r\nApart from that, the rest of temporal seems to be working properly\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nNot sure of the reproductability, the problem started on `1.25.1` seemingly randomly, upgrading it to `1.25.2` did not seem to change anything\r\n\r\n## Specifications\r\n\r\n  - Version: 1.25.1 & 1.25.2 with PostgreSQL 14\r\n  - Platform: linux amd64\r\n","closedAt":null,"comments":[{"id":"IC_kwDODNqesM6ymSmr","author":{"login":"michalkurzeja"},"authorAssociation":"NONE","body":"I have the same issue. It started after upgrading my cluster from 1.24.1 (I did a step-by-step upgrade, first to 1.25.2, then 1.26.2 and then finally 1.27.2). Not all schedules are affected (3/6) - some load instantly, some return 504 with \"context deadline exceeded\". I have no idea what makes them different.\n\nThere is nothing in the logs of temporal services, only temporal-ui logs that a 504 has been returned, but no further details.\n\nHere's an example request made by the UI:\n![Image](https://github.com/user-attachments/assets/e67c84c5-2c0b-4edd-a453-ad1a42ec67d1)\n\nAnd the response after 30s:\n```json\n{\n  \"code\": 4,\n  \"message\": \"context deadline exceeded\"\n}\n```\n\nRequests from CLI also result in deadline exceeded, e.g.:\n```\n$ temporal  --address=... --tls=true schedule describe -s \"Profile export: v2-data-changed-daily\"\n```\n\nWhat's interesting, running `temporal schedule trigger` or `temporal schedule toggle` doesn't return any errors, but also does nothing - the schedule remains unpaused (verified via UI and `temporal schedule list`) and trigger doesn't run any workflows.\n\nIn the end, I was able to delete the faulty schedules with `temporal schedule delete` and re-create them. It would be good to know what could've caused this behaviour, though.\n\n# Specifications\n- Version:\n-- Server: 1.27.2\n-- PostgreSQL 17.4 (schema 1.16 + visibility 1.9)\n-- UI: 2.37.2\n- Platform: linux arm64","createdAt":"2025-06-23T12:52:44Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":5}}],"url":"https://github.com/temporalio/temporal/issues/7037#issuecomment-2996382123","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6_BfNb","author":{"login":"dimaulupov"},"authorAssociation":"NONE","body":"Same problem with fresh, empty 1.28.1 with postgresql 17.5.\nCan create and delete the schedule, but it never runs and can't be described with \"context deadline exceeded\" error.","createdAt":"2025-08-20T08:35:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7037#issuecomment-3204838235","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7Z1iJB","author":{"login":"tback"},"authorAssociation":"NONE","body":"Same thing is happening here.\nTemporal 1.29.1\nPostgres: AlloyDB, Postgres16 compatible","createdAt":"2025-12-15T09:40:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7037#issuecomment-3654689345","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7Z5PWl","author":{"login":"emalihin"},"authorAssociation":"NONE","body":"Same here, can list all schedules, but cannot open/pause/unpause/trigger ~0.5% of all schedules in the namespace (2056 schedules currently). Receiving `context deadline exceeded` from UI/CLI, and `slow gRPC call` from `frontend` deployment.\n\nTemporal 1.28.0\nPostgres: Aurora 15.12","createdAt":"2025-12-15T13:29:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7037#issuecomment-3655660965","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7Z7TBI","author":{"login":"tsurdilo"},"authorAssociation":"MEMBER","body":"Would probably go through info mentioned in community Slack threads\nhttps://temporalio.slack.com/archives/CTRCR8RBP/p1765657904864699?thread_ts=1765530797.822339&cid=CTRCR8RBP\nhttps://temporalio.slack.com/archives/CTTJCPZQE/p1764606712273519\nhttps://temporalio.slack.com/archives/CTRCR8RBP/p1763737324199379\n\nand see if helps. Please report. Thanks.","createdAt":"2025-12-15T15:16:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/7037#issuecomment-3656200264","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7Z9Rbx","author":{"login":"tback"},"authorAssociation":"NONE","body":"Thank you so much. In my case I set `worker.enabled: false` in the helm chart. Schedules load now that it's fixed.\n\n\n\n\n","createdAt":"2025-12-15T17:05:24Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}},{"content":"HOORAY","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/7037#issuecomment-3656718065","viewerDidAuthor":false},{"id":"IC_kwDODNqesM7axAya","author":{"login":"emalihin"},"authorAssociation":"NONE","body":"In my case where I could not Describe only some of the schedules in a namespace, I found that resetting the underlying workflow has helped bring those schedules back.","createdAt":"2025-12-18T13:23:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7037#issuecomment-3670281370","viewerDidAuthor":false}],"createdAt":"2024-12-27T17:40:29Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":7037,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":5}}],"state":"OPEN","title":"[bug] Viewing schedule throws a 504 \"context deadline exceeded\"","updatedAt":"2025-12-18T13:23:29Z","url":"https://github.com/temporalio/temporal/issues/7037"}
