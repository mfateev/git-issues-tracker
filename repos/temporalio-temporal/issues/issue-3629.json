{"assignees":[],"author":{"id":"MDQ6VXNlcjEyNjEyNjk=","is_bot":false,"login":"GDXbsv","name":"Sergei Baikin"},"body":"Reopening https://github.com/temporalio/temporal/issues/3612\r\n\r\n## Expected Behavior\r\nI can bind to ipv6 address.\r\n\r\n## Actual Behavior\r\n\r\n'[2a05:d014:6e0:c883:1d45::11]:7233' you can see in the log.\r\n\r\nThis address is using correctly for listening but not for later connecting. For some reason when autosetup is trying to connect the '[ ]' are disappearing. \r\nI can not surround the ip additionaly. I am not writing the go code. I just run temporalio/auto-setup. And autosetup can not connect to itself. There is no my code which i could surround or not. It is a pure temporalio/auto-setup image. Problem is exactly that when I am using temporalio/auto-setup the ip is not surrounded witth '[ ]'.\r\n\r\n```\r\n{\"level\":\"warn\",\"ts\":\"2022-11-17T14:53:02.100Z\",\"msg\":\"error creating sdk client\",\"service\":\"worker\",\"error\":\"failed reaching server: last connection error: connection error: desc = \\\"transport: Error while dialing dial tcp: address 2a05:d014:6e0:c883:1d45::11:7233: too many colons in address\\\"\",\"logging-call-at\":\"factory.go:116\"}\r\n{\"level\":\"fatal\",\"ts\":\"2022-11-17T14:53:02.100Z\",\"msg\":\"error creating sdk client\",\"service\":\"worker\",\"error\":\"failed reaching server: last connection error: connection error: desc = \\\"transport: Error while dialing dial tcp: address 2a05:d014:6e0:c883:1d45::11:7233: too many colons in address\\\"\",\"logging-call-at\":\"factory.go:123\",\"stacktrace\":\"go.temporal.io/server/common/log.(*zapLogger).Fatal\\n\\t/home/builder/temporal/common/log/zap_logger.go:151\\ngo.temporal.io/server/common/sdk.(*clientFactory).GetSystemClient.func1\\n\\t/home/builder/temporal/common/sdk/factory.go:123\\nsync.(*Once).doSlow\\n\\t/usr/local/go/src/sync/once.go:68\\nsync.(*Once).Do\\n\\t/usr/local/go/src/sync/once.go:59\\ngo.temporal.io/server/common/sdk.(*clientFactory).GetSystemClient\\n\\t/home/builder/temporal/common/sdk/factory.go:110\\ngo.temporal.io/server/service/worker/scanner.(*Scanner).Start\\n\\t/home/builder/temporal/service/worker/scanner/scanner.go:177\\ngo.temporal.io/server/service/worker.(*Service).startScanner\\n\\t/home/builder/temporal/service/worker/service.go:503\\ngo.temporal.io/server/service/worker.(*Service).Start\\n\\t/home/builder/temporal/service/worker/service.go:390\\ngo.temporal.io/server/service/worker.ServiceLifetimeHooks.func1.1\\n\\t/home/builder/temporal/service/worker/fx.go:139\"}\r\n```\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Create AWS EKS ipv6 cluster\r\n  2. Try to set bind address as any ipv6 address  (in my case BIND_ON_IP=valueFrom.fieldRef.fieldPath.status.podIP)\r\n\r\n## Specifications\r\n\r\n  - Version: temporalio/auto-setup:1.18.4\r\n  - Platform: AWS EKS ipv6\r\n  \r\n## Logs\r\n\r\n```\r\n+ : postgresql\r\n+ : false\r\n+ : false\r\n+ : temporal\r\n+ : temporal_visibility\r\n+ : ''\r\n+ : 9042\r\n+ : ''\r\n+ : ''\r\n+ : ''\r\n+ : ''\r\n+ : ''\r\n+ : ''\r\n+ : 1\r\n+ : temporal\r\n+ : temporal_visibility\r\n+ : 5432\r\n+ : ''\r\n+ : ''\r\n+ : ''\r\n+ : false\r\n+ : airbyte.rds.amazonaws.com\r\n+ : USER\r\n+ : PASSS\r\n+ : false\r\n+ : http\r\n+ : ''\r\n+ : 9200\r\n+ : ''\r\n+ : ''\r\n+ : v7\r\n+ : temporal_visibility_v1_dev\r\n+ : 0\r\n+ : '[2a05:d014:6e0:c883:1d45::11]:7233'\r\n+ : false\r\n+ : default\r\n+ : 1\r\n+ : false\r\n+ [[ false != true ]]\r\n+ validate_db_env\r\n+ case ${DB} in\r\n+ [[ -z airbyte.rds.amazonaws.com ]]\r\n+ wait_for_db\r\n+ case ${DB} in\r\n+ wait_for_postgres\r\n+ nc -z airbyte.rds.amazonaws.com 5432\r\n+ echo 'PostgreSQL started.'\r\n+ setup_schema\r\n+ case ${DB} in\r\n+ echo 'Setup PostgreSQL schema.'\r\n+ setup_postgres_schema\r\n+ SCHEMA_DIR=/etc/temporal/schema/postgresql/v96/temporal/versioned\r\n+ [[ temporal != \\r\\o\\o\\t ]]\r\n+ [[ false != true ]]\r\n+ temporal-sql-tool --plugin postgres --ep airbyte.rds.amazonaws.com -u root -p 5432 --db temporal create\r\nPostgreSQL started.\r\nSetup PostgreSQL schema.\r\n+ temporal-sql-tool --plugin postgres --ep airbyte.rds.amazonaws.com -u root -p 5432 --db temporal setup-schema -v 0.0\r\n2022-11-17T14:58:11.598Z\t^[[34mINFO^[[0m\tStarting schema setup\t{\"config\": {\"SchemaFilePath\":\"\",\"InitialVersion\":\"0.0\",\"Overwrite\":false,\"DisableVersioning\":false}, \"logging-call-at\": \"setuptask.go:57\"}\r\n2022-11-17T14:58:11.599Z\t^[[35mDEBUG^[[0m\tSetting up version tables\t{\"logging-call-at\": \"setuptask.go:67\"}\r\n2022-11-17T14:58:11.605Z\t^[[35mDEBUG^[[0m\tCurrent database schema version 1.8 is greater than initial schema version 0.0. Skip version upgrade\t{\"logging-call-at\": \"setuptask.go:116\"}\r\n2022-11-17T14:58:11.605Z\t^[[34mINFO^[[0m\tSchema setup complete\t{\"logging-call-at\": \"setuptask.go:131\"}\r\n+ temporal-sql-tool --plugin postgres --ep airbyte.rds.amazonaws.com -u root -p 5432 --db temporal update-schema -d /etc/temporal/schema/postgresql/v96/temporal/versioned\r\n2022-11-17T14:58:11.656Z\t^[[34mINFO^[[0m\tUpdateSchemeTask started\t{\"config\": {\"DBName\":\"\",\"TargetVersion\":\"\",\"SchemaDir\":\"/etc/temporal/schema/postgresql/v96/temporal/versioned\",\"IsDryRun\":false}, \"logging-call-at\": \"updatetask.go:97\"}\r\n2022-11-17T14:58:11.659Z\t^[[35mDEBUG^[[0m\tSchema Dirs: []\t{\"logging-call-at\": \"updatetask.go:186\"}\r\n2022-11-17T14:58:11.659Z\t^[[35mDEBUG^[[0m\tfound zero updates from current version 1.8\t{\"logging-call-at\": \"updatetask.go:127\"}\r\n2022-11-17T14:58:11.659Z\t^[[34mINFO^[[0m\tUpdateSchemeTask done\t{\"logging-call-at\": \"updatetask.go:120\"}\r\n+ VISIBILITY_SCHEMA_DIR=/etc/temporal/schema/postgresql/v96/visibility/versioned\r\n+ [[ temporal_visibility != \\r\\o\\o\\t ]]\r\n+ [[ false != true ]]\r\n+ temporal-sql-tool --plugin postgres --ep airbyte.rds.amazonaws.com -u root -p 5432 --db temporal_visibility create\r\n+ temporal-sql-tool --plugin postgres --ep airbyte.rds.amazonaws.com -u root -p 5432 --db temporal_visibility setup-schema -v 0.0\r\n2022-11-17T14:58:11.799Z\t^[[34mINFO^[[0m\tStarting schema setup\t{\"config\": {\"SchemaFilePath\":\"\",\"InitialVersion\":\"0.0\",\"Overwrite\":false,\"DisableVersioning\":false}, \"logging-call-at\": \"setuptask.go:57\"}\r\n2022-11-17T14:58:11.799Z\t^[[35mDEBUG^[[0m\tSetting up version tables\t{\"logging-call-at\": \"setuptask.go:67\"}\r\n2022-11-17T14:58:11.804Z\t^[[35mDEBUG^[[0m\tCurrent database schema version 1.1 is greater than initial schema version 0.0. Skip version upgrade\t{\"logging-call-at\": \"setuptask.go:116\"}\r\n2022-11-17T14:58:11.804Z\t^[[34mINFO^[[0m\tSchema setup complete\t{\"logging-call-at\": \"setuptask.go:131\"}\r\n+ temporal-sql-tool --plugin postgres --ep airbyte.rds.amazonaws.com -u root -p 5432 --db temporal_visibility update-schema -d /etc/temporal/schema/postgresql/v96/visibility/versioned\r\n2022-11-17T14:58:11.886Z\t^[[34mINFO^[[0m\tUpdateSchemeTask started\t{\"config\": {\"DBName\":\"\",\"TargetVersion\":\"\",\"SchemaDir\":\"/etc/temporal/schema/postgresql/v96/visibility/versioned\",\"IsDryRun\":false}, \"logging-call-at\": \"updatetask.go:97\"}\r\n2022-11-17T14:58:11.893Z\t^[[35mDEBUG^[[0m\tSchema Dirs: []\t{\"logging-call-at\": \"updatetask.go:186\"}\r\n2022-11-17T14:58:11.893Z\t^[[35mDEBUG^[[0m\tfound zero updates from current version 1.1\t{\"logging-call-at\": \"updatetask.go:127\"}\r\n2022-11-17T14:58:11.893Z\t^[[34mINFO^[[0m\tUpdateSchemeTask done\t{\"logging-call-at\": \"updatetask.go:120\"}\r\n+ [[ false == true ]]\r\n+ setup_server\r\n+ echo 'Temporal CLI address: [2a05:d014:6e0:c883:1d45::11]:7233.'\r\n+ grep -q SERVING\r\nTemporal CLI address: [2a05:d014:6e0:c883:1d45::11]:7233.\r\n+ tctl cluster health\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.974Z\",\"msg\":\"Build info.\",\"git-time\":\"2022-10-31T22:14:41.000Z\",\"git-revision\":\"03d6c03364bfa8129f7d1db1aeeab0b6f6cf7065\",\"git-modified\":false,\"go-arch\":\"amd64\",\"go-os\":\"linux\",\"go-version\":\"go1.18.8\",\"cgo-enabled\":false,\"server-version\":\"1.18.4\",\"logging-call-at\":\"main.go:142\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: history.persistencemaxqps oldValue: nil newValue: { constraints: {} value: 3000 }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: frontend.throttledlogrps oldValue: nil newValue: { constraints: {} value: 20 }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: system.advancedvisibilitywritingmode oldValue: nil newValue: { constraints: {} value: off }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: frontend.enableclientversioncheck oldValue: nil newValue: { constraints: {} value: true }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: frontend.persistencemaxqps oldValue: nil newValue: { constraints: {} value: 3000 }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: limit.blobsize.warn oldValue: nil newValue: { constraints: {} value: 10485760 }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: history.historymgrnumconns oldValue: nil newValue: { constraints: {} value: 50 }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: history.defaultactivityretrypolicy oldValue: nil newValue: { constraints: {} value: map[BackoffCoefficient:2 InitialIntervalInSeconds:1 MaximumAttempts:0 MaximumIntervalCoefficient:100] }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: history.defaultworkflowretrypolicy oldValue: nil newValue: { constraints: {} value: map[BackoffCoefficient:2 InitialIntervalInSeconds:1 MaximumAttempts:0 MaximumIntervalCoefficient:100] }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: limit.blobsize.error oldValue: nil newValue: { constraints: {} value: 15728640 }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"dynamic config changed for the key: frontend.historymgrnumconns oldValue: nil newValue: { constraints: {} value: 30 }\",\"logging-call-at\":\"file_based_client.go:275\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"Updated dynamic config\",\"logging-call-at\":\"file_based_client.go:195\"}\r\n{\"level\":\"warn\",\"ts\":\"2022-11-17T14:58:11.975Z\",\"msg\":\"Not using any authorizer and flag `--allow-no-auth` not detected. Future versions will require using the flag `--allow-no-auth` if you do not want to set an authorizer.\",\"logging-call-at\":\"main.go:171\"}\r\n2022/11/17 14:58:11 Loading config; env=docker,zone=,configDir=config\r\n2022/11/17 14:58:11 Loading config files=[config/docker.yaml]\r\n+ echo 'Waiting for Temporal server to start...'\r\n+ sleep 1\r\nWaiting for Temporal server to start...\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.107Z\",\"msg\":\"Use rpc address 127.0.0.1:7233 for cluster active.\",\"component\":\"metadata-initializer\",\"logging-call-at\":\"fx.go:750\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.248Z\",\"msg\":\"Created gRPC listener\",\"service\":\"history\",\"address\":\"[2a05:d014:6e0:c883:1d45::11]:7234\",\"logging-call-at\":\"rpc.go:159\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.279Z\",\"msg\":\"Created gRPC listener\",\"service\":\"matching\",\"address\":\"[2a05:d014:6e0:c883:1d45::11]:7235\",\"logging-call-at\":\"rpc.go:159\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.374Z\",\"msg\":\"Created gRPC listener\",\"service\":\"frontend\",\"address\":\"[2a05:d014:6e0:c883:1d45::11]:7233\",\"logging-call-at\":\"rpc.go:159\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.442Z\",\"msg\":\"PProf not started due to port not set\",\"logging-call-at\":\"pprof.go:67\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.442Z\",\"msg\":\"Starting server for services\",\"value\":{\"frontend\":{},\"history\":{},\"matching\":{},\"worker\":{}},\"logging-call-at\":\"server_impl.go:95\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.479Z\",\"msg\":\"RuntimeMetricsReporter started\",\"service\":\"worker\",\"logging-call-at\":\"runtime.go:138\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.480Z\",\"msg\":\"Membership heartbeat upserted successfully\",\"service\":\"history\",\"address\":\"2a05:d014:6e0:c883:1d45::11\",\"port\":6934,\"hostId\":\"41b127e7-6688-11ed-a4a2-cea47f6b5377\",\"logging-call-at\":\"rpMonitor.go:243\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.483Z\",\"msg\":\"RuntimeMetricsReporter started\",\"service\":\"matching\",\"logging-call-at\":\"runtime.go:138\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.483Z\",\"msg\":\"RuntimeMetricsReporter started\",\"service\":\"frontend\",\"logging-call-at\":\"runtime.go:138\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.485Z\",\"msg\":\"bootstrap hosts fetched\",\"service\":\"history\",\"bootstrap-hostports\":\"[2a05:d014:6e0:c883:1d45::11]:6934\",\"logging-call-at\":\"rpMonitor.go:285\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.486Z\",\"msg\":\"Current reachable members\",\"service\":\"history\",\"component\":\"service-resolver\",\"service\":\"history\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7234\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.493Z\",\"msg\":\"Membership heartbeat upserted successfully\",\"service\":\"worker\",\"address\":\"2a05:d014:6e0:c883:1d45::11\",\"port\":6939,\"hostId\":\"41d246f5-6688-11ed-a4a2-cea47f6b5377\",\"logging-call-at\":\"rpMonitor.go:243\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.497Z\",\"msg\":\"bootstrap hosts fetched\",\"service\":\"worker\",\"bootstrap-hostports\":\"[2a05:d014:6e0:c883:1d45::11]:6939,[2a05:d014:6e0:c883:1d45::11]:6934\",\"logging-call-at\":\"rpMonitor.go:285\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.499Z\",\"msg\":\"Membership heartbeat upserted successfully\",\"service\":\"matching\",\"address\":\"2a05:d014:6e0:c883:1d45::11\",\"port\":6935,\"hostId\":\"41bc028a-6688-11ed-a4a2-cea47f6b5377\",\"logging-call-at\":\"rpMonitor.go:243\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.500Z\",\"msg\":\"Membership heartbeat upserted successfully\",\"service\":\"frontend\",\"address\":\"2a05:d014:6e0:c883:1d45::11\",\"port\":6933,\"hostId\":\"41c43357-6688-11ed-a4a2-cea47f6b5377\",\"logging-call-at\":\"rpMonitor.go:243\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.500Z\",\"msg\":\"Current reachable members\",\"service\":\"worker\",\"component\":\"service-resolver\",\"service\":\"history\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7234\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.500Z\",\"msg\":\"Current reachable members\",\"service\":\"worker\",\"component\":\"service-resolver\",\"service\":\"worker\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7239\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.501Z\",\"msg\":\"worker starting\",\"service\":\"worker\",\"component\":\"worker\",\"logging-call-at\":\"service.go:365\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.502Z\",\"msg\":\"Current reachable members\",\"service\":\"history\",\"component\":\"service-resolver\",\"service\":\"worker\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7239\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.502Z\",\"msg\":\"bootstrap hosts fetched\",\"service\":\"matching\",\"bootstrap-hostports\":\"[2a05:d014:6e0:c883:1d45::11]:6934,[2a05:d014:6e0:c883:1d45::11]:6935,[2a05:d014:6e0:c883:1d45::11]:6933,[2a05:d014:6e0:c883:1d45::11]:6939\",\"logging-call-at\":\"rpMonitor.go:285\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.504Z\",\"msg\":\"Current reachable members\",\"service\":\"matching\",\"component\":\"service-resolver\",\"service\":\"matching\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7235\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.505Z\",\"msg\":\"Current reachable members\",\"service\":\"matching\",\"component\":\"service-resolver\",\"service\":\"history\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7234\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.505Z\",\"msg\":\"Current reachable members\",\"service\":\"matching\",\"component\":\"service-resolver\",\"service\":\"worker\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7239\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.505Z\",\"msg\":\"matching starting\",\"service\":\"matching\",\"logging-call-at\":\"service.go:91\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.505Z\",\"msg\":\"Starting to serve on matching listener\",\"service\":\"matching\",\"logging-call-at\":\"service.go:102\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.506Z\",\"msg\":\"bootstrap hosts fetched\",\"service\":\"frontend\",\"bootstrap-hostports\":\"[2a05:d014:6e0:c883:1d45::11]:6934,[2a05:d014:6e0:c883:1d45::11]:6935,[2a05:d014:6e0:c883:1d45::11]:6933,[2a05:d014:6e0:c883:1d45::11]:6939\",\"logging-call-at\":\"rpMonitor.go:285\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.506Z\",\"msg\":\"Current reachable members\",\"service\":\"history\",\"component\":\"service-resolver\",\"service\":\"matching\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7235\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.508Z\",\"msg\":\"Current reachable members\",\"service\":\"frontend\",\"component\":\"service-resolver\",\"service\":\"frontend\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7233\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.510Z\",\"msg\":\"Current reachable members\",\"service\":\"history\",\"component\":\"service-resolver\",\"service\":\"frontend\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7233\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.511Z\",\"msg\":\"Current reachable members\",\"service\":\"frontend\",\"component\":\"service-resolver\",\"service\":\"matching\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7235\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.511Z\",\"msg\":\"Current reachable members\",\"service\":\"frontend\",\"component\":\"service-resolver\",\"service\":\"history\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7234\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.512Z\",\"msg\":\"Current reachable members\",\"service\":\"frontend\",\"component\":\"service-resolver\",\"service\":\"worker\",\"addresses\":[\"[2a05:d014:6e0:c883:1d45::11]:7239\"],\"logging-call-at\":\"rpServiceResolver.go:283\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.512Z\",\"msg\":\"frontend starting\",\"service\":\"frontend\",\"logging-call-at\":\"service.go:294\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.512Z\",\"msg\":\"Starting to serve on frontend listener\",\"service\":\"frontend\",\"logging-call-at\":\"service.go:313\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.516Z\",\"msg\":\"RuntimeMetricsReporter started\",\"service\":\"history\",\"logging-call-at\":\"runtime.go:138\"}\r\n{\"level\":\"warn\",\"ts\":\"2022-11-17T14:58:12.516Z\",\"msg\":\"error creating sdk client\",\"service\":\"worker\",\"error\":\"failed reaching server: last connection error: connection error: desc = \\\"transport: Error while dialing dial tcp: address 2a05:d014:6e0:c883:1d45::11:7233: too many colons in address\\\"\",\"logging-call-at\":\"factory.go:116\"}\r\n{\"level\":\"info\",\"ts\":\"2022-11-17T14:58:12.516Z\",\"msg\":\"history starting\",\"service\":\"history\",\"logging-call-at\":\"service.go:97\"}\r\n{\"level\":\"fatal\",\"ts\":\"2022-11-17T14:58:12.516Z\",\"msg\":\"error creating sdk client\",\"service\":\"worker\",\"error\":\"failed reaching server: last connection error: connection error: desc = \\\"transport: Error while dialing dial tcp: address 2a05:d014:6e0:c883:1d45::11:7233: too many colons in address\\\"\",\"logging-call-at\":\"factory.go:123\",\"stacktrace\":\"go.temporal.io/server/common/log.(*zapLogger).Fatal\\n\\t/home/builder/temporal/common/log/zap_logger.go:151\\ngo.temporal.io/server/common/sdk.(*clientFactory).GetSystemClient.func1\\n\\t/home/builder/temporal/common/sdk/factory.go:123\\nsync.(*Once).doSlow\\n\\t/usr/local/go/src/sync/once.go:68\\nsync.(*Once).Do\\n\\t/usr/local/go/src/sync/once.go:59\\ngo.temporal.io/server/common/sdk.(*clientFactory).GetSystemClient\\n\\t/home/builder/temporal/common/sdk/factory.go:110\\ngo.temporal.io/server/service/worker/scanner.(*Scanner).Start\\n\\t/home/builder/temporal/service/worker/scanner/scanner.go:177\\ngo.temporal.io/server/service/worker.(*Service).startScanner\\n\\t/home/builder/temporal/service/worker/service.go:503\\ngo.temporal.io/server/service/worker.(*Service).Start\\n\\t/home/builder/temporal/service/worker/service.go:390\\ngo.temporal.io/server/service/worker.ServiceLifetimeHooks.func1.1\\n\\t/home/builder/temporal/service/worker/fx.go:139\"}\r\n```\r\n","closedAt":"2023-10-22T01:49:14Z","comments":[{"id":"IC_kwDODNqesM5pvJuP","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Should work with https://github.com/temporalio/temporal/pull/4766 will be available in next release.","createdAt":"2023-10-22T01:49:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3629#issuecomment-1773968271","viewerDidAuthor":false}],"createdAt":"2022-11-19T08:28:20Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"},{"id":"LA_kwDODNqesM8AAAABGnRdBw","name":"P2","description":"","color":"FBCA04"}],"milestone":null,"number":3629,"reactionGroups":[],"state":"CLOSED","title":"[temporalio/auto-setup] bindOnIP does not work with ipv6","updatedAt":"2023-10-22T01:49:14Z","url":"https://github.com/temporalio/temporal/issues/3629"}
