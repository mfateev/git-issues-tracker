{"assignees":[],"author":{"id":"MDQ6VXNlcjExMDEyMw==","is_bot":false,"login":"pquerna","name":"Paul Querna"},"body":"## Expected Behavior\r\nRunning temrpoal-server in a k8s container, setting environment variable `POSTGRES_PWD=31VKrnpbtrYW3y9rP:j7}N(VD=v_3vNw` to use as Postgres Password\r\n\r\n## Actual Behavior\r\n\r\nServer fails to start:\r\n```\r\nUnable to start server. Error: sql schema version compatibility check failed: \r\nparse \"postgres://temporal:31VKrnpbtrYW3y9rP:j7}N(VD=v_3vNw@xxxxxx.yyyyyyyy.us-west-2.rds.amazonaws.com:5432/temporal?sslmode=disable\": \r\nnet/url: invalid userinfo\r\n```\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Run temporal-server with `POSTGRES_PWD` containing special characters\r\n","closedAt":"2022-02-12T05:28:41Z","comments":[{"id":"IC_kwDODNqesM49z2L5","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"should be fixed https://github.com/temporalio/temporal/blob/b99986f05982cbe7184f6d5ff84fa946ac94a840/common/persistence/sql/sqlplugin/postgresql/session/session.go#L110","createdAt":"2022-02-12T05:28:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1719#issuecomment-1037001465","viewerDidAuthor":false}],"createdAt":"2021-07-09T17:30:45Z","labels":[],"milestone":null,"number":1719,"reactionGroups":[],"state":"CLOSED","title":"POSTGRES_PWD env variable is not escaped correctly when combined into a URL","updatedAt":"2022-02-12T05:28:41Z","url":"https://github.com/temporalio/temporal/issues/1719"}
