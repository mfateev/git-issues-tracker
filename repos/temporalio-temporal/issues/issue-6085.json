{"assignees":[{"id":"MDQ6VXNlcjE1OTg1Mg==","login":"stephanos","name":"Stephan Behnke","databaseId":0}],"author":{"id":"MDQ6VXNlcjUyMjA1","is_bot":false,"login":"dandavison","name":"Dan Davison"},"body":"## Current behavior\r\n\r\n<img width=\"306\" alt=\"image\" src=\"https://github.com/temporalio/temporal/assets/52205/b76ae9be-56fe-41c1-b7e6-cb2f530a228a\">\r\n\r\n\r\n## Proposed behavior\r\n\r\n<img width=\"547\" alt=\"image\" src=\"https://github.com/temporalio/temporal/assets/52205/4e5b978a-d13a-4e4e-912a-e2b19bd58cdf\">\r\n\r\n\r\n## Why?\r\n`UpdateWorkflowExecution` permits the submitted update ID to exist\r\nalready; in this situation it returns information on the state of the\r\nexisting update. Clients are encouraged to make use of this behavior\r\nby submitting the request repeatedly until the response indicates\r\nthat the update has reached a durable stage. Therefore, we must allow\r\nthe request to be submitted against completed updates since, otherwise,\r\nthere would be a race condition:\r\n\r\n1. client submits request 1; response indicates update not yet durable\r\n2. update becomes durable and workflow completes\r\n3. client submits request 2; receives `WorkflowNotFound` error\r\n\r\nThe above sequence is incorrect: the client's second request -- assuming it comes within the workflow retention period -- should receive\r\na success response indicating that the update is complete and\r\ncontaining the update outcome.","closedAt":"2024-07-11T17:51:22Z","comments":[],"createdAt":"2024-06-07T16:29:13Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":6085,"reactionGroups":[],"state":"CLOSED","title":"Allow UpdateWorkflowExecution against a completed workflow","updatedAt":"2024-07-11T17:51:22Z","url":"https://github.com/temporalio/temporal/issues/6085"}
