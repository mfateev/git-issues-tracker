{"assignees":[],"author":{"id":"MDQ6VXNlcjgzMzU3Ng==","is_bot":false,"login":"thegedge","name":"Jason Gedge"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nWe were looking to use Elastic's serverless option for our visibility store, but to connect we would need to set an [`Authorization`](https://www.elastic.co/docs/current/serverless/elasticsearch/get-started#test-connection) header, which currently doesn't appear to be supported by the config for the ES client: https://github.com/temporalio/temporal/blob/66ab754e7e8d60421678457df1914fa7ddae9dc3/common/persistence/visibility/store/elasticsearch/client/config.go#L45-L60\r\n\r\n**Describe the solution you'd like**\r\n\r\nI'd like to be able to add a configuration like the following:\r\n\r\n```yaml\r\nelasticsearch:\r\n  # ...\r\n  headers:\r\n    Authorization: \"ApiKey {{ .Env.TEMPORAL_ES_VISIBIILITY_STORE_PASSWORD }}\"\r\n```\r\n\r\n**Describe alternatives you've considered**\r\n\r\nAnother option would be to have this kind of a format:\r\n\r\n```yaml\r\nelasticsearch:\r\n  # ...\r\n\r\n  auth:\r\n    basic:\r\n      username: \"...\"\r\n      password: \"...\"\r\n    # or\r\n    elastic:\r\n      apiKey: \"...\"\r\n```\r\n\r\nBut it feels far less flexible and a bit more complicated to implement.\r\n \r\nOther than that, I can't really think of any alternative, besides having to set up a proxy that adds the header. Ideally, we avoid the operational overhead of another proxy and just do it straight on the client.","closedAt":null,"comments":[],"createdAt":"2024-07-08T18:03:37Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":6253,"reactionGroups":[],"state":"OPEN","title":"Expand configuration for Elastic to support serverless","updatedAt":"2024-07-08T18:03:37Z","url":"https://github.com/temporalio/temporal/issues/6253"}
