{"assignees":[],"author":{"id":"MDQ6VXNlcjU4MzkxOQ==","is_bot":false,"login":"underrun","name":"J Derek Wilson"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nI would like temporal to drain active connections while refusing new connections\r\n\r\n**Describe the solution you'd like**\r\n\r\nusing grpc GracefulStop with the shutdownDrainDuration as a timeout before focefully closing connections seems like a good option\r\n\r\n**Describe alternatives you've considered**\r\n\r\nsince we use long poll we probably can't actually block until connections close and need to tell clients to go away after a time. any approach to not accepting new connections, waiting a drain duration and then sending go away before finishing shutdown would work.\r\n\r\n**Additional context**\r\n\r\nthis could help reduce disruption to workers during upgrade especially for clients that are sensitive to connections just going away.","closedAt":"2023-05-04T21:00:22Z","comments":[],"createdAt":"2023-04-21T14:19:23Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":4202,"reactionGroups":[],"state":"CLOSED","title":"Use GracefulStop instead of Stop for closing grpc connections on frontend","updatedAt":"2023-05-04T21:00:22Z","url":"https://github.com/temporalio/temporal/issues/4202"}
