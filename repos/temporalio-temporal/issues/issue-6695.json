{"assignees":[],"author":{"id":"MDQ6VXNlcjY3Mjg0NzQz","is_bot":false,"login":"jasonmchan","name":"Jason Chan"},"body":"**Is your feature request related to a problem? Please describe.**\r\nAs far as I understand the XDC cache introduced by https://github.com/temporalio/temporal/pull/4379 is only pertinent when using multi-cluster replication.\r\n\r\nThis is frustrating because like the other caches in the history service, entries aren't evicted according to their TTL, so the cache keeps growing. If operators don't tune the XDC cache size limit (and it's not apparent that they should, especially if they're not using multi-cluster replication) the history service will OOM.\r\n\r\n**Describe the solution you'd like**\r\nMinimize XDC cache overheads when not using multi-cluster replication\r\n\r\n**Describe alternatives you've considered**\r\nN/A\r\n\r\n**Additional context**\r\nRan a workload of executing a few 1000 simple workflows and the XDC cache accumulates in size (see pprof screenshot):\r\n![image](https://github.com/user-attachments/assets/3dae4c00-5113-4526-8e8a-f44286644dab)\r\n\r\n","closedAt":null,"comments":[],"createdAt":"2024-10-22T20:35:35Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":6695,"reactionGroups":[],"state":"OPEN","title":"disable XDC cache when not using multi-cluster replication","updatedAt":"2024-10-22T20:35:35Z","url":"https://github.com/temporalio/temporal/issues/6695"}
