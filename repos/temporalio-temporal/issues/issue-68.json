{"assignees":[{"id":"MDQ6VXNlcjIyMzI1MjQ=","login":"alexshtin","name":"Alex Shtin","databaseId":0}],"author":{"id":"MDQ6VXNlcjIyMzI1MjQ=","is_bot":false,"login":"alexshtin","name":"Alex Shtin"},"body":"Currently [workflow service](https://github.com/temporalio/temporal-proto/blob/master/workflowservice/service.proto) contains RPC funcs which are not related to workflow. My suggestion is to extract `replicationservice` and `metadataservice`.\r\n1. `replicationservice`:\r\n```\r\nrpc GetReplicationMessages (GetReplicationMessagesRequest) returns (GetReplicationMessagesResponse) {}\r\nrpc GetDomainReplicationMessages (GetDomainReplicationMessagesRequest) returns (GetDomainReplicationMessagesResponse) {}\r\nrpc ReapplyEvents (ReapplyEventsRequest) returns (ReapplyEventsResponse) {}\r\n```\r\n2. `metadataservice`:\r\n```\r\nrpc RegisterDomain (RegisterDomainRequest) returns (RegisterDomainResponse) {}\r\nrpc DescribeDomain (DescribeDomainRequest) returns (DescribeDomainResponse) {}\r\nrpc ListDomains (ListDomainsRequest) returns (ListDomainsResponse) {}\r\nrpc UpdateDomain (UpdateDomainRequest) returns (UpdateDomainResponse) {}\r\nrpc DeprecateDomain (DeprecateDomainRequest) returns (DeprecateDomainResponse) {}\r\nrpc GetSearchAttributes (GetSearchAttributesRequest) returns (GetSearchAttributesResponse) {}\r\nrpc GetClusterInfo(GetClusterInfoRequest) returns (GetClusterInfoResponse){}\r\n```\r\nMaybe join it with [healthservice](https://github.com/temporalio/temporal/blob/master/proto/healthservice/service.proto).\r\n\r\n3. `workflowservice`:\r\nAll the rest.\r\n\r\n","closedAt":"2020-08-05T01:41:07Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDU3NDkwNDIxMw==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Go client already has [DomainClient](https://github.com/temporalio/temporal-go-client/blob/master/internal/client.go#L430) which uses `workflowservice` underneath (which is odd).","createdAt":"2020-01-15T23:24:18Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/68#issuecomment-574904213","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDU3NDkwNzI1MA==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"Sounds reasonable to me. I would keep the health service separate.","createdAt":"2020-01-15T23:34:38Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/68#issuecomment-574907250","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDU3NTQyNTYxNw==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Reminder for @alexshtin: don't forget: https://github.com/temporalio/temporal-proto/issues/1","createdAt":"2020-01-17T01:35:59Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/68#issuecomment-575425617","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDU3NzUyMTU5MA==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Maybe move some rpc from [adminservice](https://github.com/temporalio/temporal/blob/master/proto/adminservice/service.proto) also.","createdAt":"2020-01-23T06:12:54Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/68#issuecomment-577521590","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDU3OTA0Mjc1NQ==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Rename all `ID` to `Id`. This should be mostly done already but I believe there are few `ID` still left.","createdAt":"2020-01-28T01:55:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/68#issuecomment-579042755","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDY2ODkyMjk0MQ==","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"We were not able to do this decomposition before Code Complete and it should be done later in backward compatible way.","createdAt":"2020-08-05T01:41:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/68#issuecomment-668922941","viewerDidAuthor":false}],"createdAt":"2020-01-15T23:20:03Z","labels":[{"id":"MDU6TGFiZWwxNzkwMTM1NzM5","name":"refactoring","description":"","color":"e8b181"},{"id":"MDU6TGFiZWwyMDE5OTIzMjY4","name":"architecture","description":"","color":"ad9fe0"}],"milestone":{"number":1,"title":"Initial Temporal Release","description":"","dueOn":null},"number":68,"reactionGroups":[],"state":"CLOSED","title":"Workflow service decomposition","updatedAt":"2020-08-05T01:41:07Z","url":"https://github.com/temporalio/temporal/issues/68"}
