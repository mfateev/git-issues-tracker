{"assignees":[],"author":{"id":"MDQ6VXNlcjQ1MjM5NTU=","is_bot":false,"login":"longquanzheng","name":"Quanzheng Long"},"body":"To mirror issue in Cadence: https://github.com/uber/cadence/issues/3962 ","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5G9ySL","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"### I propose:\r\n\r\n- Keep built-in Keyword search attributes as Keywords\r\n- Allow wildcards and/or regexes in List Filters\r\n\r\n### Background info\r\n\r\nSummarizing comments from internal Slack:\r\n\r\n- Wildcard search for built-in Keyword search attributes is a recurring request/need (like with a `WorkflowId` that is `<productId>-<uuid>`, looking it up by `productId`).\r\n- Text type is more work for ES than Keyword â€”Liang\r\n- Keyword supports these term-level queries: regexp and wildcard:\r\n  - https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-wildcard-query.html\r\n  - https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-regexp-query.html\r\n\r\n> Use a keyword family field type if:\r\n> - The content is machine-generated, such as a log message or HTTP request information.\r\n> - You plan to search the field for exact full values, such as org.foo.bar, or partial character sequences, such as org.foo.*, using [term-level queries](https://www.elastic.co/guide/en/elasticsearch/reference/current/term-level-queries.html).\r\n\r\nNote that the regexp and wildcard require `allow_expensive_queries: true`:\r\n\r\n![image](https://user-images.githubusercontent.com/251288/180052465-d394664b-0bd7-4ea6-886a-26548c94b3fc.png)\r\n\r\n### Alternative\r\n\r\nUse custom Search Attributes. (This works fine, but it would be nicer from DX perspective if users didn't have to do this.)","createdAt":"2022-07-20T18:14:32Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":6}}],"url":"https://github.com/temporalio/temporal/issues/3056#issuecomment-1190601867","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5H3Xxy","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Another alternative:\r\n\r\nI don't know how performant this is, but @mjameswh shared that BETWEEN works on Keywords, so for example:\r\n\r\n`WorkflowId BETWEEN \"myprojid1-\" AND \"myprojid1-zzzzzzzzzzz\"`\r\n\r\nwould match `'myprojid1-randomalpha'`","createdAt":"2022-08-04T19:45:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":3}},{"content":"HEART","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/3056#issuecomment-1205697650","viewerDidAuthor":false}],"createdAt":"2022-07-05T17:19:08Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":3056,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":11}}],"state":"OPEN","title":"Support wildcard search for workflows","updatedAt":"2023-03-03T20:19:37Z","url":"https://github.com/temporalio/temporal/issues/3056"}
