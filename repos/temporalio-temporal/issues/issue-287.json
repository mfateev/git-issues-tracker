{"assignees":[],"author":{"id":"MDQ6VXNlcjUyMjI1MTI=","is_bot":false,"login":"hazcod","name":"Niels Hofmans"},"body":"I'm really interested in running this alongside cockroachdb, which is a postgres-compliant cloud native database with easy HA/clustering.\r\nOn the plus side, it's written in Go so I run it statically compiled in a scratch container.\r\nhttps://github.com/ironpeakservices/iron-cockroachdb\r\n\r\nI would love to see a docker-compose.yml example using cockroach and/or postgres.","closedAt":"2020-10-27T23:04:54Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDYxNTEzNDk2MQ==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"CC https://github.com/cockroachdb/cockroach/issues/47599","createdAt":"2020-04-17T09:07:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/287#issuecomment-615134961","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDYxNTEzNTYzNg==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"Compose:\r\n```yaml\r\n  cadence-db:\r\n    hostname: cadence-db\r\n    image: docker.pkg.github.com/ironpeakservices/iron-cockroachdb/iron-cockroachdb:19.1.5\r\n    container_name: cadence-db\r\n    tty: false\r\n    restart: \"on-failure:5\"\r\n    security_opt:\r\n    - \"no-new-privileges\"\r\n    read_only: true\r\n    cap_drop:\r\n    - ALL\r\n    networks:\r\n    - backend\r\n    command: [\"start\", \"--insecure\"]\r\n\r\n  statsd:\r\n    image: graphiteapp/graphite-statsd\r\n    networks:\r\n    - backend\r\n\r\n  cadence:\r\n    image: ubercadence/server:master-auto-setup\r\n    networks:\r\n    - backend\r\n    environment:\r\n    - \"DB=postgres\"\r\n    - \"DB_PORT=26257\"\r\n    - \"POSTGRES_USER=root\"\r\n    - \"POSTGRES_PWD=\"\r\n    - \"POSTGRES_SEEDS=postgres\"\r\n    - \"STATSD_ENDPOINT=statsd:8125\"\r\n    - \"DYNAMIC_CONFIG_FILE_PATH=config/dynamicconfig/development.yaml\"\r\n    links:\r\n    - statsd\r\n    - cadence-db:postgres\r\n    ports:\r\n    - 7933\r\n    depends_on:\r\n    - cadence-db\r\n    - statsd\r\n\r\n  cadence-init:\r\n    image: ubercadence/server:master-auto-setup\r\n    networks:\r\n    - backend\r\n    links:\r\n    - cadence\r\n    depends_on:\r\n    - cadence\r\n    command: [\"cadence\", \"--address=cadence:7933\", \"--domain=micro-domain\", \"domain\", \"register\"]\r\n```","createdAt":"2020-04-17T09:09:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"url":"https://github.com/temporalio/temporal/issues/287#issuecomment-615135636","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDYxODg1NDg4Ng==","author":{"login":"hazcod"},"authorAssociation":"CONTRIBUTOR","body":"Can confirm cadence works (and boots much faster!) with cockroachdb 20.1.\r\n","createdAt":"2020-04-24T07:35:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/287#issuecomment-618854886","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDY2NjY5Njk4Mg==","author":{"login":"vy-ton"},"authorAssociation":"NONE","body":"@hazcod PM at Cockroach Labs here. This is great to see. \r\n\r\nLet me know if you have any further questions.","createdAt":"2020-07-30T21:02:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/287#issuecomment-666696982","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDcxNzU5MjAyMQ==","author":{"login":"wxing1292"},"authorAssociation":"CONTRIBUTOR","body":"close issue since https://github.com/temporalio/temporal/blob/master/docker/docker-compose-cockroach.yml already exists","createdAt":"2020-10-27T23:04:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/287#issuecomment-717592021","viewerDidAuthor":false},{"id":"IC_kwDODNqesM463M4t","author":{"login":"joebowbeer"},"authorAssociation":"NONE","body":"Moved: https://github.com/temporalio/docker-compose/blob/main/docker-compose-cockroach.yml","createdAt":"2021-12-07T04:06:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/287#issuecomment-987549229","viewerDidAuthor":false}],"createdAt":"2020-04-09T06:19:50Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5ODA4MDcy","name":"product-integration","description":"New integration with the product","color":"db6db4"},{"id":"MDU6TGFiZWwyMDE5ODA5MzEz","name":"database","description":"","color":"ea8a77"}],"milestone":null,"number":287,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"Feature: add example with cockroachdb","updatedAt":"2021-12-07T04:06:38Z","url":"https://github.com/temporalio/temporal/issues/287"}
