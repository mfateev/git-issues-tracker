{"assignees":[],"author":{"id":"MDQ6VXNlcjUzMjEwOA==","is_bot":false,"login":"Spikhalskiy","name":"Dmitry Spikhalsky"},"body":"**Is your feature request related to a problem? Please describe.**\r\nOn the attached screenshot you can find a workflow execution history that\r\n1. Is Closed - the workflow execution timed out \r\n2. An activity was started and was never finished, taking too much time. [Irrelevant, but In reality, an activity worker was killed and the activity had too long start_to_close timeout] Which caused the time out.\r\n\r\nThis history doesn't have an ActivityTaskStarted at all.\r\nThe reason is that we delay or buffer ActivityTaskStarted events till completion. Presumably to simplify processing of our state machine.\r\nThe problem is that this history looks like the activity was never ever picked up by the worker. Which makes this history very misleading and hard to debug.\r\n\r\n**Describe the solution you'd like**\r\nFlush buffered ActivityTaskStarted events before closing the workflow [completion, termination, cancellation, timeout]\r\n \r\n**Describe alternatives you've considered**\r\nTemporal may utilize marker events, but this is cumbersome if the original solution is possible. \r\n\r\n**Additional context**\r\n![image](https://user-images.githubusercontent.com/532108/145475408-67043e38-2811-495e-ac25-ff71e8363619.png)\r\n","closedAt":null,"comments":[],"createdAt":"2021-12-09T21:10:42Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":2282,"reactionGroups":[],"state":"OPEN","title":"Flush transient ActivityTaskStarted events before closing a workflow","updatedAt":"2023-03-03T20:21:10Z","url":"https://github.com/temporalio/temporal/issues/2282"}
