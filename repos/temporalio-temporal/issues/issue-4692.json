{"assignees":[{"id":"MDQ6VXNlcjQ2NjcyMw==","login":"dnr","name":"David Reiss","databaseId":0}],"author":{"id":"MDQ6VXNlcjEzMTkyNzM1","is_bot":false,"login":"zedongh","name":"zedongh"},"body":"**Is your feature request related to a problem? Please describe.**\r\nSome workflow worker or actvitiy worker just startup wait for task coming but maybe hold for long time. Here are may no task coming for a long while. Persist acklevel cause effortless database request per updateAckTimer.\r\n\r\n**Describe the solution you'd like**\r\n`taskReader` store last persist ack level and do `persistAckLevel` only when current ack level not match last persist ack level.\r\n\r\n**Describe alternatives you've considered**\r\nNo\r\n\r\n**Additional context**\r\nNo","closedAt":null,"comments":[{"id":"IC_kwDODNqesM5imFRS","author":{"login":"dnr"},"authorAssociation":"MEMBER","body":"That's correct. Actually there are more optimizations that could be done in that area, e.g. not trying to read tasks from the database periodically either. I've been looking into this area recently so there may be some changes here soon.","createdAt":"2023-07-27T18:12:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/4692#issuecomment-1654150226","viewerDidAuthor":false}],"createdAt":"2023-07-27T07:32:38Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":4692,"reactionGroups":[],"state":"OPEN","title":"Could taskReader persistAckLevel check last persist ackLevel avoid persist duplicate ackLevel","updatedAt":"2023-07-28T21:38:06Z","url":"https://github.com/temporalio/temporal/issues/4692"}
