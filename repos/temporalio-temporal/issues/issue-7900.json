{"assignees":[],"author":{"id":"U_kgDOCeJu7w","is_bot":false,"login":"thatmlopsguy","name":""},"body":"## Expected Behavior\n\n## Actual Behavior\n\nWorker process does not pick up any tasks when installing via helm with Postgres AWS RDS as database. The temporal server is installed on-prem k8s cluster while the RDS is hosted in `us-east-1`.\n\nLog error from history deployment.\n\n```sh\n{\"level\":\"error\",\"ts\":\"2025-06-11T11:29:11.444Z\",\"msg\":\"Persistent fetch operation Failure\",\"shard-id\":228,\"address\":\"10.233.69.127:7234\",\"wf-namespace-id\":\"163abb2f-35b8-47c2-b7b3-8648e43a3c70\",\"wf-id\":\"test_KnowledgeBotWorkflow_2287f9b676b84293ae17549f20557bc9\",\"wf-run-id\":\"701cde3a-5f11-4a9f-9f6c-99b3d0b45384\",\"store-operation\":\"get-wf-execution\",\"error\":\"GetWorkflowExecution: failed to get signal info. Error: Failed to get signal info. Error: context canceled\",\"logging-call-at\":\"/home/runner/work/docker-builds/docker-builds/temporal/service/history/workflow/transaction_impl.go:477\",\"stacktrace\":\n```\n\n## Specifications\n\n  - Version: 0.52\n  - Platform: Kubernetes\n\nRelated issue:\n- https://community.temporal.io/t/worker-process-does-not-pick-workflow-and-activity-tasks/8084","closedAt":"2025-08-21T22:18:56Z","comments":[{"id":"IC_kwDODNqesM6wm4c8","author":{"login":"thatmlopsguy"},"authorAssociation":"NONE","body":"`It seems that the Temporal pod is highly sensitive to delays and timeouts when interacting with the database. However, I couldnâ€™t find any environment configuration that could mitigate this issue.`\n\nFrom https://github.com/airbytehq/airbyte/issues/59730\n\n","createdAt":"2025-06-11T14:07:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7900#issuecomment-2962982716","viewerDidAuthor":false},{"id":"IC_kwDODNqesM62W-N9","author":{"login":"yycptt"},"authorAssociation":"MEMBER","body":"Assuming the delays and timeouts are caused by the load from temporal server, I would suggest tuning some dynamic configurations to rate limit the # of requests sent to DB and make sure DB in a happy state. For example, `history.persistenceGlobalMaxQPS` which controls the RPS of persistence requests all the history service hosts can send.\n\nPlease also consider joining our open source slack channel and/or forum (https://temporal.io/community). Our support team has a lot of experience helping with self-hosting issues. \n\n","createdAt":"2025-07-10T23:15:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7900#issuecomment-3059475325","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6_duFG","author":{"login":"yycptt"},"authorAssociation":"MEMBER","body":"Closing the issue.","createdAt":"2025-08-21T22:18:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7900#issuecomment-3212239174","viewerDidAuthor":false}],"createdAt":"2025-06-11T11:39:54Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":7900,"reactionGroups":[],"state":"CLOSED","title":"Persistent fetch operation Failure","updatedAt":"2025-08-21T22:18:56Z","url":"https://github.com/temporalio/temporal/issues/7900"}
