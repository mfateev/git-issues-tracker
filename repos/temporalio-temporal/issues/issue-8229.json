{"assignees":[{"id":"MDQ6VXNlcjM3NzA0Nzg=","login":"yux0","name":"Yu Xia","databaseId":0}],"author":{"id":"MDQ6VXNlcjMwODU0MTA=","is_bot":false,"login":"meiliang86","name":"Liang Mei"},"body":"If the [handover workflow](service/worker/migration/handover_workflow.go) is invoked with a small timeout, it is possible that the execution times out between the two namespaces updates, thus could leave the namespace in an unavailable state.\n\nThe workaround is to always involke the handover workflow with a timeout >> 1hr (the max timeout for catchup activity). So we could add validations in the beginning of the workflow to fail it immediately if the workflow execution timeout is too small.\n\nWe should improve the handover workflow to backout before changing the ns to be unavailable if it's too close to execution timeout.\n\n","closedAt":"2025-09-18T22:39:11Z","comments":[{"id":"IC_kwDODNqesM7FSWCO","author":{"login":"yux0"},"authorAssociation":"MEMBER","body":"https://github.com/temporalio/temporal/pull/8231 and https://github.com/temporalio/temporal/pull/8258 to make sure we don't allow timeout and have detach context for compensation logic.","createdAt":"2025-09-18T22:39:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/8229#issuecomment-3309920398","viewerDidAuthor":false}],"createdAt":"2025-08-22T03:10:08Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":8229,"reactionGroups":[],"state":"CLOSED","title":"Handover timeout can cause namespace to be stuck in unavailable state","updatedAt":"2025-09-18T22:39:11Z","url":"https://github.com/temporalio/temporal/issues/8229"}
