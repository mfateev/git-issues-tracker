{"assignees":[],"author":{"id":"MDQ6VXNlcjE0Mzc1NA==","is_bot":false,"login":"awwx","name":"Andrew Wilcox"},"body":"https://community.temporal.io/t/java-helloupdate-example-hangs-calling-addgreeting-update/12953/6\r\n\r\n## Expected Behavior\r\n\r\nThe Java HelloUpdate example runs fine when using docker-compose and setting `frontend.enableUpdateWorkflowExecution` in `dynamicconfig/development-sql.yaml`\r\n\r\n\r\n## Actual Behavior\r\n\r\nWhen using `temporal server start-dev --dynamic-config-value frontend.enableUpdateWorkflowExecution=true` the client hangs at the point of making the first update call, and temporal pegs the CPU.\r\n\r\nTemporal log output: https://gist.github.com/awwx/4b375e92da18b3bf57597956560ccc89\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nStart Temporal using `temporal server start-dev --dynamic-config-value frontend.enableUpdateWorkflowExecution=true`  and run the HelloUpdate sample application.\r\n\r\n## Specifications\r\n\r\n```\r\n$ temporal --version\r\ntemporal version 0.11.0 (server 1.22.4) (ui 2.21.3)\r\n```\r\n\r\nIn samples-java, Iâ€™m on the latest commit\r\n\r\n```\r\n$ git log -n1\r\ncommit 637c2e66fd2dab43d9f3f39e5fd9c55e4f3884f0 (HEAD -> main, origin/main, origin/HEAD)\r\nAuthor: Tihomir Surdilovic <tihomir@temporal.io>\r\nDate:   Sun Jul 21 19:55:18 2024 -0400\r\n```\r\n\r\n```\r\n$ ./gradlew --version\r\n\r\n------------------------------------------------------------\r\nGradle 8.0.1\r\n------------------------------------------------------------\r\n\r\nBuild time:   2023-02-17 20:09:48 UTC\r\nRevision:     68959bf76cef4d28c678f2e2085ee84e8647b77a\r\n\r\nKotlin:       1.8.10\r\nGroovy:       3.0.13\r\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\nJVM:          17.0.11 (Ubuntu 17.0.11+9-Ubuntu-1)\r\nOS:           Linux 6.8.0-38-generic amd64\r\n```\r\n\r\n\r\n","closedAt":"2024-07-30T00:42:29Z","comments":[{"id":"IC_kwDODNqesM6GcBT0","author":{"login":"rash032"},"authorAssociation":"NONE","body":"Use docker compose to run temporal server and connect to it via client in your java application","createdAt":"2024-07-29T09:52:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6352#issuecomment-2255492340","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6GcP_X","author":{"login":"awwx"},"authorAssociation":"NONE","body":"> Use docker compose to run temporal server and connect to it via client in your java application\r\n\r\nYes, as I said, Temporal run from docker-compose is working. This is a bug report for `temporal server start-dev`\r\n","createdAt":"2024-07-29T10:21:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6352#issuecomment-2255552471","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6GibZG","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Can you try updating your `temporal server `? You CLI version is multiple releases out of date. The latest is https://github.com/temporalio/cli/releases/tag/v0.13.2","createdAt":"2024-07-29T23:21:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6352#issuecomment-2257172038","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6GiurJ","author":{"login":"awwx"},"authorAssociation":"NONE","body":"> Can you try updating your temporal server ? You CLI version is multiple releases out of date. The latest is https://github.com/temporalio/cli/releases/tag/v0.13.2\r\n\r\nI had followed the link in https://learn.temporal.io/getting_started/java/dev_environment/ for \"Download Temporal CLI for Linux amd64\", which links to https://temporal.download/cli/archive/v0.11.0?platform=linux&arch=amd64\r\n\r\nThe HelloUpdate example runs correctly when using the latest CLI version 0.13.2\r\n\r\nI made a note of the outdated download link in the forum: https://community.temporal.io/t/download-points-to-outdated-cli-version-in-set-up-a-local-development-environment-for-temporal-and-java/13004\r\n","createdAt":"2024-07-30T00:42:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6352#issuecomment-2257251017","viewerDidAuthor":false}],"createdAt":"2024-07-29T01:44:31Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":6352,"reactionGroups":[],"state":"CLOSED","title":"Java HelloUpdate example hangs when using `temporal server start-dev`","updatedAt":"2024-07-30T00:42:29Z","url":"https://github.com/temporalio/temporal/issues/6352"}
