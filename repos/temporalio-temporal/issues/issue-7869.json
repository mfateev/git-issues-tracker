{"assignees":[],"author":{"id":"U_kgDOCpZIxQ","is_bot":false,"login":"adwait-vk","name":""},"body":"I am trying to deploy temporal with visibility set as elastic search... but I am getting this error.\nError: INSTALLATION FAILED: execution error at (temporal/templates/server-deployment.yaml:37:28): Please specify cassandra port for visibility store.\n\n\nThus is my values.custom.yaml file:\nserver:\n  enabled: true\n  config:\n    persistence:\n      defaultStore: default\n      advancedVisibilityStore: es-visibility\n      datastores: {}\n\n      default:\n        driver: \"sql\"\n        sql:\n          driver: \"mysql\"\n          host: \"10.24.40.101\"\n          port: 4000\n          database: \"temporal\"\n          user: \"readwrite\"\n          password: \"2UQs4+iw0U\"\n          maxConns: 500\n          maxConnLifetime: \"1h\"\n\n      es-visibility:\n        driver: \"elasticsearch\"\n        elasticsearch:\n          version: \"v8\"\n          logLevel: \"error\"\n          url:\n            scheme: \"http\"\n            host: \"chanakya-temporal-playground-es-http.ekl-cl-chanakya-playground.svc.cluster.local:9200\"\n          indices:\n            visibility: \"temporal_visibility\"\n\ncassandra:\n  enabled: false\n  config:\n    ports:\n      cql: 9042\n\nmysql:\n  enabled: false # We're using external MySQL\n\npostgresql:\n  enabled: false\n\nelasticsearch:\n  enabled: false # Using external Elasticsearch\n  external: true\n  version: \"v8\"\n  scheme: \"http\"\n  host: \"chanakya-temporal-playground-es-http.ekl-cl-chanakya-playground.svc.cluster.local\"\n  port: \"9200\"\n  username: \"\"\n  password: \"\"\n  visibilityIndex: \"temporal_visibility_v1\"\n  logLevel: \"error\"\n\nprometheus:\n  enabled: false\n\ngrafana:\n  enabled: false\n\nschema:\n  setup:\n    enabled: false # Schema already set up\n  update:\n    enabled: false # Schema already set up\n\nI am not even using cassandra enywhere but still getting this issue.","closedAt":null,"comments":[{"id":"IC_kwDODNqesM6zb8KQ","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Can you please provide the Temporal server version and helm chart version?\nAlso @rodrigozhou have you seen this before?","createdAt":"2025-06-26T22:56:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7869#issuecomment-3010445968","viewerDidAuthor":false}],"createdAt":"2025-06-05T10:07:09Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":7869,"reactionGroups":[],"state":"OPEN","title":"temporal frontend unable to connect to elasticsearch visibilitystore","updatedAt":"2025-06-26T22:56:39Z","url":"https://github.com/temporalio/temporal/issues/7869"}
