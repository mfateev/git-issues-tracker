{"assignees":[],"author":{"id":"MDQ6VXNlcjY0MTIxNjk=","is_bot":false,"login":"mjameswh","name":"James Watkins-Harvey"},"body":"## Expected Behavior\r\n\r\nAccording to the Protobuf API, `PollActivityTaskQueueResponse` should contain a `retry_policy` property ([see code](https://github.com/temporalio/api/blob/master/temporal/api/workflowservice/v1/request_response.proto#L446-L449)).\r\n\r\n## Actual Behavior\r\n\r\nMatching's `createPollActivityTaskQueueResponse` does not populate the `RetryPolicy` field when making a `PollActivityTaskQueueResponse` object ([see code](https://github.com/temporalio/temporal/blob/5bb4d5f5c56694921fe0023859e8ca2c51e5974c/service/matching/matching_engine.go#L2195-L2212)).\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Start a Workflow that schedule an activity\r\n  1. Poll the activity task form the corresponding TQ\r\n  1. Confirm that `response.RetryPolicy` is null\r\n\r\n## Specifications\r\n\r\n  - Version:\r\n  - Platform:\r\n","closedAt":"2025-05-09T17:34:45Z","comments":[{"id":"IC_kwDODNqesM6TzhOi","author":{"login":"noman-xg"},"authorAssociation":"NONE","body":"Hi @mjameswh,\r\nI have reproduced the issue on my end, and it seems that the `RetryPolicy` field in the `PollActivityTaskQueueResponse` is not being populated as expected when polling an activity task from the corresponding task queue. I am interested in contributing a fix for this. Could you provide any guidance on the preferred approach for implementing this? Or, if there's any ongoing work on this ?\r\n\r\nLooking forward to collaborating!","createdAt":"2024-11-15T19:16:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/6502#issuecomment-2479756194","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6q6QGa","author":{"login":"ychebotarev"},"authorAssociation":"CONTRIBUTOR","body":"should be fixed, will be part of the next (1.28) release","createdAt":"2025-05-09T17:35:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/6502#issuecomment-2867397018","viewerDidAuthor":false}],"createdAt":"2024-09-10T03:20:31Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":6502,"reactionGroups":[],"state":"CLOSED","title":"Returned PollActivityTaskQueueResponse does not contain RetryPolicy","updatedAt":"2025-05-09T17:35:28Z","url":"https://github.com/temporalio/temporal/issues/6502"}
