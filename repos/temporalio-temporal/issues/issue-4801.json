{"assignees":[],"author":{"id":"MDQ6VXNlcjQ1MjM5NTU=","is_bot":false,"login":"longquanzheng","name":"Quanzheng Long"},"body":"Such a requirement could be very inconvenient and could require in-compatible change  in user workflow code.\r\n## Expected Behavior\r\nOnly WFT that closing workflow should be required to handle all signals. \r\n\r\n\r\n## Actual Behavior\r\nIt started to require at 1.21.4 version\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nIn my PR: \r\nWhen changing the server version to 1.21.4 from 1.20.4 \r\nit fails https://github.com/indeedeng/iwf/pull/336/commits/6e858321b7af12d5be20cf4f9992213b6d333b23 \r\nwith error in the logs:\r\n```\r\n2023-08-24T20:39:32.3249001Z 2023-08-24T20:39:32.324Z\tDEBUG\tloggerimpl/logger.go:117\treceived API request\t{\"value\": \"{\\\"signalChannelName\\\":\\\"test-unhandled-signal-name\\\",\\\"signalValue\\\":{\\\"data\\\":\\\"test-data-2\\\",\\\"encoding\\\":\\\"json\\\"},\\\"workflowId\\\":\\\"signal1692909569243681150\\\"}\", \"logging-call-at\": \"handler.go:66\"}\r\n2023-08-24T20:39:32.3346140Z 2023/08/24 20:39:32 INFO  Task processing failed with error Namespace default TaskQueue Interpreter_DEFAULT WorkerID 10311@fv-az1410-138@ WorkerType WorkflowWorker Error UnhandledCommand\r\n```\r\n\r\n## Specifications\r\n\r\n  - Version: 1.21.4\r\n\r\n","closedAt":"2023-08-24T22:01:56Z","comments":[{"id":"IC_kwDODNqesM5k4AZ1","author":{"login":"longquanzheng"},"authorAssociation":"CONTRIBUTOR","body":"history:\r\n```\r\n{\r\n  \"events\": [\r\n    {\r\n      \"eventId\": \"1\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.229977376Z\",\r\n      \"eventType\": \"WorkflowExecutionStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050186\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowExecutionStartedEventAttributes\": {\r\n        \"workflowType\": {\r\n          \"name\": \"Interpreter\"\r\n        },\r\n        \"parentWorkflowNamespace\": \"\",\r\n        \"parentWorkflowNamespaceId\": \"\",\r\n        \"parentWorkflowExecution\": null,\r\n        \"parentInitiatedEventId\": \"0\",\r\n        \"taskQueue\": {\r\n          \"name\": \"Interpreter_DEFAULT\",\r\n          \"kind\": \"Normal\",\r\n          \"normalName\": \"\"\r\n        },\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJpd2ZXb3JrZmxvd1R5cGUiOiJzaWduYWwiLCJpd2ZXb3JrZXJVcmwiOiJodHRwOi8vbG9jYWxob3N0Ojk3MTQiLCJzdGFydFN0YXRlSWQiOiJTMSIsInN0YXRlSW5wdXQiOnt9LCJzdGF0ZU9wdGlvbnMiOnt9LCJ1c2VNZW1vRm9yRGF0YUF0dHJpYnV0ZXMiOmZhbHNlLCJjb25maWciOnsiY29udGludWVBc05ld1BhZ2VTaXplSW5CeXRlcyI6MzAwLCJjb250aW51ZUFzTmV3VGhyZXNob2xkIjoxLCJkaXNhYmxlU3lzdGVtU2VhcmNoQXR0cmlidXRlIjp0cnVlfSwiaXNSZXN1bWVGcm9tQ29udGludWVBc05ldyI6dHJ1ZSwiY29udGludWVBc05ld0lucHV0Ijp7InByZXZpb3VzSW50ZXJuYWxSdW5JZCI6IjNlOGU3ODgzLTlkNmEtNGI4Yi05YTY5LTc5YmJkNTgxNjAxNyJ9fQ==\"\r\n            }\r\n          ]\r\n        },\r\n        \"workflowExecutionTimeout\": \"10s\",\r\n        \"workflowRunTimeout\": \"10s\",\r\n        \"workflowTaskTimeout\": \"10s\",\r\n        \"continuedExecutionRunId\": \"3e8e7883-9d6a-4b8b-9a69-79bbd5816017\",\r\n        \"initiator\": \"Workflow\",\r\n        \"continuedFailure\": null,\r\n        \"lastCompletionResult\": null,\r\n        \"originalExecutionRunId\": \"15134cb3-164c-4a4f-8d26-f26d6bcc56a9\",\r\n        \"identity\": \"\",\r\n        \"firstExecutionRunId\": \"f1a388a4-e12b-4a8b-bedb-96bb88326532\",\r\n        \"retryPolicy\": null,\r\n        \"attempt\": 1,\r\n        \"workflowExecutionExpirationTime\": \"2023-08-24T20:39:58.131Z\",\r\n        \"cronSchedule\": \"\",\r\n        \"firstWorkflowTaskBackoff\": null,\r\n        \"memo\": null,\r\n        \"searchAttributes\": {\r\n          \"indexedFields\": {\r\n            \"IwfExecutingStateIds\": {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\",\r\n                \"type\": \"S2V5d29yZExpc3Q=\"\r\n              },\r\n              \"data\": \"WyJTMSJd\"\r\n            },\r\n            \"IwfGlobalWorkflowVersion\": {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\",\r\n                \"type\": \"SW50\"\r\n              },\r\n              \"data\": \"Mw==\"\r\n            },\r\n            \"IwfWorkflowType\": {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\",\r\n                \"type\": \"S2V5d29yZA==\"\r\n              },\r\n              \"data\": \"InNpZ25hbCI=\"\r\n            },\r\n            \"TemporalChangeVersion\": {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\",\r\n                \"type\": \"S2V5d29yZExpc3Q=\"\r\n              },\r\n              \"data\": \"WyJnbG9iYWwtMyJd\"\r\n            }\r\n          }\r\n        },\r\n        \"prevAutoResetPoints\": {\r\n          \"points\": [\r\n            {\r\n              \"binaryChecksum\": \"838eaaedbcd3027b19b7a7d83cbf52e4\",\r\n              \"runId\": \"f1a388a4-e12b-4a8b-bedb-96bb88326532\",\r\n              \"firstWorkflowTaskCompletedId\": \"4\",\r\n              \"createTime\": \"2023-08-24T20:39:48.146018750Z\",\r\n              \"expireTime\": \"2023-08-25T20:39:49.182952709Z\",\r\n              \"resettable\": true\r\n            }\r\n          ]\r\n        },\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"parentInitiatedEventVersion\": \"0\",\r\n        \"workflowId\": \"signal1692909588126304000\",\r\n        \"sourceVersionStamp\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"2\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.230007959Z\",\r\n      \"eventType\": \"WorkflowTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050187\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskScheduledEventAttributes\": {\r\n        \"taskQueue\": {\r\n          \"name\": \"Interpreter_DEFAULT\",\r\n          \"kind\": \"Normal\",\r\n          \"normalName\": \"\"\r\n        },\r\n        \"startToCloseTimeout\": \"10s\",\r\n        \"attempt\": 1\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"3\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.242834918Z\",\r\n      \"eventType\": \"WorkflowTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050195\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"2\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"c1c9a830-49d7-4873-89ab-2a8e2fef476c\",\r\n        \"suggestContinueAsNew\": false,\r\n        \"historySizeBytes\": \"1133\"\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"4\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.249271918Z\",\r\n      \"eventType\": \"WorkflowTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050199\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskCompletedEventAttributes\": {\r\n        \"scheduledEventId\": \"2\",\r\n        \"startedEventId\": \"3\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"binaryChecksum\": \"\",\r\n        \"workerVersion\": {\r\n          \"buildId\": \"838eaaedbcd3027b19b7a7d83cbf52e4\",\r\n          \"bundleId\": \"\",\r\n          \"useVersioning\": false\r\n        },\r\n        \"sdkMetadata\": {\r\n          \"coreUsedFlags\": [],\r\n          \"langUsedFlags\": [\r\n            3,\r\n            1\r\n          ]\r\n        },\r\n        \"meteringMetadata\": {\r\n          \"nonfirstLocalActivityExecutionAttempts\": 0\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"5\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.249296584Z\",\r\n      \"eventType\": \"MarkerRecorded\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050200\",\r\n      \"workerMayIgnore\": false,\r\n      \"markerRecordedEventAttributes\": {\r\n        \"markerName\": \"Version\",\r\n        \"details\": {\r\n          \"change-id\": {\r\n            \"payloads\": [\r\n              {\r\n                \"metadata\": {\r\n                  \"encoding\": \"anNvbi9wbGFpbg==\"\r\n                },\r\n                \"data\": \"Imdsb2JhbCI=\"\r\n              }\r\n            ]\r\n          },\r\n          \"version\": {\r\n            \"payloads\": [\r\n              {\r\n                \"metadata\": {\r\n                  \"encoding\": \"anNvbi9wbGFpbg==\"\r\n                },\r\n                \"data\": \"Mw==\"\r\n              }\r\n            ]\r\n          }\r\n        },\r\n        \"workflowTaskCompletedEventId\": \"4\",\r\n        \"header\": null,\r\n        \"failure\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"6\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.250001126Z\",\r\n      \"eventType\": \"UpsertWorkflowSearchAttributes\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050201\",\r\n      \"workerMayIgnore\": false,\r\n      \"upsertWorkflowSearchAttributesEventAttributes\": {\r\n        \"workflowTaskCompletedEventId\": \"4\",\r\n        \"searchAttributes\": {\r\n          \"indexedFields\": {\r\n            \"TemporalChangeVersion\": {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\",\r\n                \"type\": \"S2V5d29yZExpc3Q=\"\r\n              },\r\n              \"data\": \"WyJnbG9iYWwtMyJd\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"7\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.250392251Z\",\r\n      \"eventType\": \"UpsertWorkflowSearchAttributes\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050202\",\r\n      \"workerMayIgnore\": false,\r\n      \"upsertWorkflowSearchAttributesEventAttributes\": {\r\n        \"workflowTaskCompletedEventId\": \"4\",\r\n        \"searchAttributes\": {\r\n          \"indexedFields\": {\r\n            \"IwfGlobalWorkflowVersion\": {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\",\r\n                \"type\": \"SW50\"\r\n              },\r\n              \"data\": \"Mw==\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"8\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.250423626Z\",\r\n      \"eventType\": \"ActivityTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050203\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskScheduledEventAttributes\": {\r\n        \"activityId\": \"8\",\r\n        \"activityType\": {\r\n          \"name\": \"DumpWorkflowInternal\"\r\n        },\r\n        \"taskQueue\": {\r\n          \"name\": \"Interpreter_DEFAULT\",\r\n          \"kind\": \"Normal\",\r\n          \"normalName\": \"\"\r\n        },\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"InRlbXBvcmFsIg==\"\r\n            },\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJwYWdlTnVtIjowLCJwYWdlU2l6ZUluQnl0ZXMiOjMwMCwid29ya2Zsb3dJZCI6InNpZ25hbDE2OTI5MDk1ODgxMjYzMDQwMDAiLCJ3b3JrZmxvd1J1bklkIjoiM2U4ZTc4ODMtOWQ2YS00YjhiLTlhNjktNzliYmQ1ODE2MDE3In0=\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduleToCloseTimeout\": \"10s\",\r\n        \"scheduleToStartTimeout\": \"10s\",\r\n        \"startToCloseTimeout\": \"5s\",\r\n        \"heartbeatTimeout\": \"0s\",\r\n        \"workflowTaskCompletedEventId\": \"4\",\r\n        \"retryPolicy\": {\r\n          \"initialInterval\": \"1s\",\r\n          \"backoffCoefficient\": 2,\r\n          \"maximumInterval\": \"5s\",\r\n          \"maximumAttempts\": 0,\r\n          \"nonRetryableErrorTypes\": []\r\n        },\r\n        \"useCompatibleVersion\": true\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"9\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.255044084Z\",\r\n      \"eventType\": \"ActivityTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050211\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"8\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"5ae11295-7ac1-44b6-90b2-1bf48eb2e6a5\",\r\n        \"attempt\": 1,\r\n        \"lastFailure\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"10\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.264934459Z\",\r\n      \"eventType\": \"ActivityTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050212\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskCompletedEventAttributes\": {\r\n        \"result\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJjaGVja3N1bSI6Iu+/ve+/vSlcdTAwMDZ+JHhLX++/ve+/ve+/vUHvv71cdTAwMTfvv70iLCJqc29uRGF0YSI6IntcIlN0YXRlc1RvU3RhcnRGcm9tQmVnaW5uaW5nXCI6bnVsbCxcIlN0YXRlRXhlY3V0aW9uc1RvUmVzdW1lXCI6e1wiUzEtMVwiOntcInN0YXRlRXhlY3V0aW9uSWRcIjpcIlMxLTFcIixcInN0YXRlXCI6e1wic3RhdGVJZFwiOlwiUzFcIixcInN0YXRlSW5wdXRcIjp7fSxcInN0YXRlT3B0aW9uc1wiOnt9fSxcInN0YXRlRXhlY3V0aW9uQ29tcGxldGVkQ29tbWFuZHNcIjp7XCJjb21wbGV0ZWRUaW1lckNvbW1hbmRzXCI6e30sXCJjb21wbGV0ZWRTaWduYWxDb21tYW5kc1wiOnt9LFwiY29tcGxldGVkSW50ZXJTdGF0ZUNoYW5uZWxDb21tYW5kc1wiOnt9fSxcImNvbW1hbmRSZXF1IiwidG90YWxQYWdlcyI6NH0=\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduledEventId\": \"8\",\r\n        \"startedEventId\": \"9\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"workerVersion\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"11\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.264939168Z\",\r\n      \"eventType\": \"WorkflowTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050213\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskScheduledEventAttributes\": {\r\n        \"taskQueue\": {\r\n          \"name\": \"IT-USA-VX8131:88962e4c-b807-49ba-b49b-6fe8399cbbbe\",\r\n          \"kind\": \"Sticky\",\r\n          \"normalName\": \"Interpreter_DEFAULT\"\r\n        },\r\n        \"startToCloseTimeout\": \"10s\",\r\n        \"attempt\": 1\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"12\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.269063376Z\",\r\n      \"eventType\": \"WorkflowTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050217\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"11\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"56447498-23c6-488f-9aea-97616ff67950\",\r\n        \"suggestContinueAsNew\": false,\r\n        \"historySizeBytes\": \"2645\"\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"13\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.273309251Z\",\r\n      \"eventType\": \"WorkflowTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050221\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskCompletedEventAttributes\": {\r\n        \"scheduledEventId\": \"11\",\r\n        \"startedEventId\": \"12\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"binaryChecksum\": \"\",\r\n        \"workerVersion\": {\r\n          \"buildId\": \"838eaaedbcd3027b19b7a7d83cbf52e4\",\r\n          \"bundleId\": \"\",\r\n          \"useVersioning\": false\r\n        },\r\n        \"sdkMetadata\": {\r\n          \"coreUsedFlags\": [],\r\n          \"langUsedFlags\": []\r\n        },\r\n        \"meteringMetadata\": {\r\n          \"nonfirstLocalActivityExecutionAttempts\": 0\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"14\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.273338126Z\",\r\n      \"eventType\": \"ActivityTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050222\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskScheduledEventAttributes\": {\r\n        \"activityId\": \"14\",\r\n        \"activityType\": {\r\n          \"name\": \"DumpWorkflowInternal\"\r\n        },\r\n        \"taskQueue\": {\r\n          \"name\": \"Interpreter_DEFAULT\",\r\n          \"kind\": \"Normal\",\r\n          \"normalName\": \"\"\r\n        },\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"InRlbXBvcmFsIg==\"\r\n            },\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJwYWdlTnVtIjoxLCJwYWdlU2l6ZUluQnl0ZXMiOjMwMCwid29ya2Zsb3dJZCI6InNpZ25hbDE2OTI5MDk1ODgxMjYzMDQwMDAiLCJ3b3JrZmxvd1J1bklkIjoiM2U4ZTc4ODMtOWQ2YS00YjhiLTlhNjktNzliYmQ1ODE2MDE3In0=\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduleToCloseTimeout\": \"10s\",\r\n        \"scheduleToStartTimeout\": \"10s\",\r\n        \"startToCloseTimeout\": \"5s\",\r\n        \"heartbeatTimeout\": \"0s\",\r\n        \"workflowTaskCompletedEventId\": \"13\",\r\n        \"retryPolicy\": {\r\n          \"initialInterval\": \"1s\",\r\n          \"backoffCoefficient\": 2,\r\n          \"maximumInterval\": \"5s\",\r\n          \"maximumAttempts\": 0,\r\n          \"nonRetryableErrorTypes\": []\r\n        },\r\n        \"useCompatibleVersion\": true\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"15\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.277474584Z\",\r\n      \"eventType\": \"ActivityTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050227\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"14\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"a54bd212-d411-408a-ba39-9e37283d30e6\",\r\n        \"attempt\": 1,\r\n        \"lastFailure\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"16\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.288305418Z\",\r\n      \"eventType\": \"ActivityTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050228\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskCompletedEventAttributes\": {\r\n        \"result\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJjaGVja3N1bSI6Iu+/ve+/vSlcdTAwMDZ+JHhLX++/ve+/ve+/vUHvv71cdTAwMTfvv70iLCJqc29uRGF0YSI6ImVzdFwiOntcImRlY2lkZXJUcmlnZ2VyVHlwZVwiOlwiQUxMX0NPTU1BTkRfQ09NUExFVEVEXCIsXCJzaWduYWxDb21tYW5kc1wiOlt7XCJjb21tYW5kSWRcIjpcInNpZ25hbC1jbWQtaWQwXCIsXCJzaWduYWxDaGFubmVsTmFtZVwiOlwidGVzdC1zaWduYWwtbmFtZVwifSx7XCJjb21tYW5kSWRcIjpcInNpZ25hbC1jbWQtaWQxXCIsXCJzaWduYWxDaGFubmVsTmFtZVwiOlwidGVzdC1zaWduYWwtbmFtZVwifSx7XCJjb21tYW5kSWRcIjpcIlwiLFwic2lnbmFsQ2hhbm5lbE5hbWVcIjpcInRlc3Qtc2lnbmFsLW5hbWVcIn0se1wiY29tbWFuZElkXCI6XCJcIixcInNpZ25hbENoYW5uZWxOYW1lXCIiLCJ0b3RhbFBhZ2VzIjo0fQ==\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduledEventId\": \"14\",\r\n        \"startedEventId\": \"15\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"workerVersion\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"17\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.288310876Z\",\r\n      \"eventType\": \"WorkflowTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050229\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskScheduledEventAttributes\": {\r\n        \"taskQueue\": {\r\n          \"name\": \"IT-USA-VX8131:88962e4c-b807-49ba-b49b-6fe8399cbbbe\",\r\n          \"kind\": \"Sticky\",\r\n          \"normalName\": \"Interpreter_DEFAULT\"\r\n        },\r\n        \"startToCloseTimeout\": \"10s\",\r\n        \"attempt\": 1\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"18\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.292549709Z\",\r\n      \"eventType\": \"WorkflowTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050233\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"17\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"e456f0cb-df1a-45b8-bf43-41e3be56a2fd\",\r\n        \"suggestContinueAsNew\": false,\r\n        \"historySizeBytes\": \"3855\"\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"19\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.297200584Z\",\r\n      \"eventType\": \"WorkflowTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050237\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskCompletedEventAttributes\": {\r\n        \"scheduledEventId\": \"17\",\r\n        \"startedEventId\": \"18\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"binaryChecksum\": \"\",\r\n        \"workerVersion\": {\r\n          \"buildId\": \"838eaaedbcd3027b19b7a7d83cbf52e4\",\r\n          \"bundleId\": \"\",\r\n          \"useVersioning\": false\r\n        },\r\n        \"sdkMetadata\": {\r\n          \"coreUsedFlags\": [],\r\n          \"langUsedFlags\": []\r\n        },\r\n        \"meteringMetadata\": {\r\n          \"nonfirstLocalActivityExecutionAttempts\": 0\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"20\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.297240084Z\",\r\n      \"eventType\": \"ActivityTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050238\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskScheduledEventAttributes\": {\r\n        \"activityId\": \"20\",\r\n        \"activityType\": {\r\n          \"name\": \"DumpWorkflowInternal\"\r\n        },\r\n        \"taskQueue\": {\r\n          \"name\": \"Interpreter_DEFAULT\",\r\n          \"kind\": \"Normal\",\r\n          \"normalName\": \"\"\r\n        },\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"InRlbXBvcmFsIg==\"\r\n            },\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJwYWdlTnVtIjoyLCJwYWdlU2l6ZUluQnl0ZXMiOjMwMCwid29ya2Zsb3dJZCI6InNpZ25hbDE2OTI5MDk1ODgxMjYzMDQwMDAiLCJ3b3JrZmxvd1J1bklkIjoiM2U4ZTc4ODMtOWQ2YS00YjhiLTlhNjktNzliYmQ1ODE2MDE3In0=\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduleToCloseTimeout\": \"10s\",\r\n        \"scheduleToStartTimeout\": \"10s\",\r\n        \"startToCloseTimeout\": \"5s\",\r\n        \"heartbeatTimeout\": \"0s\",\r\n        \"workflowTaskCompletedEventId\": \"19\",\r\n        \"retryPolicy\": {\r\n          \"initialInterval\": \"1s\",\r\n          \"backoffCoefficient\": 2,\r\n          \"maximumInterval\": \"5s\",\r\n          \"maximumAttempts\": 0,\r\n          \"nonRetryableErrorTypes\": []\r\n        },\r\n        \"useCompatibleVersion\": true\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"21\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.300979293Z\",\r\n      \"eventType\": \"ActivityTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050243\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"20\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"8dd50412-28d8-4934-b191-f07dac7ffd45\",\r\n        \"attempt\": 1,\r\n        \"lastFailure\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"22\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.318581834Z\",\r\n      \"eventType\": \"ActivityTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050244\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskCompletedEventAttributes\": {\r\n        \"result\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJjaGVja3N1bSI6Iu+/ve+/vSlcdTAwMDZ+JHhLX++/ve+/ve+/vUHvv71cdTAwMTfvv70iLCJqc29uRGF0YSI6IjpcInRlc3Qtc2lnbmFsLW5hbWVcIn1dfSxcInN0YXRlRXhlY3V0aW9uTG9jYWxzXCI6bnVsbH19LFwiSW50ZXJTdGF0ZUNoYW5uZWxSZWNlaXZlZFwiOnt9LFwiU2lnbmFsc1JlY2VpdmVkXCI6e30sXCJTdGF0ZUV4ZWN1dGlvbkNvdW50ZXJJbmZvXCI6e1wiU3RhdGVJZFN0YXJ0ZWRDb3VudFwiOntcIlMxXCI6MX0sXCJTdGF0ZUlkQ3VycmVudGx5RXhlY3V0aW5nQ291bnRcIjp7XCJTMVwiOjF9LFwiVG90YWxDdXJyZW50bHlFeGVjdXRpbmdDb3VudFwiOjF9LFwiU3RhdGVPdXRwdXRzXCI6W10sXCJTdGFsZVNraXBUaW1lclNpZ25hbHNcIjpudWxsLFwiRGF0YU9iamVjdHMiLCJ0b3RhbFBhZ2VzIjo0fQ==\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduledEventId\": \"20\",\r\n        \"startedEventId\": \"21\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"workerVersion\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"23\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.318588876Z\",\r\n      \"eventType\": \"WorkflowTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050245\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskScheduledEventAttributes\": {\r\n        \"taskQueue\": {\r\n          \"name\": \"IT-USA-VX8131:88962e4c-b807-49ba-b49b-6fe8399cbbbe\",\r\n          \"kind\": \"Sticky\",\r\n          \"normalName\": \"Interpreter_DEFAULT\"\r\n        },\r\n        \"startToCloseTimeout\": \"10s\",\r\n        \"attempt\": 1\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"24\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.322701334Z\",\r\n      \"eventType\": \"WorkflowTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050249\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"23\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"7fd9a190-fb5f-4816-9333-270be8c5eca6\",\r\n        \"suggestContinueAsNew\": false,\r\n        \"historySizeBytes\": \"5053\"\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"25\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.327696626Z\",\r\n      \"eventType\": \"WorkflowTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050253\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskCompletedEventAttributes\": {\r\n        \"scheduledEventId\": \"23\",\r\n        \"startedEventId\": \"24\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"binaryChecksum\": \"\",\r\n        \"workerVersion\": {\r\n          \"buildId\": \"838eaaedbcd3027b19b7a7d83cbf52e4\",\r\n          \"bundleId\": \"\",\r\n          \"useVersioning\": false\r\n        },\r\n        \"sdkMetadata\": {\r\n          \"coreUsedFlags\": [],\r\n          \"langUsedFlags\": []\r\n        },\r\n        \"meteringMetadata\": {\r\n          \"nonfirstLocalActivityExecutionAttempts\": 0\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"26\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.327725626Z\",\r\n      \"eventType\": \"ActivityTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050254\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskScheduledEventAttributes\": {\r\n        \"activityId\": \"26\",\r\n        \"activityType\": {\r\n          \"name\": \"DumpWorkflowInternal\"\r\n        },\r\n        \"taskQueue\": {\r\n          \"name\": \"Interpreter_DEFAULT\",\r\n          \"kind\": \"Normal\",\r\n          \"normalName\": \"\"\r\n        },\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"InRlbXBvcmFsIg==\"\r\n            },\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJwYWdlTnVtIjozLCJwYWdlU2l6ZUluQnl0ZXMiOjMwMCwid29ya2Zsb3dJZCI6InNpZ25hbDE2OTI5MDk1ODgxMjYzMDQwMDAiLCJ3b3JrZmxvd1J1bklkIjoiM2U4ZTc4ODMtOWQ2YS00YjhiLTlhNjktNzliYmQ1ODE2MDE3In0=\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduleToCloseTimeout\": \"10s\",\r\n        \"scheduleToStartTimeout\": \"10s\",\r\n        \"startToCloseTimeout\": \"5s\",\r\n        \"heartbeatTimeout\": \"0s\",\r\n        \"workflowTaskCompletedEventId\": \"25\",\r\n        \"retryPolicy\": {\r\n          \"initialInterval\": \"1s\",\r\n          \"backoffCoefficient\": 2,\r\n          \"maximumInterval\": \"5s\",\r\n          \"maximumAttempts\": 0,\r\n          \"nonRetryableErrorTypes\": []\r\n        },\r\n        \"useCompatibleVersion\": true\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"27\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.331085918Z\",\r\n      \"eventType\": \"ActivityTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050259\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"26\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"8ddf25e0-1de4-420c-bd0d-4334d89c5965\",\r\n        \"attempt\": 1,\r\n        \"lastFailure\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"28\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.339828793Z\",\r\n      \"eventType\": \"ActivityTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050260\",\r\n      \"workerMayIgnore\": false,\r\n      \"activityTaskCompletedEventAttributes\": {\r\n        \"result\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJjaGVja3N1bSI6Iu+/ve+/vSlcdTAwMDZ+JHhLX++/ve+/ve+/vUHvv71cdTAwMTfvv70iLCJqc29uRGF0YSI6IlwiOm51bGwsXCJTZWFyY2hBdHRyaWJ1dGVzXCI6bnVsbH0iLCJ0b3RhbFBhZ2VzIjo0fQ==\"\r\n            }\r\n          ]\r\n        },\r\n        \"scheduledEventId\": \"26\",\r\n        \"startedEventId\": \"27\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"workerVersion\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"29\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.339833709Z\",\r\n      \"eventType\": \"WorkflowTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050261\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskScheduledEventAttributes\": {\r\n        \"taskQueue\": {\r\n          \"name\": \"IT-USA-VX8131:88962e4c-b807-49ba-b49b-6fe8399cbbbe\",\r\n          \"kind\": \"Sticky\",\r\n          \"normalName\": \"Interpreter_DEFAULT\"\r\n        },\r\n        \"startToCloseTimeout\": \"10s\",\r\n        \"attempt\": 1\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"30\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.343965584Z\",\r\n      \"eventType\": \"WorkflowTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050265\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"29\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"05e8eead-ed90-4723-b0c6-551331951fc1\",\r\n        \"suggestContinueAsNew\": false,\r\n        \"historySizeBytes\": \"5959\"\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"31\",\r\n      \"eventTime\": \"2023-08-24T20:39:50.348591418Z\",\r\n      \"eventType\": \"WorkflowTaskCompleted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050269\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskCompletedEventAttributes\": {\r\n        \"scheduledEventId\": \"29\",\r\n        \"startedEventId\": \"30\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"binaryChecksum\": \"\",\r\n        \"workerVersion\": {\r\n          \"buildId\": \"838eaaedbcd3027b19b7a7d83cbf52e4\",\r\n          \"bundleId\": \"\",\r\n          \"useVersioning\": false\r\n        },\r\n        \"sdkMetadata\": {\r\n          \"coreUsedFlags\": [],\r\n          \"langUsedFlags\": []\r\n        },\r\n        \"meteringMetadata\": {\r\n          \"nonfirstLocalActivityExecutionAttempts\": 0\r\n        }\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"32\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.244764501Z\",\r\n      \"eventType\": \"WorkflowExecutionSignaled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050271\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowExecutionSignaledEventAttributes\": {\r\n        \"signalName\": \"test-unhandled-signal-name\",\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJkYXRhIjoidGVzdC1kYXRhLTAiLCJlbmNvZGluZyI6Impzb24ifQ==\"\r\n            }\r\n          ]\r\n        },\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"skipGenerateWorkflowTask\": false\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"33\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.244772501Z\",\r\n      \"eventType\": \"WorkflowTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050272\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskScheduledEventAttributes\": {\r\n        \"taskQueue\": {\r\n          \"name\": \"IT-USA-VX8131:88962e4c-b807-49ba-b49b-6fe8399cbbbe\",\r\n          \"kind\": \"Sticky\",\r\n          \"normalName\": \"Interpreter_DEFAULT\"\r\n        },\r\n        \"startToCloseTimeout\": \"10s\",\r\n        \"attempt\": 1\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"34\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.257930793Z\",\r\n      \"eventType\": \"WorkflowTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050276\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"33\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"025baacf-b365-4146-b486-c386f531cdb5\",\r\n        \"suggestContinueAsNew\": false,\r\n        \"historySizeBytes\": \"6396\"\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"35\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.277290376Z\",\r\n      \"eventType\": \"WorkflowTaskFailed\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050280\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskFailedEventAttributes\": {\r\n        \"scheduledEventId\": \"33\",\r\n        \"startedEventId\": \"34\",\r\n        \"cause\": \"UnhandledCommand\",\r\n        \"failure\": {\r\n          \"message\": \"UnhandledCommand\",\r\n          \"source\": \"\",\r\n          \"stackTrace\": \"\",\r\n          \"encodedAttributes\": null,\r\n          \"cause\": null,\r\n          \"serverFailureInfo\": {\r\n            \"nonRetryable\": true\r\n          }\r\n        },\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"baseRunId\": \"\",\r\n        \"newRunId\": \"\",\r\n        \"forkEventVersion\": \"0\",\r\n        \"binaryChecksum\": \"\",\r\n        \"workerVersion\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"36\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.263819835Z\",\r\n      \"eventType\": \"WorkflowExecutionSignaled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050281\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowExecutionSignaledEventAttributes\": {\r\n        \"signalName\": \"test-unhandled-signal-name\",\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJkYXRhIjoidGVzdC1kYXRhLTEiLCJlbmNvZGluZyI6Impzb24ifQ==\"\r\n            }\r\n          ]\r\n        },\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"skipGenerateWorkflowTask\": false\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"37\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.277304543Z\",\r\n      \"eventType\": \"WorkflowTaskScheduled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050282\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskScheduledEventAttributes\": {\r\n        \"taskQueue\": {\r\n          \"name\": \"Interpreter_DEFAULT\",\r\n          \"kind\": \"Normal\",\r\n          \"normalName\": \"\"\r\n        },\r\n        \"startToCloseTimeout\": \"10s\",\r\n        \"attempt\": 1\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"38\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.281277335Z\",\r\n      \"eventType\": \"WorkflowExecutionSignaled\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050285\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowExecutionSignaledEventAttributes\": {\r\n        \"signalName\": \"test-unhandled-signal-name\",\r\n        \"input\": {\r\n          \"payloads\": [\r\n            {\r\n              \"metadata\": {\r\n                \"encoding\": \"anNvbi9wbGFpbg==\"\r\n              },\r\n              \"data\": \"eyJkYXRhIjoidGVzdC1kYXRhLTIiLCJlbmNvZGluZyI6Impzb24ifQ==\"\r\n            }\r\n          ]\r\n        },\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"header\": {\r\n          \"fields\": {}\r\n        },\r\n        \"skipGenerateWorkflowTask\": false\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"39\",\r\n      \"eventTime\": \"2023-08-24T20:39:51.286651335Z\",\r\n      \"eventType\": \"WorkflowTaskStarted\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050287\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskStartedEventAttributes\": {\r\n        \"scheduledEventId\": \"37\",\r\n        \"identity\": \"9761@IT-USA-VX8131@\",\r\n        \"requestId\": \"afcdf28c-861e-4abb-80f0-8e1e1fd9ff26\",\r\n        \"suggestContinueAsNew\": false,\r\n        \"historySizeBytes\": \"6916\"\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"40\",\r\n      \"eventTime\": \"2023-08-24T20:39:58.133359505Z\",\r\n      \"eventType\": \"WorkflowTaskFailed\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050291\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowTaskFailedEventAttributes\": {\r\n        \"scheduledEventId\": \"37\",\r\n        \"startedEventId\": \"39\",\r\n        \"cause\": \"ForceCloseCommand\",\r\n        \"failure\": null,\r\n        \"identity\": \"history-service\",\r\n        \"baseRunId\": \"\",\r\n        \"newRunId\": \"\",\r\n        \"forkEventVersion\": \"0\",\r\n        \"binaryChecksum\": \"\",\r\n        \"workerVersion\": null\r\n      }\r\n    },\r\n    {\r\n      \"eventId\": \"41\",\r\n      \"eventTime\": \"2023-08-24T20:39:58.133371505Z\",\r\n      \"eventType\": \"WorkflowExecutionTimedOut\",\r\n      \"version\": \"0\",\r\n      \"taskId\": \"1050292\",\r\n      \"workerMayIgnore\": false,\r\n      \"workflowExecutionTimedOutEventAttributes\": {\r\n        \"retryState\": \"Timeout\",\r\n        \"newExecutionRunId\": \"\"\r\n      }\r\n    }\r\n  ]\r\n}\r\n```","createdAt":"2023-08-24T21:01:57Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/4801#issuecomment-1692403317","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5k4RZx","author":{"login":"longquanzheng"},"authorAssociation":"CONTRIBUTOR","body":"This is a wrong ticket.\r\n\r\nI think I figured it out…\r\nThere is a change in the server that signal API will be rejected when last workflow task has failure…\r\nMy test was to try to send unhandled signals which got error and the test failed.\r\nThe workflow task failed is an existing behavior, when trying to continueAsNew but there is a signal in buffered events.\r\nhttps://github.com/temporalio/temporal/commit/759aa2cfe6c1b0c291dc932f4879ca16d9e8284e\r\nfunny enough, the change is from the [feature request](https://github.com/temporalio/temporal/issues/4137) that I made","createdAt":"2023-08-24T22:01:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/4801#issuecomment-1692472945","viewerDidAuthor":false}],"createdAt":"2023-08-24T20:45:25Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":4801,"reactionGroups":[],"state":"CLOSED","title":"Server shouldn't require every WFT to process all the signals","updatedAt":"2023-08-24T22:01:56Z","url":"https://github.com/temporalio/temporal/issues/4801"}
