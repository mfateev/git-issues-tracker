{"assignees":[{"id":"MDQ6VXNlcjk1NjM=","login":"robholland","name":"Rob Holland","databaseId":0},{"id":"MDQ6VXNlcjExODM4OTgx","login":"feedmeapples","name":"Ruslan","databaseId":0}],"author":{"id":"MDQ6VXNlcjkwMDI2NjI=","is_bot":false,"login":"rgooch","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nIt would be very convenient to be able to use `tctl` to pass in header parameters when starting and stopping workflows. This would allow for easy experimentation of using headers to carry metadata about the caller, such as authentication information.\r\n\r\n**Describe the solution you'd like**\r\nA clear and concise description of what you want to happen.\r\nI would like to be able to pass in an optional flag specifying a file containing header parameters, either in JSON format or plain HTML format, for example:\r\n```\r\nAuthenticated-User: adam\r\nUser-Groups: admins, engineering\r\n```\r\nThese header parameters should then be made available to the workers, and in turn exposed to the workflows.\r\n\r\n**Describe alternatives you've considered**\r\nI've considered wrapping the parameter blob in a structure that has `headers` and `payload` fields, and then unwrapping that in each workflow, but this seems ugly.\r\n\r\n**Additional context**\r\nIt would be extra nice if header parameters were automatically provided to workflows rather than needing to register a hook.","closedAt":"2021-07-06T16:01:05Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg2NzAxODkxMQ==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"I believe we can use tctl plugins to support pluggable ContextPropagators.","createdAt":"2021-06-23T17:18:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1672#issuecomment-867018911","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDg2NzA3NjA1NA==","author":{"login":"rgooch"},"authorAssociation":"NONE","body":"I just discovered `--headers_provider_plugin` in the code (it wasn't in the version I installed with `Brew`, which was v`1.9.2`). It seems this might provide the means to pass in the headers?\r\nHowever, it seems you're suggesting it's better to use a ContextPropagator in the client than passing headers explicitly?","createdAt":"2021-06-23T18:46:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1672#issuecomment-867076054","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3NDg4NjAxOQ==","author":{"login":"rgooch"},"authorAssociation":"NONE","body":"I've switched to using a `ContextPropagator` to carry metadata to workflows. They seem sufficient to my needs.","createdAt":"2021-07-06T16:01:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/1672#issuecomment-874886019","viewerDidAuthor":false}],"createdAt":"2021-06-23T17:14:38Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyMDE5OTIzNjU1","name":"devexp","description":"","color":"9350b7"}],"milestone":null,"number":1672,"reactionGroups":[],"state":"CLOSED","title":"Enhance tctl to allow passing in header parameters","updatedAt":"2021-07-06T16:01:05Z","url":"https://github.com/temporalio/temporal/issues/1672"}
