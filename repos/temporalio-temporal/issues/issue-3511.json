{"assignees":[],"author":{"id":"MDQ6VXNlcjM2NzEzMg==","is_bot":false,"login":"ghaskins","name":"Gregory Haskins"},"body":"We currently leverage both [Yugabyte YCQL](https://docs.yugabyte.com/preview/api/ycql/) and Temporal and would love to see native support for Temporal to use the YCQL variant of its Cassandra driver, so we do not need to maintain both a YB and Cassandra cluster.\r\n\r\n","closedAt":"2025-06-08T23:50:27Z","comments":[{"id":"IC_kwDODNqesM5Mih15","author":{"login":"ghaskins"},"authorAssociation":"NONE","body":"I should add: I was able to bring Temporal up on YB's YSQL using Temporal's postgres driver, but the performance observed when running [Maru](https://mikhail.io/2021/03/maru-load-testing-tool-for-temporal-workflows/) was too low to be considered.  This may be something else to sort out.","createdAt":"2022-10-19T14:36:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-1284119929","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5MvjzI","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Can you connect Temporal to YB using Cassandra driver? YB protocol is Cassandra compatible, it should work. Maybe after some fixes as we did to support Scylla DB.","createdAt":"2022-10-21T23:36:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-1287535816","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5MvveT","author":{"login":"ghaskins"},"authorAssociation":"NONE","body":"I did try this, but there are a few things in the Temporal Cassandra driver that are not compatible with YB.\r\n\r\nOne of them was that you need to enable transactions to create secondary indices with `with transactions = { 'enabled' : true }`.  Another was something to do with the use of TTL expirations, IIRC. \r\n\r\nMy guess is it's a very minor modification to go from the Temporal Cassandra driver to a YB-compatible one, but I didn't look too deep.","createdAt":"2022-10-22T02:16:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-1287583635","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5M4cxm","author":{"login":"alexshtin"},"authorAssociation":"CONTRIBUTOR","body":"Secondary indexes are mostly for visibility database. And I believed we removed TTL usage everywhere from the code.\r\n\r\nSo yes, it should be relatively easy, especially for someone with YB background. Contributions are welcome!\r\n","createdAt":"2022-10-25T01:44:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-1289866342","viewerDidAuthor":false},{"id":"IC_kwDODNqesM5Zcy_o","author":{"login":"ghaskins"},"authorAssociation":"NONE","body":"Manetu may be interested in sponsoring/tackling this.  Is there any guidance as far as how best to develop/propose a PR of this nature that has a shot of being merged upstream?","createdAt":"2023-04-07T23:29:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-1500721128","viewerDidAuthor":false},{"id":"IC_kwDODNqesM53oQ0A","author":{"login":"FranckPachot"},"authorAssociation":"NONE","body":"@ghaskins, I see you had bad performance when testing with YugabyteDB YSQL. \r\nYugabyteDB's default configuration may not be appropriate. For example, all indexes are hash-sharded, which is not helpful for range queries. Here is a docker compose with parameters that should behave like PostgreSQL\r\nhttps://github.com/FranckPachot/temporalio-docker-compose/blob/main/docker-compose-yugabytedb.yml\r\n\r\nDo you have a way to test performance?","createdAt":"2024-03-19T12:24:59Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-2007043328","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6hbwF2","author":{"login":"ghaskins"},"authorAssociation":"NONE","body":"Related: https://github.com/yugabyte/yugabyte-db/issues/26322","createdAt":"2025-03-08T17:28:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-2708406646","viewerDidAuthor":false},{"id":"IC_kwDODNqesM6v1G7Y","author":{"login":"ghaskins"},"authorAssociation":"NONE","body":"Related: https://github.com/manetu/temporal-yugabyte","createdAt":"2025-06-06T17:20:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/3511#issuecomment-2949934808","viewerDidAuthor":false}],"createdAt":"2022-10-19T14:32:29Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":3511,"reactionGroups":[],"state":"CLOSED","title":"Add support for Yugabyte YCQL backend","updatedAt":"2025-06-08T23:50:27Z","url":"https://github.com/temporalio/temporal/issues/3511"}
