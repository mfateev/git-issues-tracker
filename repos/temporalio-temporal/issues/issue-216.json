{"assignees":[],"author":{"id":"MDQ6VXNlcjIyMzI1MjQ=","is_bot":false,"login":"alexshtin","name":"Alex Shtin"},"body":"Native `json.Marshal/Unmarshal` should be used only for pure go objects and only when it is necessary. Everywhere else it must be replaced with:\r\n1. proto objects and proto serialization similar to #198, if JSON is not required,\r\n2. `JSONPBEncoder` if JSON is required and object is a proto object or has proto object field (similar to #193).\r\n\r\nMost cases already fixed with PRs above but there are few left (run global search for `json.Marshal` and `json.Unmarshal` to find all cases):\r\n1. `archiver/*`: tokens, `archiver.ArchiveVisibilityRequest`, `archiver.historyIteratorState`\r\n2. `elasticsearch`: `esVisibilityPageToken`, search attributes\r\n3. `persistence`: `historyV2PagingToken`, `visibilityPageToken`, `timerTaskPageToken`, `getSearchAttributes`\r\n4. `mysql`: `clusterAckLevels`\r\n5. `history`: `toMutableStateJSON`. `recentBinaryChecksums`\r\n\r\n\r\n\r\n","closedAt":"2020-07-27T22:39:39Z","comments":[],"createdAt":"2020-03-13T18:41:42Z","labels":[],"milestone":null,"number":216,"reactionGroups":[],"state":"CLOSED","title":"Review JSON serialization","updatedAt":"2020-07-27T22:39:39Z","url":"https://github.com/temporalio/temporal/issues/216"}
