{"assignees":[],"author":{"id":"MDQ6VXNlcjc3NTQxMjA=","is_bot":false,"login":"yycptt","name":"Yichao Yang"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nOur history queue logic supports creating new history queue by simply define a new category and task execution logics. However, there's no good story for deleting or stop using an existing queue due to the fact that there might always be some backlogs in the database.\r\n\r\nToday, simply skipping task category registration on service start up will result in an undefined behavior:\r\n- In 1.21, the server will panic if shard info sees a task categoryID but can't find the corresponding task category definition. (This is actually preferred now since it won't result in task loss and will be more explicit signal on mis-configuration)\r\n- In master branch, server won't panic but queue won't start and the data will be left in shard info metadata.\r\n\r\nWe should have a proper design for history queue deprecation. This could be useful for disabling archival queue and in the future if more history queues needs to be dynamically created and deleted.\r\n\r\n**Describe the solution you'd like**\r\n\r\n\r\n**Describe alternatives you've considered**\r\nA clear and concise description of any alternative solutions or features you've considered.\r\n\r\n**Additional context**\r\nAdd any other context or screenshots about the feature request here.\r\n","closedAt":null,"comments":[],"createdAt":"2023-07-17T22:22:56Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":4638,"reactionGroups":[],"state":"OPEN","title":"History Queue Deletion & Life Cycle","updatedAt":"2023-07-17T22:22:56Z","url":"https://github.com/temporalio/temporal/issues/4638"}
