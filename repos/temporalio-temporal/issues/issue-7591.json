{"assignees":[],"author":{"id":"MDQ6VXNlcjExOTQyMg==","is_bot":false,"login":"tsurdilo","name":"Tihomir Surdilovic"},"body":"Community thread https://temporalio.slack.com/archives/CTRCR8RBP/p1744049342207489\n\nTS SDK, user starting a number of child workflows async, in scenario where workflow wants to continueasnew\nand server fails it with UnhandledCommand, server also seems to record a second ChildWorkflowExecutionStarted (seems buffered / resurrected) event to event history after workflow task failure. \n\n\nSample event history:  \n\n```\n {\n      \"eventId\": \"4746\",\n      \"eventTime\": \"2025-04-08T13:27:43.099430181Z\",\n      \"eventType\": \"EVENT_TYPE_START_CHILD_WORKFLOW_EXECUTION_INITIATED\",\n      ...\n    }\n    {\n      \"eventId\": \"4751\",\n      \"eventTime\": \"2025-04-08T13:27:43.115638093Z\",\n      \"eventType\": \"EVENT_TYPE_CHILD_WORKFLOW_EXECUTION_STARTED\",\n      \"taskId\": \"24810703\",\n      \"childWorkflowExecutionStartedEventAttributes\": {\n        \"initiatedEventId\": \"4746\",\n        \"workflowExecution\": {\n          \"workflowId\": \"example-9205\",\n          \"runId\": \"01961595-d504-72b6-ac7d-b5ca3fdb6489\"\n        },\n        ...\n    }\n    {\n      \"eventId\": \"4855\",\n      \"eventTime\": \"2025-04-08T13:27:43.115638093Z\",\n      \"eventType\": \"EVENT_TYPE_CHILD_WORKFLOW_EXECUTION_STARTED\",\n      \"taskId\": \"24810959\",\n      \"childWorkflowExecutionStartedEventAttributes\": {\n        \"initiatedEventId\": \"4746\",\n        \"workflowExecution\": {\n          \"runId\": \"01961595-d504-72b6-ac7d-b5ca3fdb6489\"\n      ...\n    }\n    {\n      \"eventId\": \"4907\",\n      \"eventTime\": \"2025-04-08T13:28:23.518183956Z\",\n      \"eventType\": \"EVENT_TYPE_CHILD_WORKFLOW_EXECUTION_COMPLETED\",\n        \"workflowExecution\": {\n          \"runId\": \"01961595-d504-72b6-ac7d-b5ca3fdb6489\"\n        },\n        \"initiatedEventId\": \"4746\",\n        \"startedEventId\": \"4855\"\n      ...\n    }\n```","closedAt":null,"comments":[{"id":"IC_kwDODNqesM6mIRDL","author":{"login":"tsurdilo"},"authorAssociation":"MEMBER","body":"issue seems related to Cassandra 5 which is not supported as of yet","createdAt":"2025-04-08T17:31:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/7591#issuecomment-2787184843","viewerDidAuthor":false}],"createdAt":"2025-04-08T15:55:41Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":7591,"reactionGroups":[],"state":"OPEN","title":"1.27.1 - Multiple ChildWorkflowStarted events written for same child workflow","updatedAt":"2025-10-14T12:10:56Z","url":"https://github.com/temporalio/temporal/issues/7591"}
