{"assignees":[],"author":{"id":"MDQ6VXNlcjc3NTQxMjA=","is_bot":false,"login":"yycptt","name":"Yichao Yang"},"body":"## Expected Behavior\r\n- Failure message should match the timeout failure info\r\n\r\n\r\n## Actual Behavior\r\n```\r\n{\r\n  \"message\": \"activity StartToClose timeout\",\r\n  \"source\": \"Server\",\r\n  \"stackTrace\": \"\",\r\n  \"encodedAttributes\": null,\r\n  \"cause\": {\r\n    \"message\": \"activity StartToClose timeout\",\r\n    \"source\": \"Server\",\r\n    \"stackTrace\": \"\",\r\n    \"encodedAttributes\": null,\r\n    \"cause\": null,\r\n    \"timeoutFailureInfo\": {\r\n      \"timeoutType\": \"StartToClose\",\r\n      \"lastHeartbeatDetails\": null\r\n    }\r\n  },\r\n  \"timeoutFailureInfo\": {\r\n    \"timeoutType\": \"ScheduleToClose\",\r\n    \"lastHeartbeatDetails\": null\r\n  }\r\n}\r\n```\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n^ happens when we force update the timeoutFailureInfo [here](https://github.com/temporalio/temporal/blob/6b2bc693877585ee1a5c7fc225fd0694116bbc8b/service/history/timer_queue_active_task_executor.go#L307), when activity retry would exceed the schedule to close timeout. \r\nThe timeoutFailureInfo got updated but not the failure message.\r\n\r\n\r\n## Specifications\r\n\r\n  - Version:\r\n  - Platform:\r\n","closedAt":"2024-05-17T21:32:23Z","comments":[],"createdAt":"2024-05-13T20:40:30Z","labels":[{"id":"MDU6TGFiZWwyMDE5ODE3MzQ2","name":"potential-bug","description":"","color":"66b9cc"}],"milestone":null,"number":5914,"reactionGroups":[],"state":"CLOSED","title":"Mismatched failure message and timeoutFailureInfo ","updatedAt":"2024-05-17T21:32:23Z","url":"https://github.com/temporalio/temporal/issues/5914"}
