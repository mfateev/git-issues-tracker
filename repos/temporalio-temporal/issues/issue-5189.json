{"assignees":[{"id":"MDQ6VXNlcjQyODY3OTQy","login":"luansapelli","name":"Luan","databaseId":0}],"author":{"id":"MDQ6VXNlcjU5NDI5NjM=","is_bot":false,"login":"MichaelSnowden","name":"Michael Snowden"},"body":"**Is your feature request related to a problem? Please describe.**\r\nA clear and concise description of what the problem is. Ex. I'm always frustrated when [...]\r\n\r\nThe problem is that calls to our `metrics.Handler`'s methods often contain redundant information like this:\r\n\r\n```\r\nhandler.Histogram( myHisto.Name(), myHisto.Unit() ).Record(...)\r\n            ‚îÇ             ‚îÇ               ‚îî‚îÄ‚îÄ‚îÄ‚îê\r\n            ‚îÇ             ‚îÇ                   ‚îÇ\r\n            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ\r\n                  ‚îÇ                   ‚îÇ       ‚îÇ\r\n   Redundant and Unsafe: 'Histogram'  ‚îÇ       ‚îÇ\r\n   is specified despite knowing       ‚îÇ       ‚îÇ\r\n   'myHisto' is a histogram. There's  ‚îÇ       ‚îÇ\r\n   also a risk if 'myHisto.Name()'    ‚îÇ       ‚îÇ\r\n   refers to a metric definition that ‚îÇ       ‚îÇ\r\n   is not a histogram.                ‚îÇ       ‚îÇ\r\n                                      ‚îî‚îÄ‚îÄ‚îÄ Redundant information\r\n```\r\n\r\nHowever, we now have an alternative solution as of https://github.com/temporalio/temporal/pull/5187.\r\n\r\n**Describe the solution you'd like**\r\nA clear and concise description of what you want to happen.\r\n\r\nI'd like us to migrate all usage of `metrics.metricDefinition` objects to the new style of recording metrics. See [this](https://github.com/temporalio/temporal/pull/5187/files#diff-749877df70d45313bebea67a420260e28c0b2c5810cea6a246556f73e817f212) for an example. This should be a fairly mechanical refactoring. We may be able to utilize some automated structural refactoring tools, or this could be done manually.\r\n\r\n**Describe alternatives you've considered**\r\nA clear and concise description of any alternative solutions or features you've considered.\r\n\r\n**Additional context**\r\nAdd any other context or screenshots about the feature request here.\r\n","closedAt":"2024-03-11T23:28:25Z","comments":[{"id":"IC_kwDODNqesM5uC-1L","author":{"login":"luansapelli"},"authorAssociation":"CONTRIBUTOR","body":"@MichaelSnowden, I'm interested in working on it! ","createdAt":"2023-12-07T23:46:12Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HEART","users":{"totalCount":1}}],"url":"https://github.com/temporalio/temporal/issues/5189#issuecomment-1846275403","viewerDidAuthor":false},{"id":"IC_kwDODNqesM52anuX","author":{"login":"luansapelli"},"authorAssociation":"CONTRIBUTOR","body":"I think we can close this issue now üòÑ\r\n\r\nThanks for the support @MichaelSnowden.","createdAt":"2024-03-09T01:59:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5189#issuecomment-1986689943","viewerDidAuthor":false},{"id":"IC_kwDODNqesM52l2ZT","author":{"login":"stephanos"},"authorAssociation":"MEMBER","body":"Closed as fixed in https://github.com/temporalio/temporal/pull/5236","createdAt":"2024-03-11T23:28:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/temporal/issues/5189#issuecomment-1989633619","viewerDidAuthor":false}],"createdAt":"2023-12-02T00:44:24Z","labels":[{"id":"MDU6TGFiZWwxNjIxMDMwNzg3","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwxNjIxMDMwNzg5","name":"good first issue","description":"Good for newcomers","color":"7057ff"},{"id":"MDU6TGFiZWwyNTc2NTM1ODQ2","name":"difficulty: easy","description":"","color":"68d662"},{"id":"LA_kwDODNqesM792KD9","name":"chore","description":"","color":"AD4063"}],"milestone":null,"number":5189,"reactionGroups":[],"state":"CLOSED","title":"Migrate usage of metrics.Handler to metricDefinition.With","updatedAt":"2024-03-11T23:28:25Z","url":"https://github.com/temporalio/temporal/issues/5189"}
