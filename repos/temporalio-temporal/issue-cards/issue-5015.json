{
  "summary": "gRPC health check incorrectly reports server as unhealthy (NOT_SERVING) for up to 1 second after GetSystemInfo succeeds, causing intermittent connection failures in client initialization.",
  "category": "bug",
  "subcategory": "health-check",
  "apis": [
    "GetSystemInfo"
  ],
  "components": [
    "grpc-server",
    "health-check",
    "frontend"
  ],
  "concepts": [
    "health-status",
    "server-readiness",
    "initialization",
    "race-condition",
    "connection-timing"
  ],
  "severity": "high",
  "userImpact": "SDK clients may fail to connect immediately after server startup even though the server is responding, causing CI/CD failures and requiring retry workarounds.",
  "rootCause": "Health check state is not synchronized with GetSystemInfo readiness, creating a window where the service is ready but health check reports NOT_SERVING.",
  "proposedFix": "Make all frontend methods return an error if the server is not healthy, ensuring health check state and service readiness are consistent.",
  "workaround": "Add retry logic in client connection attempts (implemented in temporalio/cli#368).",
  "resolution": "fixed",
  "resolutionDetails": "Implemented by making frontend methods return errors when server is unhealthy, ensuring consistency between health check and service readiness (PR #5069).",
  "related": [
    5069
  ],
  "keyQuote": "The goal is to not allow an SDK client connection to return successfully if the server is not ready.",
  "number": 5015,
  "repo": "temporalio-temporal",
  "generatedAt": "2026-01-13T03:00:48.713Z"
}