{
  "summary": "Delay workflow completion until all coroutines have settled in the task queue to prevent dropping post-terminal commands. This aligns with core SDK requirements and follows patterns implemented in Python and .NET SDKs.",
  "category": "feature",
  "subcategory": "workflow-execution",
  "apis": [],
  "components": [
    "workflow-executor",
    "task-queue",
    "coroutine-management",
    "completion-handler"
  ],
  "concepts": [
    "workflow-completion",
    "coroutine-settlement",
    "post-terminal-commands",
    "task-sequencing",
    "asynchronous-execution"
  ],
  "severity": "medium",
  "userImpact": "Prevents loss of post-terminal commands and ensures consistent workflow behavior across SDKs by deferring completion until all coroutines are settled.",
  "rootCause": "Workflow completion is currently set before all coroutines in the task have settled, causing post-terminal commands to be dropped.",
  "proposedFix": "Change workflow completion logic to wait until all coroutines have settled, similar to the approach implemented in sdk-python and sdk-dotnet after sdk-core PR #776.",
  "workaround": null,
  "resolution": "fixed",
  "resolutionDetails": "Unblocked by sdk-core PR #776 merge, allowing implementation in sdk-python and sdk-dotnet by removing post-terminal command dropping.",
  "related": [
    481
  ],
  "keyQuote": "https://github.com/temporalio/sdk-core/pull/776 has been merged, and so this is unblocked.",
  "number": 1421,
  "repo": "temporalio-sdk-typescript",
  "generatedAt": "2026-01-12T05:45:02.010Z"
}