{"assignees":[],"author":{"id":"MDQ6VXNlcjUwNDA2Mzc=","is_bot":false,"login":"rupalivohra","name":"Rupali Vohra"},"body":"### What are you really trying to do?\r\n\r\n<!-- \r\nTell us at a high level what you're doing, to avoid XY problem (https://en.wikipedia.org/wiki/XY_problem) \r\n-->\r\n\r\nI want to monitor workflow task execution failures on a per-workflow level.\r\n\r\n### Describe the bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\nAround the time we upgraded our SDK version from 1.4.2 -> 1.6.0, the metric for `workflow_task_execution_failed` stopped being emitted. When we upgraded from 1.6.0 -> 1.8.2, the metric came back. This was probably due to [this change](https://github.com/temporalio/sdk-core/pull/481).\r\n\r\nThe problem is that we used to get some tags on the metric for the `workflow_type`, but that's no longer coming through. The `task_queue` tag seems to be working fine. This makes it difficult for us to write well-formed monitors that alert the correct teams.\r\n\r\n<!-- If applicable, add screenshots or code blocks to help explain your problem. You can also use [Loom](http://loom.com/) to do short, free video bug reports. -->\r\n\r\nI'm happy to DM screenshots of what the metrics looked like before and after if that would be helpful. Ping me on Slack.\r\n\r\n","closedAt":"2023-08-10T21:46:58Z","comments":[{"id":"IC_kwDOEujx185jxqAc","author":{"login":"rupalivohra"},"authorAssociation":"NONE","body":"Closing issue - while data from workflow task failures that occurred initially (not including retries) is not emitting the correct tag for `workflow_type`, metrics from post-upgrade to 1.8.2 seem to be tagged correctly.\r\n\r\n[Related (private) Slack thread](https://convoy.slack.com/archives/C01PM0HS63D/p1691703866456369?thread_ts=1691693519.616469&cid=C01PM0HS63D).","createdAt":"2023-08-10T21:46:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1200#issuecomment-1673961500","viewerDidAuthor":false}],"createdAt":"2023-08-10T18:51:23Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1200,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Bug] Metric `workflow_task_execution_failed` doesn't have correct tags","updatedAt":"2023-08-10T21:46:59Z","url":"https://github.com/temporalio/sdk-typescript/issues/1200"}
