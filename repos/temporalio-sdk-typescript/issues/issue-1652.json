{"assignees":[],"author":{"id":"MDQ6VXNlcjY0MTIxNjk=","is_bot":false,"login":"mjameswh","name":"James Watkins-Harvey"},"body":"### Describe the bug\n\nThe following APIs should throw if invoked from a query handler, an update validation handler, or other \"read only\" execution context:\n\n- Any API that may result in adding a command (except for the `RespondToQuery`, `UpdateResponse.accepted` or `UpdateResponse.rejected` commands);\n- `Math.random()` and `uuid4()`;\n- `setHandler()`, `setDefaultSignalHandler(), and similar;\n- `condition()`\n- `CancellableScope()`\n\nAt the moment, usage of these APIs may result in either failure on completion (from Core) or NDE on subsequent workflow tasks.","closedAt":null,"comments":[{"id":"IC_kwDOEujx186it9W-","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Doesn't this apply to all SDK's not just TS? Maybe we should open a feature issue","createdAt":"2025-03-17T15:28:36Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1652#issuecomment-2729956798","viewerDidAuthor":false}],"createdAt":"2025-03-17T15:19:21Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1652,"reactionGroups":[],"state":"OPEN","title":"[Bug] Throw on usage of Workflow APIs that modify state from non-replayable context","updatedAt":"2025-03-17T15:28:50Z","url":"https://github.com/temporalio/sdk-typescript/issues/1652"}
