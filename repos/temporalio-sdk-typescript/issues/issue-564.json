{"assignees":[],"author":{"id":"MDQ6VXNlcjI1MTI4OA==","is_bot":false,"login":"lorensr","name":"Loren ☺️"},"body":"In an Activity, `Context.heartbeat()` takes a single param:\r\n\r\nhttps://typescript.temporal.io/api/classes/activity.Context#heartbeat\r\n\r\nwhich is converted to a single Payload:\r\n\r\n![image](https://user-images.githubusercontent.com/251288/160444135-a2d8f519-5632-4145-aa6f-c3d3070f2482.png)\r\n\r\nBut it looks like it should be an array of Payloads:\r\n\r\n![image](https://user-images.githubusercontent.com/251288/160444171-799f67e3-ac9b-4ebe-a749-607470b5d48a.png)","closedAt":null,"comments":[{"id":"IC_kwDOEujx185AbTz6","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I think this is the same as in Java / Go:\r\n- https://www.javadoc.io/doc/io.temporal/temporal-sdk/latest/io/temporal/activity/ActivityExecutionContext.html\r\n- https://pkg.go.dev/go.temporal.io/sdk@v1.14.0/activity\r\n\r\n@cretz I saw that you made this a list in Python, I think that's the only SDK where we do that. Maybe we should stick to single arg.","createdAt":"2022-03-28T16:52:52Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/564#issuecomment-1080900858","viewerDidAuthor":false},{"id":"IC_kwDOEujx185AbVJ_","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"@bergundy - Go does support varargs for this which is an array. Also, Core explicitly makes `coresdk.ActivityHeartbeat.details` a `repeated`. I think if we do want to limit to just one, we should do it in Core too. But I am not convinced we do want that. Also note how `coresdk.activity_task.Start.heartbeat_details` has multiple as well.","createdAt":"2022-03-28T16:56:24Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/564#issuecomment-1080906367","viewerDidAuthor":false},{"id":"IC_kwDOEujx185Ag0yb","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"This is where a spec for our SDKs would shine.\r\nI copied the Java implementation when working on TS and I'm assuming @cretz copied Go which is why we ended up with different APIs.","createdAt":"2022-03-29T20:33:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/564#issuecomment-1082346651","viewerDidAuthor":false},{"id":"IC_kwDOEujx185Ag0_d","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I'd be fine with either approach but I prefer consistency across the SDKs.","createdAt":"2022-03-29T20:33:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/564#issuecomment-1082347485","viewerDidAuthor":false}],"createdAt":"2022-03-28T16:30:09Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":564,"reactionGroups":[],"state":"OPEN","title":"[Bug] Heartbeat details should be array?","updatedAt":"2022-03-29T20:33:40Z","url":"https://github.com/temporalio/sdk-typescript/issues/564"}
