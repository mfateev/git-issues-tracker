{"assignees":[],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"Spans created in the workflow isolate use workflow task time which different than the actual processing time.\nGetting the actual time is useful for getting a clear picture of how a system behaves.\n\nAfter discussing with the SDK team, we've decided not to use the real time for spans because a span can start in one workflow task and end in another, running on different workers and going through replays.\n\n* This means there's no way to reliably get the real start time when the span is finally emitted\n* We can avoid this scenario for spans generated by the interceptors but it's unavoidable if we want to let users create their own spans in workflow\n  * This will in fact make the TS SDK the only SDK that supports user spans in Workflow code\n  * Spans that span multiple workflow tasks require full determinism of workflow code in order for their IDs to be deterministically generated when replaying, if a user deploys a non deterministic update to their workflow code, tracing might break\n\n","closedAt":null,"comments":[{"id":"IC_kwDOEujx185SHN_8","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Use `workflowInfo().unsafe.now()`","createdAt":"2023-01-10T17:41:48Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/384#issuecomment-1377624060","viewerDidAuthor":false}],"createdAt":"2021-11-12T15:46:42Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":384,"reactionGroups":[],"state":"OPEN","title":"[Feature Request] Add actual span time to spans create by workflow otel interceptors","updatedAt":"2025-02-04T18:30:00Z","url":"https://github.com/temporalio/sdk-typescript/issues/384"}
