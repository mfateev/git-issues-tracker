{"assignees":[],"author":{"id":"MDQ6VXNlcjI1MTI4OA==","is_bot":false,"login":"lorensr","name":"Loren ☺️"},"body":"### Describe the bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\n<!-- If applicable, add screenshots or code blocks to help explain your problem. You can also use [Loom](http://loom.com/) to do short, free video bug reports. -->\r\n\r\nReported by user:\r\n\r\n---\r\n\r\nI’m creating a workflowBundle of all the workflows i’m replaying, passing the workflowBundle in to runReplayHistory, and adding the promise from runReplayHistory to an array of promises on which I use Promise.all() at the end.\r\n\r\nIf I do break determinism in one of the workflows, even though I’m catching errors on the Promise.all, I get this error:\r\n\r\n```\r\nthread '<unnamed>' panicked at 'Must call `into_inner` or `drop` on `Root` https://docs.rs/neon/latest/neon/sync/index.html#drop-safety', /Users/runner/.cargo/registry/src/github.com-1ecc6299db9ec823/neon-0.8.3/src/handle/root.rs:182:13\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\nUnhandled rejection { runId: undefined } UnexpectedError: channel closed\r\n```\r\n\r\nand the function errors out. ","closedAt":"2022-10-03T13:05:46Z","comments":[{"id":"IC_kwDOEujx185HoFmk","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"This is a bug in the TS bridge code. `neon` only exists there.","createdAt":"2022-08-01T20:32:43Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/800#issuecomment-1201691044","viewerDidAuthor":false},{"id":"IC_kwDOEujx185LbKFm","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I haven’t seen this since one of my recent changes to `Runtime`. Let’s reopen if we see it again.","createdAt":"2022-10-03T13:05:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/800#issuecomment-1265410406","viewerDidAuthor":false}],"createdAt":"2022-07-21T20:36:44Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":800,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"CLOSED","title":"[Bug] Panic on nondeterministic replay","updatedAt":"2022-10-03T13:05:47Z","url":"https://github.com/temporalio/sdk-typescript/issues/800"}
