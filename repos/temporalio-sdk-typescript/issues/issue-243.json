{"assignees":[{"id":"MDQ6VXNlcjUyMzA0","login":"bergundy","name":"Roey Berman","databaseId":0}],"author":{"id":"MDQ6VXNlcjE1NTUzOA==","is_bot":false,"login":"mikegai","name":"Michael Gai"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nWe have a Node activity that makes a POST request to an existing (Node) AWS Lambda function, which in turn launches a process that can last over a minute.\r\nThe Lambda is behind an API gateway so has a maximum timeout of 30 seconds. So we can't wait for the lambda to return the final response.\r\nRight now we have the lambda immediately returning a 200 upon start of the process, and then later signaling success/failure back to the workflow when done.\r\nHowever that makes us add extra signal(s) (success/fail) just to complete a simple activity. It's just a few lines of code so is not onerous, but it does add some noise to an otherwise smooth flow.\r\nIn the Go SDK we see an incrementally more attractive approach.\r\n\r\n### Describe the solution you'd like\r\n\r\nIn the Go SDK you can \"asynchronously complete an activity\":\r\nhttps://docs.temporal.io/docs/go/activities#asynchronous-activity-completion\r\nWe would like the same in node.\r\nThat way we can preserve the separation of concerns between workflow and activities: workflows execute activities while activities take care of any internal execution complexity, saving signals for true inter-\"actor\" collaboration and external events.\r\n\r\n","closedAt":"2021-12-10T18:12:20Z","comments":[{"id":"IC_kwDOEujx1842-JQ6","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"This is definitely something we want to support.\r\nTechnically this is already supported since you can complete the activity using the service client but you can’t make the worker “forget” about which will cause resource leak.\r\n\r\nI’ll make sure to prioritize forgetting activities after we release beta.\r\n\r\ncc @Sushisource \r\n","createdAt":"2021-09-18T11:10:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/243#issuecomment-922260538","viewerDidAuthor":false},{"id":"IC_kwDOEujx1844kEDD","author":{"login":"zlalvani"},"authorAssociation":"NONE","body":"@bergundy I'm running into the same need, can you explain what you mean by the worker not forgetting if we use `WorkflowService.respondActivityTaskCompleted`?","createdAt":"2021-10-21T20:26:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/243#issuecomment-948977859","viewerDidAuthor":false},{"id":"IC_kwDOEujx1844kJfF","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Right now the worker takes ownership of an activity.\r\nThis means that when your activity function returns or throws it will report the result back to the server.\r\nThere's no way of letting the worker know that the activity will be resolved asynchronously.\r\n\r\nIf you were to never return from the activity function (assuming no timeout on the activity task) the worker would leak memory tracking all of the open activities.","createdAt":"2021-10-21T21:02:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/243#issuecomment-949000133","viewerDidAuthor":false},{"id":"IC_kwDOEujx1845CutX","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I plan on implementing the TypeScript side tomorrow or Wednesday, core support was already added.","createdAt":"2021-11-02T01:21:52Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/243#issuecomment-957016919","viewerDidAuthor":false}],"createdAt":"2021-09-15T06:57:07Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":243,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Feature Request] Asynchronous Activity Completion","updatedAt":"2021-12-10T18:12:20Z","url":"https://github.com/temporalio/sdk-typescript/issues/243"}
