{"assignees":[],"author":{"id":"MDQ6VXNlcjY0MTIxNjk=","is_bot":false,"login":"mjameswh","name":"James Watkins-Harvey"},"body":"### Describe the bug\r\n\r\nThe workflow bundle size increased by ~1.5 MB between TS SDK 1.8.0 and 1.8.1.\r\n\r\nThis is very likely due to the addition of a dependency on the `protobuf` package in `workflow.ts` (see [here](https://github.com/temporalio/sdk-typescript/compare/v1.8.0...v1.8.1#diff-1daa17a864bbcdffc2397155620d7b4624edd1e0ffb40b2083f1dd1b65cc241bR1332-R1343)).\r\n\r\n### Minimal Reproduction\r\n\r\nStarting with the [production sample](https://github.com/temporalio/samples-typescript/tree/main/production), from the samples-typescript repo, set all `@temporalio/*` dependencies to `\"1.8.0\"`, then run `rm -rf node_modules lib ; npm i ; npm run build ; npm run build:workflow`. At this point, observe that bundle size is 0.73MB.\r\n\r\nDoing the same steps, with all `@temporalio/*` dependencies set to `\"1.8.1\"`, observe that the generated bundle size is now 2.25MB.\r\n\r\nRunning `grep '!\\*\\*\\* ' workflow-bundle.js` on both generated bundles shows that the second include lot of `protobufjs` files, while the first bundle don't.","closedAt":"2023-08-16T22:47:54Z","comments":[{"id":"IC_kwDOEujx185kN5iL","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Fixed by #1203 ","createdAt":"2023-08-16T22:47:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1194#issuecomment-1681365131","viewerDidAuthor":false}],"createdAt":"2023-08-09T15:44:51Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1194,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Workflow bundle size increased by 1.5MB between 1.8.0 and 1.8.1","updatedAt":"2023-08-16T22:47:54Z","url":"https://github.com/temporalio/sdk-typescript/issues/1194"}
