{"assignees":[],"author":{"id":"MDQ6VXNlcjE0NTcyNTI=","is_bot":false,"login":"cons0l3","name":"Carsten Steckel"},"body":"Hi all,\r\n\r\nI am coming from trying out the temporial samples for typescript and have filed a [bug](https://github.com/temporalio/samples-typescript/issues/61#issue-1050816961) over there.\r\n\r\nAfter installing all dependencies as described in the readme of this project, running of `npm install` fails on windows 10, msvc 2017, node 16, rust 1.56.\r\n\r\nI could identify three issues:\r\n1) packages/core-bridge package.json build-rust script is not cross OS\r\n2) core-bridge scripts/build.js calls a cargo-cp-artifact via OS spawn, which is not cross OS\r\n3) packages/worker compile throws:\r\n```\r\nnpm ERR! Die Projekte in dieser Projektmappe werden nacheinander erstellt. Um eine parallele Erstellung zu ermöglichen, müssen Sie den Schalter \"-m\" hinzufügen.\r\nnpm ERR!   workflow-isolate-extension.cc\r\nnpm ERR! ~\\my-project-name\\node_modules\\isolated-vm\\src\\lib\\thread_pool.h(17,55): warning C4003: Nicht genügend Argumente für den Aufruf des funktionsähnlichen Makros \"max\". [~\\my-project-name\\node_modules\\@temporalio\\worker\\build\\temporalio-workflow-isolate-extension.vcxproj]       \r\nnpm ERR! ~\\my-project-name\\node_modules\\isolated-vm\\src\\lib\\thread_pool.h(17,55): error C2589: \"(\": Ungültiges Token auf der rechten Seite von \"::\" [~\\my-project-name\\node_modules\\@temporalio\\worker\\build\\temporalio-workflow-isolate-extension.vcxproj]\r\nnpm ERR! ~\\my-project-name\\node_modules\\isolated-vm\\src\\lib\\thread_pool.h(17): error C2062: \"unknown-type\"-Typ unerwartet [~\\my-project-name\\node_modules\\@temporalio\\worker\\build\\temporalio-workflow-isolate-extension.vcxproj]\r\nnpm ERR! ~\\my-project-name\\node_modules\\isolated-vm\\src\\lib\\thread_pool.h(17,22): error C2059: Syntaxfehler: \")\" [~\\my-project-name\\node_modules\\@temporalio\\worker\\build\\temporalio-workflow-isolate-extension.vcxproj]\r\n```\r\n\r\n### To Reproduce\r\n\r\nsetup Windows 10 (21H1), \r\nnode 16 (via nvm install 16 && nvm use 16), \r\nrustup (cargo 1.56, rustc 1.56.1), \r\nvs 2017 (via choco visualstudio2017-workload-vctools visualstudio2017buildtools)\r\n\r\n### Expected behavior\r\n\r\n`npm install` and `npm test` run on Windows environment successfully (with the appropriate dependencies)\r\n","closedAt":"2021-11-17T15:25:11Z","comments":[{"id":"IC_kwDOEujx1845mkc6","author":{"login":"cons0l3"},"authorAssociation":"CONTRIBUTOR","body":"I have the required changes in [my fork](https://github.com/cons0l3/sdk-typescript) ready for a PR. Please advice, how to proceed.","createdAt":"2021-11-11T15:50:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/379#issuecomment-966412090","viewerDidAuthor":false},{"id":"IC_kwDOEujx1845mrVo","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"This is great, we've had an outstanding issue to support windows build for a while now #12.\r\nPR will be very welcome.","createdAt":"2021-11-11T16:25:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/379#issuecomment-966440296","viewerDidAuthor":false}],"createdAt":"2021-11-11T15:04:14Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":379,"reactionGroups":[],"state":"CLOSED","title":"[Bug] \"npm install\" fails on windows, msvc 2017, ...","updatedAt":"2021-11-17T15:25:11Z","url":"https://github.com/temporalio/sdk-typescript/issues/379"}
