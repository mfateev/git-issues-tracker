{"assignees":[],"author":{"id":"MDQ6VXNlcjM0NzY0NDE=","is_bot":false,"login":"btravers","name":"Benoit Travers"},"body":"### What are you really trying to do?\n\nWe are upgrading Temporal SDK from 1.11.8 to 1.12.1.\n\n### Describe the bug\n\nWe have a long-running workflow. After upgrading the SDK, we are experiencing the following error: `\"Workflow task not found.\"`\nWhen we roll back to the previous version, the error disappears.\n","closedAt":"2026-01-20T22:05:40Z","comments":[{"id":"IC_kwDOEujx18654Nc3","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Do you see any other error message besides the \"Workflow task not found.\"? Any information that could help diagnose or reproduce what you are observing?","createdAt":"2025-07-25T15:17:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1749#issuecomment-3118520119","viewerDidAuthor":false},{"id":"IC_kwDOEujx1867GEW9","author":{"login":"shaz1v"},"authorAssociation":"NONE","body":"We are seeing similar issues as-well with the new version, the workflows we tested the new SDK version with were short-running ones with large number activities, and the new SDK resulted in very slow processing and workflow being stuck for few good minutes before picking up the next activity, reverting resolved and everything instantly closed\n\nThe full log line we saw was\n\n> 2025-07-31T07:46:46.723583Z  WARN temporal_sdk_core::worker::workflow: Task not found when completing error=status: NotFound, message: \"Workflow task not found.\", details: [8, 5, 18, 24, 87, 111, 114, 107, 102, 108, 111, 119, 32, 116, 97, 115, 107, 32, 110, 111, 116, 32, 102, 111, 117, 110, 100, 46, 26, 66, 10, 64, 116, 121, 112, 101, 46, 103, 111, 111, 103, 108, 101, 97, 112, 105, 115, 46, 99, 111, 109, 47, 116, 101, 109, 112, 111, 114, 97, 108, 46, 97, 112, 105, 46, 101, 114, 114, 111, 114, 100, 101, 116, 97, 105, 108, 115, 46, 118, 49, 46, 78, 111, 116, 70, 111, 117, 110, 100, 70, 97, 105, 108, 117, 114, 101], metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\", \"server\": \"temporal\", \"date\": \"Thu, 31 Jul 2025 07:46:46 GMT\"} } run_id=\"01985f6f-b5ea-73a8-bb25-93b37c8db50d\"","createdAt":"2025-07-31T07:57:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1749#issuecomment-3138930109","viewerDidAuthor":false},{"id":"IC_kwDOEujx187AraMa","author":{"login":"koliaVasyliv"},"authorAssociation":"NONE","body":"hey, @mjameswh have you been able to look into this issue? it's blocking us to upgrade to newer versions.","createdAt":"2025-08-28T09:01:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1749#issuecomment-3232604954","viewerDidAuthor":false},{"id":"IC_kwDOEujx187Cut9J","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Hey! Sorry, I was out for a few days.\n\nUnfortunately, I haven't been able to reproduce this error myself, and I don't observe any issue with any of our regular performance tests. It also seems like this is affecting only a very small subset of users, which suggests there might be some particular conditions required to reproduce this.\n\nThe log entry reported above isn't helping either; the \"details\" shown contain nothing more than the error status and message that are already printed out as plain text, just above. And in any case, the `Workflow task not found.` error is almost certainly just a secondary symptom; the real problem is that the Worker is not completing task within the allowed time (i.e. 10 seconds by default). The performance problem is what needs to be figured out.\n\nBefore anything else, I would recommend trying this again, with v1.13.0. That release notably [fixed a bug](https://github.com/temporalio/sdk-typescript/pull/1777) that could surface as an apparent memory leak in some Worker configurations. The increased memory pressure caused by this bug might have increased time spent in GC, thus considerably reducing the Worker's performance.\n\nIf this is not fixed by v1.13.0, could you please provide the following:\n- Your `Runtime`'s options\n- Your `Worker`'s options\n- Graphs of your CPU usage and Memory usage\n- When does that happen? Is that after the Worker's has been quietly running for a long time? Are you seeing many of those errors in short time, then no more for some time, and then again?\n- Anything in your Worker's logs that seems potentially pertinent.","createdAt":"2025-09-08T16:14:27Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1749#issuecomment-3267026761","viewerDidAuthor":false},{"id":"IC_kwDOEujx187hBIyu","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Closing, as there has been no recent report of this issue.","createdAt":"2026-01-20T22:05:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1749#issuecomment-3775171758","viewerDidAuthor":false}],"createdAt":"2025-07-23T05:56:52Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1749,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":4}}],"state":"CLOSED","title":"[Bug] Workflow task not found after SDK upgrade","updatedAt":"2026-01-20T22:05:40Z","url":"https://github.com/temporalio/sdk-typescript/issues/1749"}
