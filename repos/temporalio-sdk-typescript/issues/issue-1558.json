{"assignees":[],"author":{"id":"MDQ6VXNlcjExMzYzMDM2","is_bot":false,"login":"freshollie","name":"Oliver Bell"},"body":"### What are you really trying to do?\r\n\r\nProvide a payload converter when my workers are running as ESM\r\n\r\n### Describe the bug\r\n\r\nhttps://github.com/temporalio/sdk-typescript/blob/5c3955fea45599d56312490f9a9957b6e70c6825/packages/common/src/internal-non-workflow/data-converter-helpers.ts#L40\r\n\r\nThe main code path which to import the data converter always uses `require` which means the format has to be CJS to be imported. Our current workaround is to write our `payload-converter` as `.cjs`.\r\n\r\n### Minimal Reproduction\r\n\r\n- Just use `payloadConverterPath` in an ESM application which uses the temporal worker.\r\n\r\n### Environment/Versions\r\n\r\nN/A\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n","closedAt":"2024-11-19T18:42:14Z","comments":[{"id":"IC_kwDOEujx186UNJvX","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Thanks for reporting.\r\n\r\nThis issue is already tracked in #1292. Closing as duplicate.","createdAt":"2024-11-19T18:42:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1558#issuecomment-2486475735","viewerDidAuthor":false}],"createdAt":"2024-11-07T12:22:46Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1558,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Bug] Payload Converter doesn't work when running as ESM","updatedAt":"2024-11-19T18:42:14Z","url":"https://github.com/temporalio/sdk-typescript/issues/1558"}
