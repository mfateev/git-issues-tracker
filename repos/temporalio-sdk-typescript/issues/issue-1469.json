{"assignees":[],"author":{"id":"MDQ6VXNlcjM3NzQzNDY5","is_bot":false,"login":"CiaranMn","name":"Ciaran Morinan"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nEvent histories larger than the gRPC limit of 4MB are not fetchable via `handle.fetchHistory()`.\r\n\r\nAs a workaround, they can be retrieved by using `getWorkflowExecutionHistory` directly on `workflowService` and paginating manually.\r\n\r\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\r\n\r\n### Describe the solution you'd like\r\n\r\nThe ability to pass `pageSize` to `fetchHistory` and receiving an iterable, similar to how `workflow.list` works.\r\n\r\nAn alternative solution to the problem described would be to allow configuration of the message size limit, but I understand this is not desired – https://github.com/temporalio/temporal/issues/2786\r\n\r\n<!-- A clear and concise description of what you want to happen. SCREENSHOTS OR CODE SAMPLES ARE VERY HELPFUL -->\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n\r\nIn implementing the workaround of paginating through `getWorkflowExecutionHistory` I noticed that the docs on the returned `nextPageToken` are arguably inaccurate in that they describe it as \"set if there are more history events than were included in this response\", but it is always set (it is an empty `Array` if there are no more events).\r\n\r\n","closedAt":"2024-07-25T18:30:34Z","comments":[{"id":"IC_kwDOEujx186Fst10","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> Event histories larger than the gRPC limit of 4MB are not fetchable via `handle.fetchHistory()`.\r\n\r\nThis is a bug, I have opened #1470.","createdAt":"2024-07-22T14:23:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1469#issuecomment-2243091828","viewerDidAuthor":false},{"id":"IC_kwDOEujx186GLdyH","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Closing this ticket in favor of #1470.","createdAt":"2024-07-25T18:30:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1469#issuecomment-2251152519","viewerDidAuthor":false}],"createdAt":"2024-07-22T13:57:53Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1469,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Allow passing `pageSize` to `WorkflowHandle.fetchHistory`","updatedAt":"2024-07-25T18:30:34Z","url":"https://github.com/temporalio/sdk-typescript/issues/1469"}
