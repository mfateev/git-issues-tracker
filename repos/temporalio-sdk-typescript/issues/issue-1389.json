{"assignees":[],"author":{"id":"MDQ6VXNlcjYxODgzNzE=","is_bot":false,"login":"hiramhuang","name":"Hiram"},"body":"### What are you really trying to do?\r\n\r\nI'm working on creating a reusable generic type that extends from the `Workflow` type.\r\n\r\n### Describe the bug\r\n\r\nThe type definition of arguments on the `Workflow` type is inconsistent with the condition expression on `WithWorkflowArgs` type.\r\nThis inconsistency could become problematic when attempting to create a generic type that extends the `Workflow` type.\r\n\r\n- [Workflow](https://github.com/temporalio/sdk-typescript/blob/c92a2a13072a48f3d6820ea2bc30cfcd42af6254/packages/common/src/interfaces.ts#L25)\r\n- [WithWorkflowArgs](https://github.com/temporalio/sdk-typescript/blob/c92a2a13072a48f3d6820ea2bc30cfcd42af6254/packages/common/src/workflow-options.ts#L94)\r\n\r\n### Minimal Reproduction\r\n\r\nNot applicable.\r\n\r\n### Environment/Versions\r\n\r\nNot applicable.\r\n\r\n### Additional context\r\n\r\nNot applicable.\r\n","closedAt":null,"comments":[{"id":"IC_kwDOEujx1856FlIE","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Can you please clarify in which case this is posing problems?","createdAt":"2024-04-10T19:24:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1389#issuecomment-2048283140","viewerDidAuthor":false},{"id":"IC_kwDOEujx1856IV4B","author":{"login":"hiramhuang"},"authorAssociation":"NONE","body":"> Can you please clarify in which case this is posing problems?\r\n\r\nDue to `any[]` ([on `Workflow` type](https://github.com/temporalio/sdk-typescript/blob/c92a2a13072a48f3d6820ea2bc30cfcd42af6254/packages/common/src/interfaces.ts#L25)) not being equal to `[any, ...any[]]` ([on `WithWorkflowArgs` type](https://github.com/temporalio/sdk-typescript/blob/c92a2a13072a48f3d6820ea2bc30cfcd42af6254/packages/common/src/workflow-options.ts#L94)), the following example function will not pass type checking. This is because it cannot satisfy `WorkflowStartOptions<WT>` when arguments are passed from `Parameters<WT>`:\r\n\r\n```typescript\r\nconst getWorkflowStartOptions = <WT extends Workflow>(...args: Parameters<WT>) => ({\r\n  ...defaultOptions,\r\n  ...args,\r\n} satisfies WorkflowStartOptions<WT>)\r\n```\r\n\r\nIt will work if we don't extend from the `Workflow` type. Instead, we define a version of `Workflow` type that is compatible with `WithWorkflowArgs` type:\r\n\r\n```typescript\r\nconst getWorkflowStartOptions = <WT extends (...args: [any, ...any[]]) => Promise<any>>(...args: Parameters<WT>) => ({\r\n  ...defaultOptions,\r\n  ...args,\r\n} satisfies WorkflowStartOptions<WT>)\r\n```","createdAt":"2024-04-11T06:29:21Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1389#issuecomment-2049007105","viewerDidAuthor":false}],"createdAt":"2024-04-08T08:15:00Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1389,"reactionGroups":[],"state":"OPEN","title":"[Bug] Inconsistent Type Definition of Workflow Arguments","updatedAt":"2024-04-11T06:29:22Z","url":"https://github.com/temporalio/sdk-typescript/issues/1389"}
