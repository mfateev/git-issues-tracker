{"assignees":[],"author":{"id":"MDQ6VXNlcjI4Njc5","is_bot":false,"login":"joebowbeer","name":"Joe Bowbeer"},"body":"### What are you really trying to do?\r\n\r\nnyc-test-coverage uses [unmaintained](https://github.com/webpack-contrib/istanbul-instrumenter-loader/issues/102) (archived) istanbul-instrumenter-loader, which results in npm audit [findings](https://snyk.io/advisor/npm-package/istanbul-instrumenter-loader)\r\n\r\n### Describe the bug\r\n\r\nInstalling prints several deprecation warnings:\r\n\r\n```bash\r\nnpm WARN deprecated urix@0.1.0: Please see https://github.com/lydell/urix#deprecated\r\nnpm WARN deprecated source-map-resolve@0.5.3: See https://github.com/lydell/source-map-resolve#deprecated\r\nnpm WARN deprecated source-map-url@0.4.1: See https://github.com/lydell/source-map-url#deprecated\r\nnpm WARN deprecated resolve-url@0.2.1: https://github.com/lydell/resolve-url#deprecated\r\nnpm WARN deprecated querystring@0.2.0: The querystring API is considered Legacy. new code should use the URLSearchParams API instead.\r\nnpm WARN deprecated chokidar@2.1.8: Chokidar 2 does not receive security updates since 2019. Upgrade to chokidar 3 with 15x fewer dependencies\r\nnpm WARN deprecated core-js@2.6.12: core-js@<3.23.3 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Some versions have web compatibility issues. Please, upgrade your dependencies to the actual version of core-js.\r\n```\r\n\r\n```bash\r\n# npm audit report\r\n\r\najv  <6.12.3\r\nSeverity: moderate\r\nPrototype Pollution in Ajv - https://github.com/advisories/GHSA-v88g-cgmw-v5xw\r\nfix available via `npm audit fix --force`\r\nWill install @temporalio/nyc-test-coverage@1.2.0, which is a breaking change\r\nnode_modules/@temporalio/nyc-test-coverage/node_modules/schema-utils/node_modules/ajv\r\n  schema-utils  <=0.4.3\r\n  Depends on vulnerable versions of ajv\r\n  node_modules/@temporalio/nyc-test-coverage/node_modules/schema-utils\r\n    istanbul-instrumenter-loader  >=3.0.0-beta.0\r\n    Depends on vulnerable versions of schema-utils\r\n    node_modules/@temporalio/nyc-test-coverage/node_modules/istanbul-instrumenter-loader\r\n      @temporalio/nyc-test-coverage  >=1.3.0\r\n      Depends on vulnerable versions of istanbul-instrumenter-loader\r\n      node_modules/@temporalio/nyc-test-coverage\r\n\r\nglob-parent  <5.1.2\r\nSeverity: high\r\nglob-parent before 5.1.2 vulnerable to Regular Expression Denial of Service in enclosure regex - https://github.com/advisories/GHSA-ww39-953v-wcq6\r\nfix available via `npm audit fix`\r\nnode_modules/watchpack-chokidar2/node_modules/glob-parent\r\n  chokidar  1.0.0-rc1 - 2.1.8\r\n  Depends on vulnerable versions of glob-parent\r\n  node_modules/watchpack-chokidar2/node_modules/chokidar\r\n    watchpack-chokidar2  *\r\n    Depends on vulnerable versions of chokidar\r\n    node_modules/watchpack-chokidar2\r\n      watchpack  1.7.2 - 1.7.5\r\n      Depends on vulnerable versions of watchpack-chokidar2\r\n      node_modules/@temporalio/nyc-test-coverage/node_modules/watchpack\r\n        webpack  4.44.0 - 4.46.0\r\n        Depends on vulnerable versions of watchpack\r\n        node_modules/@temporalio/nyc-test-coverage/node_modules/webpack\r\n\r\n9 vulnerabilities (4 moderate, 5 high)\r\n```\r\n\r\n### Minimal Reproduction\r\n\r\n1. https://gitpod.io#https://github.com/joebowbeer/temporal-pendulum/tree/patch-client-workflow\r\n2. cd position-node\r\n3. npm ci\r\n4. npm audit\r\n\r\n### Additional context\r\n\r\nSee #872 ","closedAt":"2022-12-16T22:39:26Z","comments":[{"id":"IC_kwDOEujx185L7FSG","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Looks like that lib is just a few lines: https://github.com/webpack-contrib/istanbul-instrumenter-loader/blob/master/src/index.js","createdAt":"2022-10-10T20:23:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/911#issuecomment-1273779334","viewerDidAuthor":false}],"createdAt":"2022-10-10T19:41:49Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":911,"reactionGroups":[],"state":"CLOSED","title":"[Bug] nyc-test-coverage uses unmaintained istanbul-instrumenter-loader","updatedAt":"2022-12-16T22:39:26Z","url":"https://github.com/temporalio/sdk-typescript/issues/911"}
