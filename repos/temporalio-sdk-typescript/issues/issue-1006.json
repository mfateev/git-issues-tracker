{"assignees":[],"author":{"id":"MDQ6VXNlcjIzNTY0MTIw","is_bot":false,"login":"jcm300","name":"Jos√© Carlos Lima Martins"},"body":"### What are you really trying to do?\r\n\r\nWe want all Temporal logs to be done with our custom logger.\r\n\r\n### Describe the bug\r\n\r\nWe are using a custom logger with Temporal. It works great, however there are some logs that don't seem to be done with our custom logger.\r\nThese logs happen at the start and shutdown of a worker. For example, while running tests (our logger doesn't log while running tests, so these that show up is because they were not done with our logger):\r\n\r\n<img width=\"809\" alt=\"Screenshot 2022-12-26 at 10 08 31\" src=\"https://user-images.githubusercontent.com/23564120/209536473-9a280244-4168-4023-b4de-ecc585d511dc.png\">\r\n\r\n### Minimal Reproduction\r\n\r\n```\r\nimport { Runtime, Worker } from '@temporalio/worker';\r\nimport type { Logger, LogLevel, LogMetadata } from '@temporalio/worker';\r\n\r\n// Logger that doesn't log, only to show the logs not used by it\r\nclass DebugLogger implements Logger {\r\n\r\n    log(level: LogLevel, message: string, meta?: LogMetadata | undefined) {\r\n      return\r\n    }\r\n\r\n    trace(message: string, meta?: LogMetadata | undefined) {\r\n      return\r\n    }\r\n\r\n    info(message: string, meta?: LogMetadata | undefined) {\r\n      return\r\n    }\r\n\r\n    debug(message: string, meta?: LogMetadata | undefined) {\r\n      return\r\n    }\r\n\r\n    error(message: string, meta?: LogMetadata | undefined) {\r\n      return\r\n    }\r\n\r\n    warn(message: string, meta?: LogMetadata | undefined) {\r\n      return\r\n    }\r\n}\r\n\r\nconst logger = new DebugLogger();\r\n\r\nRuntime.install({ logger });\r\n\r\nasync function run() {\r\n  const worker = await Worker.create({\r\n    taskQueue: 'pull-deposits',\r\n  });\r\n\r\n  await worker.run();\r\n}\r\n\r\nrun().catch((err) => {\r\n  logger.error(err);\r\n  process.exit(1);\r\n});\r\n```\r\n\r\nThen you should run this worker and see the following logs for it:\r\n<img width=\"878\" alt=\"Screenshot 2022-12-26 at 10 20 13\" src=\"https://user-images.githubusercontent.com/23564120/209537619-d696aa3d-803a-4c6b-bdec-7a7601eaea35.png\">\r\n\r\nAnd without this logger,\r\n```\r\nimport { Worker } from '@temporalio/worker';\r\n\r\nasync function run() {\r\n  const worker = await Worker.create({\r\n    taskQueue: 'pull-deposits',\r\n  });\r\n\r\n  await worker.run();\r\n}\r\n\r\nrun().catch((err) => {\r\n  process.exit(1);\r\n});\r\n```\r\n\r\nWe see the following at the terminal:\r\n<img width=\"878\" alt=\"Screenshot 2022-12-26 at 10 25 20\" src=\"https://user-images.githubusercontent.com/23564120/209538140-34d47a28-4225-4b82-8e5f-18ee0bfb1509.png\">\r\n\r\nIs this suppose to happen? Are we missing something from the logging steps in the guides?\r\n\r\n### Environment/Versions\r\n\r\n- OS and processor: M1 Mac\r\n- Temporal Version: Temporal Server -> 1.19.0, Temporal Typescript SDK -> 1.5.2\r\n- Are you using Docker or Kubernetes or building Temporal from source? Docker\r\n\r\n### Additional context\r\nN/A","closedAt":"2022-12-26T16:57:53Z","comments":[{"id":"IC_kwDOEujx185RYJch","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Those logs are emitted from Rust core.\r\nYou'll need to set up log forwarding in the runtime options:\r\n\r\n```ts\r\nRuntime.install({\r\n  logger,\r\n  telemetryOptions: {\r\n    logging: {\r\n      filter: makeTelemetryFilterString({ core: logLevel, other: logLevel }),\r\n      forward: {},\r\n    },\r\n  },\r\n})\r\n```","createdAt":"2022-12-26T16:57:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1006#issuecomment-1365284641","viewerDidAuthor":false},{"id":"IC_kwDOEujx185RYKt2","author":{"login":"jcm300"},"authorAssociation":"NONE","body":"Yup, we were missing that part.\r\nThank you!","createdAt":"2022-12-26T17:09:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1006#issuecomment-1365289846","viewerDidAuthor":false}],"createdAt":"2022-12-26T10:44:45Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1006,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Some logs not being done with our custom logger","updatedAt":"2022-12-26T17:09:47Z","url":"https://github.com/temporalio/sdk-typescript/issues/1006"}
