{"assignees":[],"author":{"id":"MDQ6VXNlcjI4MDY4OTc3","is_bot":false,"login":"Irvenae","name":"Irven Aelbrecht"},"body":"### What are you really trying to do?\r\n\r\nI am trying to get logs in my output when I am replaying a workflow. I am using my own logger, which is based on https://github.com/temporalio/samples-typescript/tree/main/instrumentation before it had the default helper functions.\r\n\r\n### Describe the bug\r\n\r\nNo log output when replaying a workflow that uses interceptors.\r\n\r\nScreenshot when running the workflow (mind that in my example I changed the winston logger with a console logger, in my non-public code I am using a winston logger though):\r\n<img width=\"589\" alt=\"Screenshot 2022-12-09 at 13 41 46\" src=\"https://user-images.githubusercontent.com/28068977/206704986-cd59a6fe-3ddf-423e-a576-929ee4e94a55.png\">\r\n\r\nScreenshot when replaying the workflow:\r\n\r\n<img width=\"913\" alt=\"Screenshot 2022-12-09 at 13 42 11\" src=\"https://user-images.githubusercontent.com/28068977/206705064-a3c6c659-b68a-4659-9b3d-bb1aebb88979.png\">\r\n\r\n(Mind that the sink is known, otherwise you get `Workflow referenced an unregistered external sink` (which is not seen now))\r\nI am running the test with Jest.\r\n\r\n### Minimal Reproduction\r\n\r\nI think you can reproduce by running https://github.com/temporalio/samples-typescript/tree/main/instrumentation\r\ncombined with https://github.com/temporalio/samples-typescript/tree/main/replay-history.\r\n\r\nI can make a branch if necessary, but this feels as quite basic functionality.\r\n\r\n### Environment/Versions\r\n\r\nMac M1\r\nTemporal SDK 1.5.2\r\nTemporal in docker.\r\nNode version: v16.15.0\r\n","closedAt":"2022-12-13T10:55:44Z","comments":[{"id":"IC_kwDOEujx185QTTZc","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Hey,\r\nThanks for reporting.\r\nI agree that we should allow logs to be emitted during replays, we just got a [contribution for Go SDK](https://github.com/temporalio/sdk-go/pull/979) to make this configurable.\r\n\r\nWe should add the same in TS.","createdAt":"2022-12-12T20:11:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/996#issuecomment-1347237468","viewerDidAuthor":false},{"id":"IC_kwDOEujx185QW6Sn","author":{"login":"Irvenae"},"authorAssociation":"NONE","body":"Seems like you can set it on a more general level: https://github.com/temporalio/sdk-typescript/blob/a661d16473774efb965a41fd3104a54da7c3a69f/packages/worker/src/sinks.ts#L26\r\n\r\nthanks @mjameswh for the suggestion.","createdAt":"2022-12-13T10:55:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/996#issuecomment-1348183207","viewerDidAuthor":false}],"createdAt":"2022-12-09T12:48:54Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":996,"reactionGroups":[],"state":"CLOSED","title":"[Bug] replay workflow with log interceptor not showing logs","updatedAt":"2022-12-13T10:55:44Z","url":"https://github.com/temporalio/sdk-typescript/issues/996"}
