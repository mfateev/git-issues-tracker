{"assignees":[],"author":{"id":"MDQ6VXNlcjI1MTI4OA==","is_bot":false,"login":"lorensr","name":"Loren ☺️"},"body":"![image](https://user-images.githubusercontent.com/251288/128804711-65a74d0d-f4c5-4e07-b84d-70ace76979d7.png)\r\n\r\nI followed the `Environment set up` instructions through `npm ci` and then tried `npm run build` and got `Error: could not find the `cargo` executable.`\r\n\r\n<details>\r\n\r\n```\r\nnpm run build\r\n\r\n> typescript-sdk@ build /Users/me/gh/sdk-node\r\n> lerna run --stream build\r\n\r\nlerna notice cli v4.0.0\r\nlerna info versioning independent\r\nlerna info Executing command in 6 packages: \"npm run build\"\r\n@temporalio/core-bridge: > @temporalio/core-bridge@0.2.0 build /Users/me/gh/sdk-node/packages/core-bridge\r\n@temporalio/core-bridge: > npm run build-rust\r\n@temporalio/create: > @temporalio/create@0.3.3 build /Users/me/gh/sdk-node/packages/create-project\r\n@temporalio/create: > tsc --build\r\n@temporalio/core-bridge: > @temporalio/core-bridge@0.2.0 build-rust /Users/me/gh/sdk-node/packages/core-bridge\r\n@temporalio/core-bridge: > TEMPORAL_WORKER_FORCE_BUILD=true node ./scripts/build.js\r\n@temporalio/core-bridge: Force build via TEMPORAL_WORKER_FORCE_BUILD env var\r\n@temporalio/core-bridge: Compiling bridge { target: undefined }\r\n@temporalio/core-bridge: Error: could not find the `cargo` executable.\r\n@temporalio/core-bridge: You can find instructions for installing Rust and Cargo at:\r\n@temporalio/core-bridge:     https://www.rust-lang.org/tools/install\r\n@temporalio/core-bridge: Did not copy \"cdylib:temporal_sdk_node_bridge\"\r\n@temporalio/core-bridge: /Users/me/gh/sdk-node/packages/core-bridge/scripts/build.js:56\r\n@temporalio/core-bridge:     throw new Error(`Failed to build${target ? ' for ' + target : ''}`);\r\n@temporalio/core-bridge:     ^\r\n@temporalio/core-bridge: Error: Failed to build\r\n@temporalio/core-bridge:     at compile (/Users/me/gh/sdk-node/packages/core-bridge/scripts/build.js:56:11)\r\n@temporalio/core-bridge:     at Object.<anonymous> (/Users/me/gh/sdk-node/packages/core-bridge/scripts/build.js:107:5)\r\n@temporalio/core-bridge:     at Module._compile (internal/modules/cjs/loader.js:1063:30)\r\n@temporalio/core-bridge:     at Object.Module._extensions..js (internal/modules/cjs/loader.js:1092:10)\r\n@temporalio/core-bridge:     at Module.load (internal/modules/cjs/loader.js:928:32)\r\n@temporalio/core-bridge:     at Function.Module._load (internal/modules/cjs/loader.js:769:14)\r\n@temporalio/core-bridge:     at Function.executeUserEntryPoint [as runMain] (internal/modules/run_main.js:72:12)\r\n@temporalio/core-bridge:     at internal/main/run_main_module.js:17:47\r\n@temporalio/core-bridge: npm ERR! code ELIFECYCLE\r\n@temporalio/core-bridge: npm ERR! errno 1\r\n@temporalio/core-bridge: npm ERR! @temporalio/core-bridge@0.2.0 build-rust: `TEMPORAL_WORKER_FORCE_BUILD=true node ./scripts/build.js`\r\n@temporalio/core-bridge: npm ERR! Exit status 1\r\n@temporalio/core-bridge: npm ERR! \r\n@temporalio/core-bridge: npm ERR! Failed at the @temporalio/core-bridge@0.2.0 build-rust script.\r\n@temporalio/core-bridge: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n@temporalio/core-bridge: npm WARN Local package.json exists, but node_modules missing, did you mean to install?\r\n@temporalio/core-bridge: npm ERR! A complete log of this run can be found in:\r\n@temporalio/core-bridge: npm ERR!     /Users/me/.npm/_logs/2021-08-07T15_21_04_953Z-debug.log\r\n@temporalio/core-bridge: npm ERR! code ELIFECYCLE\r\n@temporalio/core-bridge: npm ERR! errno 1\r\n@temporalio/core-bridge: npm ERR! @temporalio/core-bridge@0.2.0 build: `npm run build-rust`\r\n@temporalio/core-bridge: npm ERR! Exit status 1\r\n@temporalio/core-bridge: npm ERR! \r\n@temporalio/core-bridge: npm ERR! Failed at the @temporalio/core-bridge@0.2.0 build script.\r\n@temporalio/core-bridge: npm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n@temporalio/core-bridge: npm WARN Local package.json exists, but node_modules missing, did you mean to install?\r\n@temporalio/core-bridge: npm ERR! A complete log of this run can be found in:\r\n@temporalio/core-bridge: npm ERR!     /Users/me/.npm/_logs/2021-08-07T15_21_05_005Z-debug.log\r\nlerna ERR! npm run build exited 1 in '@temporalio/core-bridge'\r\nlerna WARN complete Waiting for 1 child process to exit. CTRL-C to exit immediately.\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! typescript-sdk@ build: `lerna run --stream build`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the typescript-sdk@ build script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /Users/me/.npm/_logs/2021-08-07T15_21_05_054Z-debug.log\r\n```\r\n\r\n</details>\r\n\r\nAfter following [building.md instructions](https://github.com/temporalio/sdk-node/blob/main/docs/building.md) (and doing [lerna clean -f](https://github.com/temporalio/sdk-node/issues/176)), I'm now able to build.\r\n\r\nDo all Macs need to do building.md instructions in order to `npm run build`, or just a subset of them? ","closedAt":"2021-08-17T14:45:00Z","comments":[{"id":"IC_kwDOEujx1841ZLRZ","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"The fact that you needed to run `lerna clean -f` means that you probably missed a step on your first attempt.\r\nCross compilation is not required for contributing, it's only required for publishing the packages.\r\nYou should have had cargo installed if you'd finished the env setup.\r\nMaybe we should conclude the setup part with a check `which cargo` to verify that everything was set up properly?\r\nI'd also add a `Something isn't working, how do I reset my env` section where we mention `npx lerna clean -- -f && npm ci`.\r\n\r\nDoes that clarify things?","createdAt":"2021-08-10T07:20:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/184#issuecomment-895792217","viewerDidAuthor":false},{"id":"IC_kwDOEujx1841a--1","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Yes, thanks!","createdAt":"2021-08-10T19:40:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/184#issuecomment-896266165","viewerDidAuthor":false}],"createdAt":"2021-08-10T03:44:27Z","labels":[],"milestone":null,"number":184,"reactionGroups":[],"state":"CLOSED","title":"Clarify Mac contributing set up instructions","updatedAt":"2021-08-17T14:45:00Z","url":"https://github.com/temporalio/sdk-typescript/issues/184"}
