{"assignees":[],"author":{"id":"U_kgDOBpgmCg","is_bot":false,"login":"roberto-retool","name":""},"body":"### Is your feature request related to a problem? Please describe.\nWe currently use the `uuid4()` function pretty heavily to generate unique ids within Workflow Tasks. For some use cases we want to generate UUIDv7 IDs for better indexing and sorting semantics. We cannot use the `uuid` npm package because it depends on the `crypto` module.\nWe've already added this function to our codebase, but it'd be helpful to merge upstream to expand the functionality provided by `uuid4`. \n\n### Describe the solution you'd like\n\nThe function can have an identical signature to the [uuid4 function](https://github.com/temporalio/sdk-typescript/blob/5473ebd3442d00624fb0ed20fa82f8d5bd78e8fd/packages/workflow/src/workflow.ts#L1067).\n\ne.g. our implementation is:\n```\nexport function uuid7() {\n  // Return the hexadecimal text representation of number `n`, padded with zeroes to be of length `p`\n  const ho = (n: number, p: number) => n.toString(16).padStart(p, '0')\n\n  // Get current timestamp in milliseconds since Unix epoch\n  const msecs = Date.now()\n\n  // Create a view backed by a 16-byte buffer\n  const view = new DataView(new ArrayBuffer(16))\n\n  // byte 0-5: timestamp (48 bits)\n  // DataView only allows setting bits in 8, 16, 32, 64 increments, so set using 32 + 16 chunks.\n  view.setUint32(0, Math.floor(msecs / 0x10000))\n  view.setUint16(4, msecs & 0xffff)\n  // byte 6-7: version (4 bits, 0x7) + random (12 bits)\n  view.setUint16(6, (0x7 << 12) | ((Math.random() * 0x1000) >>> 0))\n  // byte 8-9: variant (2 bits, we always use 0x2) + random (14 bits)\n  view.setUint16(8, (0x2 << 14) | (((Math.random() * 0x100000) >>> 0) & 0x3fff))\n  // bytes 10-15: random (48 bits)\n  view.setUint32(10, (Math.random() * 0x100000000) >>> 0)\n  view.setUint16(14, (Math.random() * 0x10000) >>> 0)\n\n  // Compile the canonical textual form from the array data\n  return `${ho(view.getUint32(0), 8)}-${ho(view.getUint16(4), 4)}-${ho(view.getUint16(6), 4)}-${ho(\n    view.getUint16(8),\n    4,\n  )}-${ho(view.getUint32(10), 8)}${ho(view.getUint16(14), 4)}`\n}\n```\n\n### Additional context\n\n<!-- Add any other context or screenshots about the feature request here. -->\n","closedAt":null,"comments":[],"createdAt":"2025-08-26T17:59:35Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1775,"reactionGroups":[],"state":"OPEN","title":"[Feature Request] Support for creating v7 UUIDs from within Workflow Tasks","updatedAt":"2025-08-26T17:59:35Z","url":"https://github.com/temporalio/sdk-typescript/issues/1775"}
