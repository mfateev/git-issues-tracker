{"assignees":[{"id":"MDQ6VXNlcjUyMzA0","login":"bergundy","name":"Roey Berman","databaseId":0}],"author":{"id":"MDQ6VXNlcjE1Njc0OTg=","is_bot":false,"login":"schickling","name":"Johannes Schickling"},"body":"While trying to setup Opentelemetry support for my app (by following the [example project](https://github.com/temporalio/samples-typescript/tree/main/interceptors-opentelemetry)) I was facing the following bugs:\r\n\r\n- [x] The timing seems off (see `18922d 10h`) ðŸ˜‚ \r\n\r\n![image](https://user-images.githubusercontent.com/1567498/138485085-f079fe96-e110-40bd-9b68-152f90cb8477.png)\r\n\r\n- [x] Some spans don't use the configured `serviceName` (e.g. here should be `temporal-app` instead of `OTLPResourceNoServiceName `)\r\n\r\n![CleanShot 2021-10-22 at 17 50 45](https://user-images.githubusercontent.com/1567498/138485449-1c0ab007-8004-4f70-9b83-3a8da1f63a56.png)\r\n\r\n- [x] Non-app/SDK-internal traces should be disabled/hidden by default\r\n\r\n![image](https://user-images.githubusercontent.com/1567498/138485191-cc58eb88-b49b-4a06-8152-72c132a3b034.png)\r\n\r\n- [x] Child workflows are not connected to root workflows (i.e. the child workflow span `workflow.execute` should be a child span of the root `workflow.schedule`)\r\n\r\n![image](https://user-images.githubusercontent.com/1567498/138485664-ab994577-2d3f-4e2f-b331-4684f09d2ded.png)\r\n","closedAt":"2021-10-28T17:06:51Z","comments":[{"id":"IC_kwDOEujx1844nCHu","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Also ContinueAsNew should be traced and the package should be compatible with the Java / Golang opentracing implementation.","createdAt":"2021-10-22T15:55:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/330#issuecomment-949756398","viewerDidAuthor":false},{"id":"IC_kwDOEujx1844t7TC","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"@schickling this is one of the next items on my list.","createdAt":"2021-10-26T05:04:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"ROCKET","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/330#issuecomment-951563458","viewerDidAuthor":false},{"id":"IC_kwDOEujx1844vzUR","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"`OLTPResourceNoServiceName` is caused by not passing the created otel resource to `makeWorkflowExporter`.\r\nI'll make it required.","createdAt":"2021-10-26T15:28:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/330#issuecomment-952055057","viewerDidAuthor":false},{"id":"IC_kwDOEujx1844wgPu","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I'm marking things I solved locally as done, will make a PR when it's all done.","createdAt":"2021-10-26T19:20:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/330#issuecomment-952239086","viewerDidAuthor":false}],"createdAt":"2021-10-22T15:54:04Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":2,"title":"beta","description":"","dueOn":null},"number":330,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Opentelemetry bugs/findings","updatedAt":"2021-10-28T17:06:51Z","url":"https://github.com/temporalio/sdk-typescript/issues/330"}
