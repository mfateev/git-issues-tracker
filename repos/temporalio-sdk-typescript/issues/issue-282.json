{"assignees":[],"author":{"id":"MDQ6VXNlcjEyODU0OTU1","is_bot":false,"login":"siliconprime-hoanguyen","name":""},"body":"### Describe the bug\r\n\r\n```\r\n    const { Connection, WorkflowClient } = require('@temporalio/client');\r\n    const connection = new Connection({\r\n      address: '54.193.125.26:7233', // this server is currently running at the moment of reporting\r\n    });\r\n    const client = new WorkflowClient(connection.service);\r\n    const wf = client.createWorkflowHandle({ workflowId: '7b8c9ba1-0e33-4b87-93e7-eab949c57a6e-onboarding' });\r\n    // Workflow is complete.\r\n    const user1 = await wf.query.user();  // this is OK\r\n    console.log(user1);\r\n    const user2 = await wf.query.user();  // this returns error\r\n    console.log(user2);\r\n```\r\nThe error is\r\n\r\n```\r\ntemporal-worker | 2021-10-06T08:13:39.689Z [WARNING] Poll resulted in WorkflowError, converting to a removeFromCache job { runId: 'cf4a8919-0403-42db-ba36-e3dc069aa513' }\r\ntemporal-worker | 2021-10-06T08:13:39.694Z [WARNING] [temporal_sdk_core::workflow::workflow_tasks] Attempted to complete activation for nonexistent run run_id=\"cf4a8919-0403-42db-ba36-e3dc069aa513\"\r\n```\r\n### To Reproduce\r\n\r\nPlease refer to the above\r\n\r\n### Expected behavior\r\n\r\nThe second query should be successful otherwise better error message is expected.\r\n\r\n### Screenshots/Terminal output\r\n<img width=\"718\" alt=\"image\" src=\"https://user-images.githubusercontent.com/12854955/136165974-ab0d6eda-52fe-4e5a-ad83-418c680bed91.png\">\r\n\r\n### Versions\r\n\r\n```\r\n    \"@temporalio/client\": \"^0.8.0\",\r\n    \"@temporalio/workflow\": \"^0.9.0\",\r\n   \"@temporalio/worker\": \"^0.10.0\",\r\n```\r\n\r\n- OS: Mac OS Catalina\r\n- Temporal server is running on docker compose: https://github.com/temporalio/docker-compose\r\n- Are you using Docker or Kubernetes or building Temporal from source? Docker\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n","closedAt":"2021-10-12T15:32:56Z","comments":[{"id":"IC_kwDOEujx18431C9H","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"@siliconprime-hoanguyen I believe this has already been fixed in core via https://github.com/temporalio/sdk-core/pull/199\r\n\r\nThe next release of the Node SDK will include the fix. Please let us know if you still have the issue then, or if you'd like to try against master sooner.","createdAt":"2021-10-06T16:39:52Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/282#issuecomment-936652615","viewerDidAuthor":false},{"id":"IC_kwDOEujx1844GHCl","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Closing as this should be fixed in `main`, please verify after the next release.","createdAt":"2021-10-12T15:32:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/282#issuecomment-941125797","viewerDidAuthor":false}],"createdAt":"2021-10-06T08:35:05Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":282,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Unknown failure during querying complete workflow.","updatedAt":"2021-10-12T15:32:56Z","url":"https://github.com/temporalio/sdk-typescript/issues/282"}
