{"assignees":[],"author":{"id":"MDQ6VXNlcjI1MTI4OA==","is_bot":false,"login":"lorensr","name":"Loren ☺️"},"body":"If you `throw { }` or `throw new Error(\"error in workflow\")` in a Workflow, the Worker outputs:\r\n\r\n```\r\n2022-02-02T17:41:23.579Z [WARN] [temporal_sdk_core::worker] Failing workflow activation run_id=\"c14a832e-ec8f-4d04-8019-013002e629da\" failure=Failure { failure: Some(Failure { message: \"Error: error in workflow\", source: \"TypeScriptSDK\", stack_trace: \"\", cause: None, failure_info: None }) } \r\n```\r\n\r\nBut if you throw an instance of `TemporalFailure`, there's no output. \r\n\r\nRelated:  https://github.com/temporalio/sdk-typescript/issues/407","closedAt":"2022-07-11T22:51:01Z","comments":[{"id":"IC_kwDOEujx1849Slmy","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"You're not supposed to directly throw `TemporalFailure`, it's up to the framework to do that.\r\n\r\nI would add a logger for activity tasks and workflow activations.\r\nWe already have DEBUG logging, maybe we just need to increase the log level.","createdAt":"2022-02-02T19:27:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/461#issuecomment-1028282802","viewerDidAuthor":false},{"id":"IC_kwDOEujx1849Snep","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"> You're not supposed to directly throw TemporalFailure, it's up to the framework to do that.\r\n\r\nI meant anything that has `TemporalFailure` as an ancestor.\r\n\r\n![image](https://user-images.githubusercontent.com/251288/152223766-a8819ff6-2c31-4a7c-94bb-d3e4655910e3.png)\r\n\r\nI took these docs to mean that I, as a user, should sometimes throw `ApplicationFailure`s and make my own errors by extending `TemporalFailure`. Also, I know that if I don't extend `TemporalFailure`, and just throw `new Error()`, I'll just fail the WorkflowTask, versus sometimes I might want to fail the WorkflowExecution.","createdAt":"2022-02-02T19:37:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/461#issuecomment-1028290473","viewerDidAuthor":false},{"id":"IC_kwDOEujx1849TMTl","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"You're not supposed to subclass any of the failure classes, they have a one to one mapping with the proto definitions.\r\nTo fail the workflow execution you should throw an `ApplicationFailure`.","createdAt":"2022-02-02T23:06:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/461#issuecomment-1028441317","viewerDidAuthor":false},{"id":"IC_kwDOEujx1849VPkg","author":{"login":"swyxio"},"authorAssociation":"CONTRIBUTOR","body":"we should probably document that better","createdAt":"2022-02-03T13:14:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/461#issuecomment-1028978976","viewerDidAuthor":false},{"id":"IC_kwDOEujx1849V2Vi","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Yep, will do\n\nOn Thu, Feb 3, 2022 at 8:14 AM swyx ***@***.***> wrote:\n\n> we should probably document that better\n>\n> —\n> Reply to this email directly, view it on GitHub\n> <https://github.com/temporalio/sdk-typescript/issues/461#issuecomment-1028978976>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAB5LGANEARMWGJUNIIEZXTUZJ5SJANCNFSM5NM3XXFQ>\n> .\n> You are receiving this because you authored the thread.Message ID:\n> ***@***.***>\n>\n","createdAt":"2022-02-03T15:59:04Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/461#issuecomment-1029137762","viewerDidAuthor":false}],"createdAt":"2022-02-02T18:55:13Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":461,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Log all errors in Worker","updatedAt":"2022-07-11T22:51:01Z","url":"https://github.com/temporalio/sdk-typescript/issues/461"}
