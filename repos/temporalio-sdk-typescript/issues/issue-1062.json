{"assignees":[],"author":{"id":"U_kgDOB2ZAVA","is_bot":false,"login":"ethanclear","name":""},"body":"### What are you really trying to do?\r\nI'm trying to pass 2 query params with the TS SDK listWorkflowExecutions.\r\n<!-- \r\nTell us at a high level what you're doing, to avoid XY problem (https://en.wikipedia.org/wiki/XY_problem) \r\n-->\r\nI'm putting only 1 query params then filter it on my side.\r\n\r\n### Describe the bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\nWhen adding a params with a \"AND\" exactly like it should be i'm getting an error\r\nexample: WorkflowType = '${name}' AND ExecutionStatus = \"Running\"\r\n\r\n<!-- If applicable, add screenshots or code blocks to help explain your problem. You can also use [Loom](http://loom.com/) to do short, free video bug reports. -->\r\n<img width=\"668\" alt=\"image\" src=\"https://user-images.githubusercontent.com/124141652/220065706-c56e5df5-97a2-4486-84c8-186d607ac549.png\">\r\n\r\n### The Error.\r\n\r\nError: 2 UNKNOWN: too many filter conditions specified\r\n    at Object.callErrorFromStatus (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/node_modules/@grpc/grpc-js/src/call.ts:81:17)\r\n    at Object.onReceiveStatus (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/node_modules/@grpc/grpc-js/src/client.ts:358:36)\r\n    at /Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/node_modules/@grpc/grpc-js/src/call-stream.ts:210:27\r\n    at Object.onReceiveStatus (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/src/grpc-retry.ts:176:17)\r\n    at Object.onReceiveStatus (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/node_modules/@grpc/grpc-js/src/client-interceptors.ts:462:34)\r\n    at Object.onReceiveStatus (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/node_modules/@grpc/grpc-js/src/client-interceptors.ts:424:48)\r\n    at /Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/node_modules/@grpc/grpc-js/src/call-stream.ts:334:24\r\n    at processTicksAndRejections (node:internal/process/task_queues:77:11)\r\nfor call at\r\n    at ServiceClientImpl.makeUnaryRequest (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/node_modules/@grpc/grpc-js/src/client.ts:328:30)\r\n    at Service.rpcImpl (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@temporalio/client/src/connection.ts:341:21)\r\n    at Service.rpcCall (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/protobufjs/src/rpc/service.js:94:21)\r\n    at executor (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@protobufjs/aspromise/index.js:44:16)\r\n    at new Promise (<anonymous>)\r\n    at Object.asPromise (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@protobufjs/aspromise/index.js:28:12)\r\n    at Service.rpcCall (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/protobufjs/src/rpc/service.js:86:21)\r\n    at Service.listWorkflowExecutions (eval at Codegen (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/node_modules/@protobufjs/codegen/index.js:50:33), <anonymous>:4:15)\r\n    at TemporalService.getPendingWorkflowExecutions (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/src/temporal.service.ts:25:63)\r\n    at SpecController.getPendingSpecs (/Users/ethansayagh/Desktop/DEV/work/clear/cal/catalog-service/src/spec/spec.controller.ts:17:57) {\r\n  code: 2,\r\n  details: 'too many filter conditions specified',\r\n  metadata: Metadata {\r\n    internalRepr: Map(1) { 'content-type' => [Array] },\r\n    options: {}\r\n  }\r\n","closedAt":"2023-03-09T00:16:28Z","comments":[{"id":"IC_kwDOEujx185Vqx__","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Hi, I’m not sure I understand exactly what the problem is.\r\nWhat error are you getting?\r\n\r\nSide note: there’s a friendlier API for listing workflows, it won’t help your issue though.\r\n\r\nhttps://typescript.temporal.io/api/classes/client.WorkflowClient#list\r\n\r\nhttps://github.com/temporalio/samples-typescript/blob/ba6208155bc7b547c76931b7e14e92ce4594af28/food-delivery/apps/driver/pages/api/%5Btrpc%5D.ts#L19\r\n","createdAt":"2023-02-20T16:25:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1062#issuecomment-1437278207","viewerDidAuthor":false},{"id":"IC_kwDOEujx185Vtqyk","author":{"login":"ethanclear"},"authorAssociation":"NONE","body":"Updated","createdAt":"2023-02-21T08:25:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1062#issuecomment-1438035108","viewerDidAuthor":false},{"id":"IC_kwDOEujx185Vt9Zp","author":{"login":"ethanclear"},"authorAssociation":"NONE","body":"Using the list method you gave me i get the same error: 2 UNKNOWN: too many filter conditions specified","createdAt":"2023-02-21T09:08:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1062#issuecomment-1438111337","viewerDidAuthor":false},{"id":"IC_kwDOEujx185Vu9Ak","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"That error message indicates that your temporal server is using a persistance backend that do not support queries containing two filter predicates.\n\nHow is your temporal server deployed, which version, and which persistance backend are you using?","createdAt":"2023-02-21T12:09:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1062#issuecomment-1438371876","viewerDidAuthor":false},{"id":"IC_kwDOEujx185WeASO","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"@ethanclear Is this resolved?","createdAt":"2023-03-01T19:04:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1062#issuecomment-1450706062","viewerDidAuthor":false},{"id":"IC_kwDOEujx185XFiRi","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I'm closing this, please reopen if you feel this isn't resolved.","createdAt":"2023-03-09T00:16:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1062#issuecomment-1461068898","viewerDidAuthor":false}],"createdAt":"2023-02-20T09:27:31Z","labels":[],"milestone":null,"number":1062,"reactionGroups":[],"state":"CLOSED","title":"listWorkflowExecutions accept only 1 query params.","updatedAt":"2023-03-09T00:16:29Z","url":"https://github.com/temporalio/sdk-typescript/issues/1062"}
