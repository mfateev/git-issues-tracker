{"assignees":[{"id":"MDQ6VXNlcjUyMzA0","login":"bergundy","name":"Roey Berman","databaseId":0}],"author":{"id":"MDQ6VXNlcjU0MjI1NQ==","is_bot":false,"login":"zomble","name":"Paul Croker"},"body":"**Describe the bug**\r\n\r\nWorkflow fails due to eval call in webpack generated code.\r\n\r\n**To Reproduce**\r\n\r\nSteps to reproduce the behaviour:\r\n\r\n1. Follow examples (with sourcemaps)\r\n2. Run a workflow.\r\n\r\n**Expected behaviour**\r\n\r\nWorkflow executes.\r\n\r\n**Screenshots/Terminal output**\r\n\r\n```\r\n{\r\n  \"message\": \"Code generation from strings disallowed for this context\",\r\n  \"source\": \"\",\r\n  \"stackTrace\": \"EvalError: Code generation from strings disallowed for this context\\n    at Object../build/workflows sync recursive ^\\\\.\\\\/.*\\\\.js$ (<isolated-vm>:118:1)\\n    at __webpack_require__ (<isolated-vm>:623:42)\\n    at eval (webpack://lib/../../../../../../src/main.js?:11:13)\\n    at eval (webpack://lib/./node_modules/@temporalio/workflow/lib/internals.js?:63:25)\\n    at Activator.startWorkflow (webpack://lib/./node_modules/@temporalio/workflow/lib/internals.js?:67:9)\\n    at activate (webpack://lib/./node_modules/@temporalio/workflow/lib/worker-interface.js?:128:45)\",\r\n  \"cause\": null,\r\n  \"applicationFailureInfo\": {\r\n    \"type\": \"EvalError\",\r\n    \"nonRetryable\": false,\r\n    \"details\": null\r\n  },\r\n  \"failureInfo\": \"applicationFailureInfo\"\r\n}\r\n```\r\n\r\n**Versions**\r\n - OS: Linux\r\n - Temporal Version 1.10.0\r\n - Docker\r\n\r\n**Additional context**\r\n\r\nIt's due to default devtool in webpack development mode, `eval`. Either setting the mode to production, or devtool (like \"source-map\") to something else not using eval corrects the issue.\r\n","closedAt":"2021-08-31T14:03:11Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg2OTAyNzIwMQ==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Hi, can you please post a sample Workflow that reproduces this behavior?\r\nWe run the example in CI and I haven't seen any issues with webpack.\r\nI'll look into changing the devtool as you suggested, I just left the default webpack config because it \"just worked\".\r\n","createdAt":"2021-06-26T16:35:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-869027201","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2OTI1MjE5MQ==","author":{"login":"zomble"},"authorAssociation":"NONE","body":"Hey, I can repro following the getting started guide.\r\n\r\nhttps://docs.temporal.io/docs/node/getting-started\r\n\r\n`node lib/worker/schedule-workflow.js` returns\r\n\r\n```\r\nWorkflowExecutionFailedError: Code generation from strings disallowed for this context\r\n    at Connection.untilComplete (/home/user/temporal/example/node_modules/@temporalio/client/lib/index.js:204:19)\r\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\r\n    at async Object.start (/home/user/temporal/example/node_modules/@temporalio/client/lib/index.js:284:25)\r\n    at async run (/home/user/temporal/example/lib/worker/schedule-workflow.js:11:20)\r\n```\r\n\r\nWith this result in temporal as:\r\n\r\n```\r\n{\r\n  \"message\": \"Code generation from strings disallowed for this context\",\r\n  \"source\": \"\",\r\n  \"stackTrace\": \"EvalError: Code generation from strings disallowed for this context\\n    at Object../lib/workflows sync recursive ^\\\\.\\\\/.*\\\\.js$ (<isolated-vm>:30:1)\\n    at __webpack_require__ (<isolated-vm>:524:42)\\n    at eval (webpack://lib/../../../../../src/main.js?:11:13)\\n    at eval (webpack://lib/./node_modules/@temporalio/workflow/lib/internals.js?:63:25)\\n    at Activator.startWorkflow (webpack://lib/./node_modules/@temporalio/workflow/lib/internals.js?:67:9)\\n    at activate (webpack://lib/./node_modules/@temporalio/workflow/lib/worker-interface.js?:128:45)\",\r\n  \"cause\": null,\r\n  \"applicationFailureInfo\": {\r\n    \"type\": \"EvalError\",\r\n    \"nonRetryable\": false,\r\n    \"details\": null\r\n  },\r\n  \"failureInfo\": \"applicationFailureInfo\"\r\n}\r\n```\r\n\r\n![Screenshot (23)](https://user-images.githubusercontent.com/542255/123564266-1d67bb80-d7fc-11eb-8206-f18543f53874.png)\r\n\r\n","createdAt":"2021-06-28T00:32:44Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-869252191","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2OTI1MzQzMg==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Which node version are you using?\r\nI'm trying to figure out why I can't reproduce.","createdAt":"2021-06-28T00:37:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-869253432","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2OTI2MDMxNA==","author":{"login":"zomble"},"authorAssociation":"NONE","body":"$ node --version\r\nv14.17.1\r\n```\r\n$ cat node_modules/temporalio/package.json\r\n{\r\n  \"name\": \"temporalio\",\r\n  \"version\": \"0.2.5\",\r\n  \"description\": \"Temporal.io SDK meta-package\",\r\n  \"dependencies\": {\r\n    \"@temporalio/client\": \"^0.4.3\",\r\n    \"@temporalio/proto\": \"^0.2.3\",\r\n    \"@temporalio/worker\": \"^0.5.0\",\r\n    \"@temporalio/workflow\": \"^0.4.0\"\r\n  },\r\n  \"author\": \"Roey Berman <roey@temporal.io>\",\r\n  \"license\": \"MIT\",\r\n  \"repository\": {\r\n    \"type\": \"git\",\r\n    \"url\": \"git+https://github.com/temporalio/sdk-node.git\"\r\n  },\r\n  \"keywords\": [\r\n    \"temporal\",\r\n    \"workflow\",\r\n    \"isolate\"\r\n  ],\r\n  \"bugs\": {\r\n    \"url\": \"https://github.com/temporalio/sdk-node/issues\"\r\n  },\r\n  \"homepage\": \"https://github.com/temporalio/sdk-node#readme\",\r\n  \"publishConfig\": {\r\n    \"access\": \"public\"\r\n  },\r\n  \"engines\": {\r\n    \"node\": \">=14.0.0\"\r\n  },\r\n  \"gitHead\": \"766f94c1154962fe367f5b2d8737a50bc3badde9\"\r\n}\r\n```","createdAt":"2021-06-28T01:01:34Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-869260314","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2OTM1MTY2MQ==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I'll try to reproduce this when I get the chance","createdAt":"2021-06-28T04:52:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-869351661","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2OTczMDgwNQ==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I tried to reproduce but I can't.\r\nRan with docker image amd64/node:14, followed the instructions on the getting started page and it worked.\r\nI'm using `temporalio@0.2.5` and node `v14.17.1`.\r\nI'm wondering if it's an issue with cached packages since we usually test on fresh machines.\r\nCan you try to run with a different node version (using `nvm` for example) to make sure that you're not using any cached packages on your system?\r\nThat's the best lead I have so far.\r\n","createdAt":"2021-06-28T14:24:45Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-869730805","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3MDEyNTMwMg==","author":{"login":"zomble"},"authorAssociation":"NONE","body":"Okay. Strange.\r\n\r\n```\r\n$ rm -Rf node_modules/\r\n$ rm package-lock.json\r\n$ nvm use 16\r\nNow using node v16.3.0 (npm v7.17.0)\r\n$ npm cache clean --force\r\nnpm WARN using --force Recommended protections disabled.\r\n$ npm install\r\n\r\nadded 125 packages, and audited 126 packages in 20s\r\n\r\n11 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\nfound 0 vulnerabilities\r\n\r\n$ npm run build.watch\r\n[9:32:22 am] Starting compilation in watch mode...\r\n\r\n[9:32:22 am] Found 0 errors. Watching for file changes.\r\n\r\n$ npm run start\r\n\r\n> example@0.1.0 start\r\n> node lib/worker\r\n\r\n2021-06-28T23:36:09.425Z [INFO] asset main.js 4.81 MiB [emitted] (name: main)\r\n2021-06-28T23:36:09.426Z [INFO] runtime modules 1.13 KiB 5 modules\r\n2021-06-28T23:36:09.426Z [INFO] modules by path ./node_modules/ 4.68 MiB\r\n2021-06-28T23:36:09.426Z [INFO]   modules by path ./node_modules/@temporalio/ 4.57 MiB 21 modules\r\n2021-06-28T23:36:09.426Z [INFO]   modules by path ./node_modules/protobufjs/ 51.2 KiB 11 modules\r\n2021-06-28T23:36:09.426Z [INFO]   modules by path ./node_modules/@protobufjs/ 23.7 KiB 7 modules\r\n2021-06-28T23:36:09.426Z [INFO]   ./node_modules/long/src/long.js 39.2 KiB [built] [code generated]\r\n2021-06-28T23:36:09.426Z [INFO]   ./node_modules/ms/index.js 2.95 KiB [built] [code generated]\r\n2021-06-28T23:36:09.426Z [INFO] modules by path ../../../../../src/ 769 bytes\r\n2021-06-28T23:36:09.426Z [INFO]   ../../../../../src/main.js 555 bytes [built] [code generated]\r\n2021-06-28T23:36:09.426Z [INFO]   ../../../../../src/@activities/greeter.js 214 bytes [built] [code generated]\r\n2021-06-28T23:36:09.426Z [INFO] modules by path ./lib/workflows/ 575 bytes\r\n2021-06-28T23:36:09.426Z [INFO]   ./lib/workflows/ sync ^\\.\\/.*\\.js$ 177 bytes [built] [code generated]\r\n2021-06-28T23:36:09.426Z [INFO]   ./lib/workflows/example.js 398 bytes [built] [code generated]\r\n2021-06-28T23:36:09.426Z [INFO] webpack 5.41.0 compiled successfully in 717 ms\r\n2021-06-28T23:36:09.659Z [INFO] Worker state changed { state: 'RUNNING' }\r\n\r\n$ node lib/worker/schedule-workflow\r\n\r\nWorkflowExecutionFailedError: Code generation from strings disallowed for this context\r\n    at Connection.untilComplete (/home/user/temporal/example/node_modules/@temporalio/client/lib/index.js:204:19)\r\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\r\n    at async Object.start (/home/user/temporal/example/node_modules/@temporalio/client/lib/index.js:284:25)\r\n    at async run (/home/user/temporal/example/lib/worker/schedule-workflow.js:11:20)\r\n ```\r\n \r\n The moment I alter  `./node_modules/@temporalio/worker/lib/isolate-builder.js:L123` with `+            devtool: 'cheap-source-map',` or any devtool options that isn't eval including false, and restart the worker.\r\n \r\n```\r\n  $ node lib/worker/schedule-workflow\r\nHello, Temporal!\r\n```\r\n\r\nDo you get if you forcefully set the devtool to something eval based? Just wondering if webpack is selecting false for you over eval, but it shouldn't be.","createdAt":"2021-06-29T00:01:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-870125302","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3MDE0NTA2Mw==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Could it be some environment variable that you have set?\r\nI will explicitly set the devtool so this can't happen but I want to understand why this is happening to you.","createdAt":"2021-06-29T00:51:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-870145063","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3MTc5NTgzMA==","author":{"login":"zomble"},"authorAssociation":"NONE","body":"Hey @bergundy I have been reading through webpack's config code, and I don't see what environment variable would influence webpack outside of NODE_ENV, and DEBUG. Both being not set when I run the examples fyi.\r\n\r\nTy for the change though. I think it makes sense given isolated-vm doesn't allow eval by default.","createdAt":"2021-06-30T23:41:37Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-871795830","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3NDg2MTIwOA==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I'm going to reopen this issue since using a non eval based devtool (#145) causes stack traces to loose the original filename which will make it extremely hard for users to debug failures.\r\nI'll ask the isolated-vm maintainer for some help since we cannot reproduce this.","createdAt":"2021-07-06T15:29:48Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-874861208","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3NTA3NjUxMA==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"@zomble do you by any chance have node aliased?\r\nCan you post the output of `which node` and `env` (omit any sensitive information of course)?","createdAt":"2021-07-06T20:57:57Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-875076510","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3NTE1Nzk3NQ==","author":{"login":"zomble"},"authorAssociation":"NONE","body":"````\r\n$ which node\r\n/home/user/.nvm/versions/node/v14.17.1/bin/node\r\n\r\n$ env\r\nSHELL=/bin/bash\r\nSESSION_MANAGER=local/host:@/tmp/.ICE-unix/43615,unix/host:/tmp/.ICE-unix/43615\r\nQT_ACCESSIBILITY=1\r\nCOLORTERM=truecolor\r\nXDG_CONFIG_DIRS=/etc/xdg/xdg-ubuntu:/etc/xdg\r\nXDG_MENU_PREFIX=gnome-\r\nGNOME_DESKTOP_SESSION_ID=this-is-deprecated\r\nNVM_IOJS_ORG_MIRROR=https://iojs.org/dist\r\nGTK2_MODULES=overlay-scrollbar\r\nLANGUAGE=en_AU:en\r\nMANDATORY_PATH=/usr/share/gconf/ubuntu.mandatory.path\r\nGNOME_SHELL_SESSION_MODE=ubuntu\r\nSSH_AUTH_SOCK=/run/user/1000/keyring/ssh\r\nXMODIFIERS=@im=ibus\r\nDESKTOP_SESSION=ubuntu\r\nSSH_AGENT_PID=43580\r\nGTK_MODULES=gail:atk-bridge\r\nPWD=/home/user\r\nLOGNAME=user\r\nXDG_SESSION_DESKTOP=ubuntu\r\nXDG_SESSION_TYPE=x11\r\nMANPATH=/home/user/.nvm/versions/node/v14.17.1/share/man:/usr/local/man:/usr/local/share/man:/usr/share/man\r\nGPG_AGENT_INFO=/run/user/1000/gnupg/S.gpg-agent:0:1\r\nXAUTHORITY=/run/user/1000/gdm/Xauthority\r\nGJS_DEBUG_TOPICS=JS ERROR;JS LOG\r\nWINDOWPATH=2\r\nHOME=/home/user\r\nUSERNAME=user\r\nIM_CONFIG_PHASE=1\r\nLANG=en_AU.UTF-8\r\nLS_COLORS=rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:\r\nXDG_CURRENT_DESKTOP=ubuntu:GNOME\r\nVTE_VERSION=6003\r\nGNOME_TERMINAL_SCREEN=/org/gnome/Terminal/screen/d5c771fd_c36b_43ef_bff4_860d15b7c91a\r\nINVOCATION_ID=fc0a94a6696649eb98c2d568714a95c3\r\nMANAGERPID=43369\r\nGJS_DEBUG_OUTPUT=stderr\r\nNVM_DIR=/home/user/.nvm\r\nLESSCLOSE=/usr/bin/lesspipe %s %s\r\nXDG_SESSION_CLASS=user\r\nTERM=xterm-256color\r\nDEFAULTS_PATH=/usr/share/gconf/ubuntu.default.path\r\nLESSOPEN=| /usr/bin/lesspipe %s\r\nUSER=user\r\nGNOME_TERMINAL_SERVICE=:1.106\r\nDISPLAY=:1\r\nSHLVL=1\r\nNVM_CD_FLAGS=\r\nQT_IM_MODULE=ibus\r\nXDG_RUNTIME_DIR=/run/user/1000\r\nNVM_NODEJS_ORG_MIRROR=https://nodejs.org/dist\r\nJOURNAL_STREAM=9:78150\r\nXDG_DATA_DIRS=/usr/share/ubuntu:/home/user/.local/share/flatpak/exports/share:/var/lib/flatpak/exports/share:/usr/local/share/:/usr/share/:/var/lib/snapd/desktop:/var/lib/snapd/desktop\r\nPATH=/home/user/.nvm/versions/node/v14.17.1/bin:/home/user/.cargo/bin:/home/user/bin:/home/user/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/snap/bin:/usr/local/go/bin:/home/user/.mos/bin:/home/user/.pulumi/bin\r\nGDMSESSION=ubuntu\r\nDBUS_SESSION_BUS_ADDRESS=unix:path=/run/user/1000/bus\r\nNVM_BIN=/home/user/.nvm/versions/node/v14.17.1/bin\r\n_=/usr/bin/env\r\n````","createdAt":"2021-07-06T23:52:11Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-875157975","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3NTIwNDAyNA==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I don't see anything here that would cause node to disable code generation from strings.\r\nThanks for posting.","createdAt":"2021-07-07T01:45:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-875204024","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg3ODM1Nzg0OA==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"@zomble IDK if you've been following the issue in isolated-vm but can you check if you get the \"right\" error when installing isolated-vm from `main`: `Code generation from large string was denied`?\r\nhttps://github.com/laverdet/isolated-vm/issues/251\r\n","createdAt":"2021-07-12T15:08:12Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-878357848","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg4MTA2NjA1Nw==","author":{"login":"vkarpov15"},"authorAssociation":"CONTRIBUTOR","body":"@bergundy this has started happening in samples-node as of v0.2.5 for me as well. Didn't happen in v0.2.4.\r\n\r\n[This comment](https://github.com/laverdet/isolated-vm/issues/251#issuecomment-876574028) is the likely explanation: my default `maxIsolateMemoryMB` is `30944.29296875` and I get the below error\r\n\r\n```\r\n$ npm run schedule-workflow\r\n\r\n> example2@0.1.0 schedule-workflow /home/val/Workspace/temporalio/samples-node/hello-world\r\n> node ./src/starter\r\n\r\nWorkflowExecutionFailedError: Code generation from strings disallowed for this context\r\n    at Connection.untilComplete (/home/val/Workspace/temporalio/samples-node/hello-world/node_modules/@temporalio/client/lib/index.js:204:19)\r\n    at processTicksAndRejections (internal/process/task_queues.js:97:5)\r\n    at async Object.start (/home/val/Workspace/temporalio/samples-node/hello-world/node_modules/@temporalio/client/lib/index.js:284:25)\r\n    at async run (/home/val/Workspace/temporalio/samples-node/hello-world/src/starter/index.js:10:18)\r\n```\r\n\r\nIf I increase `maxIsolateMemoryMB` to 66250, my hello world example works fine. If I only increase `maxIsolateMemoryMB` to 65000, I get the same error. This would seem to indicate that the isolate is somehow `eval()`-ing an 8 GB string. Does this help in any way? As far as I can tell, the webpack compiled code is only 5 MB, so I haven't been able to guess where this huge `eval()` might be coming from.","createdAt":"2021-07-15T23:09:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-881066057","viewerDidAuthor":false},{"id":"IC_kwDOEujx1840jK4A","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"So I've managed to reproduce this on my mac.\r\nInterestingly, the error appears if with the isolate memory limits of:\r\n- `30944.29296875`\r\n- `30944`\r\nBut not with these values:\r\n- `65000` (more than I have on my 16GB MBP)\r\n- `200`\r\n\r\nI'll post this back in the isolated-vm issue","createdAt":"2021-07-16T18:23:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-881634816","viewerDidAuthor":false},{"id":"IC_kwDOEujx1842G-RJ","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Looks like the fix in `isolated-vm` should allow us to revert #145, I'm adding this issue to the `beta` milestone. ","createdAt":"2021-08-29T14:07:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/139#issuecomment-907797577","viewerDidAuthor":false}],"createdAt":"2021-06-26T01:11:05Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":2,"title":"beta","description":"","dueOn":null},"number":139,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Bug] EvalError: Code generation from strings disallowed for this context","updatedAt":"2021-08-31T14:03:11Z","url":"https://github.com/temporalio/sdk-typescript/issues/139"}
