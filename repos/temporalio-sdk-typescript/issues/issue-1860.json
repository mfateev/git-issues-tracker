{"assignees":[],"author":{"id":"MDQ6VXNlcjI1NTU1MzM=","is_bot":false,"login":"mnahkies","name":"Michael Nahkies"},"body":"### What are you really trying to do?\nWe expect consistent worker performance, as we have a roughly constant load of workflows being processed.\n\n### Describe the bug\n\nWe've been running our worker with this patch applied https://github.com/temporalio/sdk-typescript/pull/1834 using the `1.13.1` SDK.\n\nOTEL interceptors are in use, as well as some custom interceptors. All `AsyncLocalStorage` instances created during workflow execution are being disposed by an Internals interceptor.\n\nWhen we use the patched `1.13.1` SDK we see steady metrics. Updating to `1.13.2` shows a significant degradation in performance.\n\nOn the screenshot you can see on the left the workers CPU usage when running the patched `1.13.2` SDK, on the right reverting to the patched `1.13.1` SDK.\n\n<img width=\"886\" height=\"252\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/85757cd2-3a2b-42be-b31d-27aab30a7b4c\" />\n\nIt's worth noting that the projects dependency tree has no duplicated temporal packages (eg: only a single version of each is in use), and there were no changes to other dependencies (eg: OTEL core packages) between the two builds compared.\n\nI've scanned through the PR's linked in the release notes for `1.13.2`, and whilst there are notable changes around the new plugin functionality, nothing screamed out as obviously responsible for this regression. It's quite possible I've missed something though.\n\n### Minimal Reproduction\nTBD\n\n### Environment/Versions\n\n- OS and processor: Linux\n- Temporal Version: 1.25.2\n- Self hosted in kubernetes\n\n### Additional context\n\nSemi-related: https://github.com/temporalio/sdk-typescript/issues/1859","closedAt":null,"comments":[{"id":"IC_kwDOEujx187eUj_i","author":{"login":"chris-olszewski"},"authorAssociation":"MEMBER","body":"Hello! Could you try `1.14.1`? We removed a lazy loaded module that was added in `1.13.2` that might be behind the regression you saw.","createdAt":"2026-01-09T17:39:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1860#issuecomment-3729932258","viewerDidAuthor":false}],"createdAt":"2025-12-10T09:32:18Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1860,"reactionGroups":[],"state":"OPEN","title":"[Bug] Performance regression from 1.13.1 -> 1.13.2","updatedAt":"2026-01-09T17:39:17Z","url":"https://github.com/temporalio/sdk-typescript/issues/1860"}
