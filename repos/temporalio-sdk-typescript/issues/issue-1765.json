{"assignees":[],"author":{"id":"MDQ6VXNlcjIyNzUyOQ==","is_bot":false,"login":"HalfdanJ","name":"Jonas Jongejan"},"body":"### What are you really trying to do?\n\nRun temporal worker in typescript with sdk version `1.12.2`\n\n### Describe the bug\n\nWe are running a typescript worker, after updating to version 1.12.2 from 1.12.1 our worker keeps crashing in production environment. \n\n```\nNetwork error while sending worker heartbeat ^[\nStatus { \n  code: PermissionDenied, \n  message: \"Request unauthorized.\", \n  details: b\"\\x08\\x07\\x12\\x15Request unauthorized.\\x1a\\x8d\\x01\\nHtype.googleapis.com/temporal.api.errordetails.v1.PermissionDeniedFailure\\x12A\\n?caller has insufficient permissions for namespace '<REDACTED>'\", \n  metadata: MetadataMap { headers: {\"content-type\": \"application/grpc\", \"server\": \"temporal\", \"date\": \"Tue, 19 Aug 2025 14:32:54 GMT\"} }, \n  source: None\n }\n```\n\nThis is not happening when running locally connected to the local temporal dev environment. Only when connecting to Temporal Cloud. \n\nI'm using API key to connect, could this have something to do with it? \n\nI'm noticing in the diff a change was made regarding worker heartbeat. https://github.com/temporalio/sdk-typescript/compare/v1.12.1...v1.12.2#diff-4fbe311f299e2a07f622e1a29cb87cd1950978df54e13a3fe116a3e1bdd201acR307 \n\n\n### Minimal Reproduction\n\nHavent yet made a code sample for this, but can do\n\n### Environment/Versions\n\n- OS and processor: Linux\n- Temporal Version: 1.12.2\n- Are you using Docker or Kubernetes or building Temporal from source? Docker (in Google Cloud Run)\n\n### Additional context\n\n<!-- Add any other context about the problem here. -->\n","closedAt":"2025-08-19T20:17:56Z","comments":[{"id":"IC_kwDOEujx186-0sqj","author":{"login":"THardy98"},"authorAssociation":"MEMBER","body":"Hi @HalfdanJ ,\n\nCould you open a Zendesk ticket for this issue?","createdAt":"2025-08-19T16:49:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1765#issuecomment-3201485475","viewerDidAuthor":false},{"id":"IC_kwDOEujx186-0wmw","author":{"login":"HalfdanJ"},"authorAssociation":"NONE","body":"Done > #15108","createdAt":"2025-08-19T16:55:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1765#issuecomment-3201501616","viewerDidAuthor":false},{"id":"IC_kwDOEujx186-6w_1","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Fixed in [TS SDK v1.12.3](https://github.com/temporalio/sdk-typescript/releases/tag/v1.12.3).","createdAt":"2025-08-19T23:46:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HOORAY","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1765#issuecomment-3203076085","viewerDidAuthor":false}],"createdAt":"2025-08-19T16:00:44Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1765,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Bug] Network error while sending worker heartbeat after updating to 1.12.2","updatedAt":"2025-08-19T23:46:09Z","url":"https://github.com/temporalio/sdk-typescript/issues/1765"}
