{"assignees":[],"author":{"id":"MDQ6VXNlcjY0MTIxNjk=","is_bot":false,"login":"mjameswh","name":"James Watkins-Harvey"},"body":"### Problem\r\n\r\nAt this time, `payloadConverter` must always be provided as a path to a TS/JS file. That requirement comes from the Workflow execution context, as payload converters execute inside the Workflow sandbox. And from there, it was originally decided to extend that requirement to all places that would receive payload converters, in the interest of having consistent APIs. Thereâ€™s no dispute on the fact that having consistent APIs is generally a good thing.\r\n\r\nHowever, in this specific case, experience clearly demonstrates that these other APIs are often used in contexts that go through different deployment logic than Workflow Workers, and therefore, the burden of having to adapt those other deployment logic to that artificial requirement is not reasonable.\r\n\r\n### Describe the solution you'd like\r\n\r\n- For Client and Activity-only workers, support passing pre-instantiated Payload Converters, just the same as we currently pass `payloadCodecs`.\r\n- For Workflow workers, consider the possibility of extracting payload converter from the same bundle as workflow bundles (e.g. look for the presence of a `payloadConverter` named export on the file at `workflowsPath` or inside the prebuilt workflow bundle); a naming conflict (i.e. with a workflow named `payloadConverter` seems very unlikely).\r\n- Same for failure converters.","closedAt":"2024-09-09T13:17:08Z","comments":[{"id":"IC_kwDOEujx186LXJwg","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Duplicate of #1458 ","createdAt":"2024-09-09T13:17:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1506#issuecomment-2338102304","viewerDidAuthor":false}],"createdAt":"2024-08-30T22:18:32Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1506,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Allow passing live `payloadConverter` object on Client and Activity-Worker","updatedAt":"2024-09-09T13:17:09Z","url":"https://github.com/temporalio/sdk-typescript/issues/1506"}
