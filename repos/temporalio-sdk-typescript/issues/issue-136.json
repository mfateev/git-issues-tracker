{"assignees":[{"id":"MDQ6VXNlcjE2MjAyNjU=","login":"vkarpov15","name":"Valeri Karpov","databaseId":0}],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"Currently the samples live in the `create-project` package and are not easily browsable.\r\nThe opentelemetry sample added in https://github.com/temporalio/sdk-node/pull/135 is a first attempt to change that by adding a top level samples directory.\r\n\r\nSamples share a lot of code and configuration (`tsconfig.json`) which we should strive not to duplicate.\r\nA simple solution to keep the code browsable while avoiding duplication is to symlink shared files.\r\nWe should also move the `tsconfig.json` definitions out of the script body and into actual files.\r\nThere will still be duplication within the sample files but I think that's a good enough compromise.\r\nAll samples should have automated testing.","closedAt":"2021-09-29T09:41:10Z","comments":[{"id":"IC_kwDOEujx1841p1Dy","author":{"login":"joebowbeer"},"authorAssociation":"CONTRIBUTOR","body":"What is relationship between samples here and in https://github.com/temporalio/samples-node ?","createdAt":"2021-08-17T09:55:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-900157682","viewerDidAuthor":false},{"id":"IC_kwDOEujx1841qQRp","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Right now, we have samples in both repos, `samples-node` is relatively new.\r\nWe will move most of the samples into that repo once it has automated testing and linting.","createdAt":"2021-08-17T12:49:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-900269161","viewerDidAuthor":false},{"id":"IC_kwDOEujx1842MI1W","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"As discussed yesterday, @lorensr will take care of:\r\n- [ ] Moving the opentelemetry and mtls samples from this repo into the samples-node repo\r\n- [ ] Modifying the package initializer to pull samples from the samples-node repo\r\n- [ ] CI in the samples-node repo","createdAt":"2021-08-31T11:31:47Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-909151574","viewerDidAuthor":false},{"id":"IC_kwDOEujx1842bzQV","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"I'll symlink once https://github.com/temporalio/samples-node/pull/4 is done. Would like to discuss linting & testing on our Tues call","createdAt":"2021-09-06T00:31:52Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-913257493","viewerDidAuthor":false},{"id":"IC_kwDOEujx1843BYfd","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Symlink pros vs cons. Do we want to use them?\r\n\r\n> Samples share a lot of code and configuration (tsconfig.json) which we should strive not to duplicate.\r\n> A simple solution to keep the code browsable while avoiding duplication is to symlink shared files.\r\n\r\n\r\n![image](https://user-images.githubusercontent.com/251288/134042947-29754ca0-1f7d-4210-a68e-21b5fe8eae0e.png)\r\n\r\nPros:\r\n\r\n- When we update one of the shared files, we only have to update a single file\r\n\r\nCons:\r\n\r\n- From @vkarpov15 : My only concern is that the shared config adds friction for devs that want to copy one of the samples into a separate repo using `cp -r`. \r\n- Not as browsable on GitHub. Instead of seeing the file, you get a line of text and have to go navigate to the target file yourself:\r\n\r\n![image](https://user-images.githubusercontent.com/251288/134043196-bfc595c4-665b-4e68-8bea-c6210ea3bbc2.png)\r\nhttps://github.com/lorensr/samples-node/blob/p2/hello-world/tsconfig.json\r\n","createdAt":"2021-09-20T17:01:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-923109341","viewerDidAuthor":false},{"id":"IC_kwDOEujx1843BbAO","author":{"login":"joebowbeer"},"authorAssociation":"CONTRIBUTOR","body":"Having the samples interdependent via shared config is also a drag on the developer, who just wants to copy and paste one example to get started.  But I can understand the trade-off.\r\n\r\nHowever, I would be annoyed and a little frightened if I had to deal with symlinks. How do you even do them portably? I fear that's venturing into husky territory, where I do not go.","createdAt":"2021-09-20T17:13:50Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-923119630","viewerDidAuthor":false},{"id":"IC_kwDOEujx1843Blut","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Alternative suggestion from Val: precommit hook that copies root tsconfig to each sample","createdAt":"2021-09-20T18:15:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-923163565","viewerDidAuthor":false},{"id":"IC_kwDOEujx1843BoRh","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"> Alternative suggestion from Val: precommit hook that copies root tsconfig to each sample\r\n\r\nI like it, best of both worlds ","createdAt":"2021-09-20T18:28:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-923173985","viewerDidAuthor":false},{"id":"IC_kwDOEujx1843bu1o","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I'm closing this, the samples have been moved out of this repo into `samples-node`.\r\nThanks @lorensr for the awesome work on the new `@temporalio/create` package.","createdAt":"2021-09-29T09:41:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/136#issuecomment-930016616","viewerDidAuthor":false}],"createdAt":"2021-06-24T10:10:19Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyNTQ1Mzg0MDE2","name":"good first issue","description":"Good for newcomers","color":"7057ff"}],"milestone":{"number":2,"title":"beta","description":"","dueOn":null},"number":136,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Feature Request] Organize samples in repo","updatedAt":"2021-09-29T09:41:10Z","url":"https://github.com/temporalio/sdk-typescript/issues/136"}
