{"assignees":[],"author":{"id":"MDQ6VXNlcjMwMTU4ODcw","is_bot":false,"login":"samwaterbury","name":"Sam Waterbury"},"body":"### What are you really trying to do?\r\n\r\nI was reading through the release notes while planning to upgrade our team to the latest version of the `@temporalio/*` packages and I found [this note for version 1.8.3](https://github.com/temporalio/sdk-typescript/releases/tag/v1.8.3):\r\n\r\n> - [`client`] Throw `WorkflowExecutionAlreadyStartedError` on `signalWithStart` ([#1199](https://github.com/temporalio/sdk-typescript/pull/1199) thanks to [`@satazor`](https://github.com/satazor) ðŸ™)\r\n\r\nThe [official documentation](https://docs.temporal.io/dev-guide/typescript/features#signal-with-start) describes the signal-with-start pattern by saying the following:\r\n\r\n> Signal-With-Start is used from the Client. It takes a Workflow Id, Workflow arguments, a Signal name, and Signal arguments.\r\n>\r\n> If there's a Workflow running with the given Workflow Id, it will be signaled. If there isn't, a new Workflow will be started and immediately signaled.\r\n\r\nThis implies to me that if the workflow _is_ running, it will be signaled without error. The [API docs](https://typescript.temporal.io/api/classes/client.WorkflowClient#signalwithstart) corroborate this:\r\n\r\n> Sends a Signal to a running Workflow or starts a new one if not already running and immediately Signals it. Useful when you're unsure whether the Workflow has been started.\r\n\r\nI just want verify whether:\r\n\r\n1. I am misunderstanding the release notes or they perhaps were simply worded incorrectly\r\n2. This behavior is in fact changed and `signalWithStart` now throws an exception when the workflow is already running (which would be a pretty hard regression IMO)\r\n\r\nThank you! ðŸ™ ","closedAt":"2023-08-28T20:07:26Z","comments":[{"id":"IC_kwDOEujx185lHAGN","author":{"login":"samwaterbury"},"authorAssociation":"NONE","body":"I forgot the Slack workspace exists â€” copy/pasting the answer I got over there:\r\n\r\n> You are mostly right. In general `signalWithStart` should not throw `WorkflowExecutionAlreadyStartedError`.\r\n\r\n> However, if `signalWithStart` is called with the `workflowIdReusePolicy`: `WORKFLOW_ID_REUSE_POLICY_REJECT_DUPLICATE` option (or some other values), and a workflow with that workflow id already exist, but it is no longer running, then the server would indeed send back that specific error.\r\n\r\n> That is very rare case, as common usage patterns for `signalWithStart` assume that if the workflow is no longer running, then a new execution should be started, and therefore, `workflowIdReusePolicy` will be left to `WORKFLOW_ID_REUSE_POLICY_ALLOW_DUPLICATE` (thatâ€™s the default value)\r\n\r\nGoing to close this issue!","createdAt":"2023-08-28T20:07:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1227#issuecomment-1696334221","viewerDidAuthor":false}],"createdAt":"2023-08-27T19:35:43Z","labels":[],"milestone":null,"number":1227,"reactionGroups":[],"state":"CLOSED","title":"[Clarification] Behavior of `signalWithStart`","updatedAt":"2023-08-28T20:07:58Z","url":"https://github.com/temporalio/sdk-typescript/issues/1227"}
