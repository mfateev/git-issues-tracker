{"assignees":[{"id":"MDQ6VXNlcjUyMzA0","login":"bergundy","name":"Roey Berman","databaseId":0}],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"`WorkflowClient` takes the options first while `WorkflowHandle` takes the workflow type first.\r\n`WorkflowClient` should use the same signature as `WorkflowHandle`.","closedAt":"2021-10-07T20:10:22Z","comments":[{"id":"IC_kwDOEujx18435i0k","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"I've thought about this a bit more.\r\n\r\nThe difference between the handle and the client is that `client.execute` takes the workflow type, args and options, and the handle already has the workflow type and options built-in so `handle.execute` requires only the arguments.\r\n\r\n```ts\r\nimport { myWorkflow } from './workflows';\r\nconst client = new WorkflowClient();\r\nclient.execute<typeof myWorkflow>({ taskQueue: 'q' }, 'myWorkflow', arg1, arg2);\r\n// vs.\r\nconst handle = client.createWorkflowHandle(myWorkflow, { taskQueue: 'q' });\r\nhandle.execute(arg1, arg2);\r\n```\r\n\r\nA couple of ideas I've had are:\r\n1. Passing the arguments in an array:\r\n```ts\r\nclient.execute<typeof myWorkflow>('myWorkflow', [arg1, arg2], { taskQueue: 'q' });\r\n```\r\n2. Switching the order of the workflow type and options parameters:\r\n```ts\r\nclient.execute<typeof myWorkflow>('myWorkflow', { taskQueue: 'q' }, arg1, arg2);\r\n```\r\n\r\nNOTES:\r\n- `taskQueue` is optional if `WorkflowClient` receives it in `workflowDefaults`\r\n- We should have a variant of `WorfklowClient.execute` that takes a workflow function:\r\n   `client.execute({ taskQueue: 'q' }, myWorkflow, arg1, arg2);`\r\n\r\nI'm leaning toward the 2nd solution, the only caveat is that it always requires options to be passed even though they're are not required (for handle), e.g the following is valid:\r\n```ts\r\nconst handle = client.createWorkflowHandle(myWorkflow);\r\n```\r\n\r\nWhile this will not be:\r\n```ts\r\nclient.execute<typeof myWorkflow>('myWorkflow');\r\n```\r\n\r\nWith the 1st solution we could make the options not required:\r\n```ts\r\nclient.execute<typeof myWorkflow>('myWorkflow', [arg1, arg2]);\r\n```","createdAt":"2021-10-07T14:10:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/286#issuecomment-937831716","viewerDidAuthor":false}],"createdAt":"2021-10-07T00:48:16Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":{"number":2,"title":"beta","description":"","dueOn":null},"number":286,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] WorkflowClient and WorkflowHandle execute params are inconsistent","updatedAt":"2021-10-07T20:10:22Z","url":"https://github.com/temporalio/sdk-typescript/issues/286"}
