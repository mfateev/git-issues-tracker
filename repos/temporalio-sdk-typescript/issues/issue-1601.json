{"assignees":[],"author":{"id":"MDQ6VXNlcjMwOTIxOQ==","is_bot":false,"login":"chadxz","name":"Chad McElligott"},"body":"### What are you really trying to do?\n\nI'm trying to test my activities using env.run and assert against the result.\n\n### Describe the bug\n\nThe return type of env.run is `unknown` when I would expect that it would be inferred from the activity.\n\n### Minimal Reproduction\n\nhttps://codesandbox.io/p/devbox/l363c8\n\n### Environment/Versions\n\nMacbook M2 Pro Sequoia 15.2\n`@temporal/testing` 1.11.6","closedAt":null,"comments":[{"id":"IC_kwDOEujx186azXVn","author":{"login":"chadxz"},"authorAssociation":"CONTRIBUTOR","body":"I can work around the issue by passing explicit types to env.run, i.e.\n\n```ts\n        const result = await env.run<\n          [UpdateCustomerRelationshipActivityInput],\n          Nullable<UpdateCustomerRelationshipActivityResult>,\n          typeof updateCustomerRelationship\n        >(updateCustomerRelationship, {\n          ...\n        });\n```","createdAt":"2025-01-17T00:05:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1601#issuecomment-2597156199","viewerDidAuthor":false},{"id":"IC_kwDOEujx186a7QLS","author":{"login":"chadxz"},"authorAssociation":"CONTRIBUTOR","body":"@mjameswh here's a possible fix for this issue: https://github.com/chadxz/sdk-typescript/commit/5884ef51392a5482f32f1c29908935cf619cfc7f\n\nMain thing i'm not sure about is whether this would be considered a breaking change or not. I imagine if you were previously explicitly specifying the generic type parameters, a change like this may break you.\n\nWith the fix, you can see in the test suite that the return type is improved:\n\n<img width=\"806\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/864157fd-834f-4f95-bcd2-812b3418da56\" />","createdAt":"2025-01-17T21:11:15Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1601#issuecomment-2599224018","viewerDidAuthor":false},{"id":"IC_kwDOEujx186by0E2","author":{"login":"chadxz"},"authorAssociation":"CONTRIBUTOR","body":"Any thoughts on this? I'm happy to submit a PR, just want to make sure I take an appropriate approach.","createdAt":"2025-01-25T05:22:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1601#issuecomment-2613788982","viewerDidAuthor":false}],"createdAt":"2025-01-17T00:04:00Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1601,"reactionGroups":[],"state":"OPEN","title":"result of env.run is not inferring type, returning `unknown`","updatedAt":"2025-01-25T05:22:17Z","url":"https://github.com/temporalio/sdk-typescript/issues/1601"}
