{"assignees":[],"author":{"id":"MDQ6VXNlcjY0MTIxNjk=","is_bot":false,"login":"mjameswh","name":"James Watkins-Harvey"},"body":"### Describe the solution you'd like\r\n\r\nAt this time, all public APIs that accept `DataConverter`s require payload converter and failure converter to be specified as paths. That requirement originally stemmed from a desire of being consistent with the way `DataConverter`s are passed to Workflow Workers, where paths are required because these two converters need to be loaded inside the Workflow Sandbox.\r\n\r\nIt however appears that in this specific case, consistency is often counter-productive. Workflow code and client code are often part of distinct deployment units, with distinct build processes for workflow vs client code, so thatâ€™s already inconsistent. By imposing consistency, we are forcing users to adapt and complexify the build process of all non-Workflow Worker components without no real reason to do so.\r\n\r\nInstead, we should make `Client` accept pre-loaded data converters. And possibly do the same for Activity-only Workers.","closedAt":null,"comments":[{"id":"IC_kwDOEujx186M_nkd","author":{"login":"ilijaNL"},"authorAssociation":"NONE","body":"Possible workaround for now is \r\n```ts\r\nconst worker = await Worker.create({\r\n    connection,\r\n    dataConverter: await getDataConverter(),\r\n    ...rest\r\n  });\r\n\r\n  const loadedDataConverter = worker.options.loadedDataConverter;\r\n  if (loadedDataConverter)\r\n    loadedDataConverter.failureConverter = new DefaultFailureConverter({\r\n      encodeCommonAttributes: true,\r\n    });\r\n```","createdAt":"2024-09-22T06:07:05Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1458#issuecomment-2365487389","viewerDidAuthor":false}],"createdAt":"2024-07-08T14:28:04Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1458,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}},{"content":"HOORAY","users":{"totalCount":1}}],"state":"OPEN","title":"[Feature Request] Support passing preloaded data converters to Client","updatedAt":"2024-09-22T06:07:15Z","url":"https://github.com/temporalio/sdk-typescript/issues/1458"}
