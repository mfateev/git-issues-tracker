{"assignees":[{"id":"MDQ6VXNlcjI1MTI4OA==","login":"lorensr","name":"Loren ‚ò∫Ô∏è","databaseId":0}],"author":{"id":"MDQ6VXNlcjUyODgyODU=","is_bot":false,"login":"ricmatsui","name":"Ricardo Matsui"},"body":"### What are you really trying to do?\r\n\r\n<!-- \r\nTell us at a high level what you're doing, to avoid XY problem (https://en.wikipedia.org/wiki/XY_problem) \r\n-->\r\n\r\nUsing the docs, we want to search for classes and then share the link to the search result. The shared link should always work.\r\n\r\n### Describe the bug\r\n\r\n<!-- A clear and concise description of what the bug is. -->\r\n\r\nClicking on a search result from the docs search navigates to a URL that may contain uppercase characters. Opening this URL in a new tab goes to a 404 if it contains uppercase characters.\r\n\r\n<!-- If applicable, add screenshots or code blocks to help explain your problem. You can also use [Loom](http://loom.com/) to do short, free video bug reports. -->\r\n\r\n### Minimal Reproduction\r\n\r\n<!-- \r\nModify our hello world templates to demonstrate:\r\n\r\n- TypeScript: https://github.com/temporalio/samples-typescript/tree/main/hello-world\r\n- Go: https://github.com/temporalio/money-transfer-project-template-go\r\n- Java: https://github.com/temporalio/money-transfer-project-template-java\r\n- PHP: https://github.com/temporalio/samples-php#samples\r\n-->\r\n\r\n- Go to https://typescript.temporal.io/\r\n- Click the Search button on the top right (Cmd+K)\r\n- Search for `ApplicationFailure` and click the Class result\r\n- The search result links to this URL: https://typescript.temporal.io/api/classes/common.applicationfailure/\r\n- Open the URL in a new tab, or refresh the page\r\n- The page is a 404\r\n\r\nThe correct URL for the search result should be https://typescript.temporal.io/api/classes/common.ApplicationFailure\r\n\r\n### Environment/Versions\r\n\r\n<!-- Please complete the following information where relevant. -->\r\n\r\n- OS and processor: Intel Mac\r\n- Temporal Version: N/A\r\n- Are you using Docker or Kubernetes or building Temporal from source? N/A\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n\r\nThis could be an issue with https://docusaurus.io/docs/search#using-algolia-docsearch or `docusaurus-plugin-typedoc`\r\n","closedAt":"2022-10-15T04:16:12Z","comments":[{"id":"IC_kwDOEujx185MM0xo","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"The 2 solutions I've found are:\r\n\r\n- Changing typedoc plugin: https://github.com/tgreyuk/typedoc-plugin-markdown/issues/358\r\n- Adding [custom normalization rules](https://www.algolia.com/doc/api-reference/api-parameters/customNormalization/?client=javascript) like `{A: 'A', B: 'B', etc}` to algolia. The [index UI](https://www.algolia.com/apps/FL5BOEA5LF/explorer/configuration/typescript-temporal/special-characters#customNormalization-section) only allows one at a time, and I balked at filling out 26 forms, and wanted to write a script, but I should probably just do that. Okay self, I'll do that now.","createdAt":"2022-10-14T03:29:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HEART","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/917#issuecomment-1278430312","viewerDidAuthor":false},{"id":"IC_kwDOEujx185MM1-M","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Okay nevermind, while it wasn't that hard to submit 26 forms, when I hit save I got this:\r\n\r\n<img width=\"418\" alt=\"image\" src=\"https://user-images.githubusercontent.com/251288/195756166-94d0cd36-cef6-49d9-ae69-6ca860c60c07.png\">\r\n\r\nOn the Vercel side, all I found was this:\r\n\r\nhttps://vercel.com/docs/build-output-api/v3#build-output-configuration/supported-properties/routes/handler-route\r\n\r\nbut don't think you can use regex src and groups in dest to say \"whatever comes in, if you don't find a file for it, try camelcase-ing part of it\"","createdAt":"2022-10-14T03:35:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/917#issuecomment-1278435212","viewerDidAuthor":false},{"id":"IC_kwDOEujx185MM2mw","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Submitted a Vercel support ticket in case they have a setting I couldn't find","createdAt":"2022-10-14T03:39:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/917#issuecomment-1278437808","viewerDidAuthor":false},{"id":"IC_kwDOEujx185MQK94","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"> Due to the nature of our infrastructure, these will always be case sensitive and isn't something we have the ability to change. \r\n>\r\n> As a workaround, you could consider catching these requests or standardizing them in middleware and redirecting them to the correct locations.\r\n\r\nThe [Edge Middleware](https://vercel.com/docs/concepts/functions/edge-middleware) would need to determine what a word is (converting `common.applicationfailure` to `common.ApplicationFailure`), so I'm leaning toward the typedoc plugin change.","createdAt":"2022-10-14T18:02:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/917#issuecomment-1279307640","viewerDidAuthor":false},{"id":"IC_kwDOEujx185MRfTd","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Netlify was redirecting from SentenceCase URLs to lowercase, so that's how lowercase URLs wound up in the index. After the crawler crawled the site hosted on Vercel (which doesn't redirect), it got SentenceCase URLs, which work fine. Thanks for reporting @ricmatsui üòä","createdAt":"2022-10-15T04:16:12Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HOORAY","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/917#issuecomment-1279653085","viewerDidAuthor":false}],"createdAt":"2022-10-12T14:46:30Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA3","name":"documentation","description":"Improvements or additions to documentation","color":"0075ca"}],"milestone":null,"number":917,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Docs Search Result Link 404","updatedAt":"2022-10-15T23:49:06Z","url":"https://github.com/temporalio/sdk-typescript/issues/917"}
