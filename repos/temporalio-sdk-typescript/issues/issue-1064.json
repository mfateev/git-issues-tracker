{"assignees":[],"author":{"id":"MDQ6VXNlcjUwNDA2Mzc=","is_bot":false,"login":"rupalivohra","name":"Rupali Vohra"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\r\nToday, it looks like if I pass a `histories` AsyncIterable that yields no results, I get an error like the one below, rather than one with a clear error code that I could catch/handle. Given that the goal is to find determinism errors, and that there wouldn't be any determinism errors if there are no histories, I question whether this should throw an error at all.\r\n\r\n```\r\nError\r\n    at _super (path/to/node_modules/rxjs/src/internal/util/createErrorClass.ts:13:22)\r\n    at new EmptyErrorImpl (path/to/node_modules/rxjs/src/internal/util/EmptyError.ts:26:3)\r\n    at Object.complete (path/to/node_modules/rxjs/src/internal/lastValueFrom.ts:71:18)\r\n    at ConsumerObserver.complete (path/to/node_modules/rxjs/src/internal/Subscriber.ts:185:25)\r\n    at SafeSubscriber.Subscriber._complete (path/to/node_modules/rxjs/src/internal/Subscriber.ts:132:24)\r\n    at SafeSubscriber.Subscriber.complete (path/to/node_modules/rxjs/src/internal/Subscriber.ts:106:12)\r\n    at checkComplete (path/to/node_modules/rxjs/src/internal/operators/mergeInternals.ts:48:18)\r\n    at path/to/node_modules/rxjs/src/internal/operators/mergeInternals.ts:140:7\r\n    at OperatorSubscriber._this._complete (path/to/node_modules/rxjs/src/internal/operators/OperatorSubscriber.ts:92:13)\r\n    at OperatorSubscriber.Subscriber.complete (path/to/node_modules/rxjs/src/internal/Subscriber.ts:106:12)\r\n    at path/to/node_modules/rxjs/src/internal/observable/innerFrom.ts:131:14\r\n    at step (path/to/node_modules/rxjs/dist/cjs/internal/observable/innerFrom.js:33:23)\r\n    at Object.next (path/to/node_modules/rxjs/dist/cjs/internal/observable/innerFrom.js:14:53)\r\n    at fulfilled (path/to/node_modules/rxjs/dist/cjs/internal/observable/innerFrom.js:5:58)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5) {\r\n  message: 'no elements in sequence'\r\n```\r\n\r\n### Describe the solution you'd like\r\n\r\n<!-- A clear and concise description of what you want to happen. SCREENSHOTS OR CODE SAMPLES ARE VERY HELPFUL -->\r\nSuppose I get histories like this:\r\n```typescript\r\nconst query = `WorkflowType=\"${workflowType}\" and ExecutionStatus = 'Running'\r\n    ORDER BY StartTime ASC`;\r\nconst workflowList = this.workflowClient.list({\r\n    query,\r\n    pageSize: 50,\r\n});\r\nconst histories = workflowList.intoHistories({ concurrency: 10 });\r\n```\r\n\r\nand call the replayer like this:\r\n```typescript\r\nconst replayResults = await Worker.runReplayHistories(\r\n    {\r\n      workflowBundle,\r\n      sinks,\r\n      failFast: false, // can toggle to true if replay is slow, but will need to catch error\r\n    },\r\n    histories\r\n);\r\n```\r\n\r\nIf the # of `histories` returned from the query above happens to be 0, I'd like for the replay to succeed.\r\nIf there are reasons why the replayer should fail, I'd like for there to be a specific error code that I could handle from the `await Worker.runReplayHistories()` call.\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n\r\nn/a\r\n","closedAt":"2023-03-02T22:10:46Z","comments":[],"createdAt":"2023-02-24T01:27:59Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1064,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Return well-formed error OR success if Worker.runReplayHistories receives no histories","updatedAt":"2023-03-02T22:10:46Z","url":"https://github.com/temporalio/sdk-typescript/issues/1064"}
