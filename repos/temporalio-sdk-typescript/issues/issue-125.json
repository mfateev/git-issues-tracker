{"assignees":[],"author":{"id":"MDQ6VXNlcjMyMzc1NTE=","is_bot":false,"login":"denjalonso","name":"Denis Juan Alonso Glez"},"body":"**Describe the bug**\r\nError when running getting started (hello world sample app), step 3 \"Run your Workflow\"\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Go to https://docs.temporal.io/docs/node/getting-started/\r\n2. Follow steps\r\n3. Get below error when running ```node lib/worker```:\r\n```\r\nWorker state changed { state: 'RUNNING' }\r\n2021-06-15T08:30:38.727Z [ERROR] Worker failed {\r\n  error: TypeError: otel.setSpan is not a function\r\n      at Object.instrument (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/@temporalio/worker/lib/tracing.js:45:26)\r\n      at /Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/@temporalio/worker/lib/worker.js:488:40\r\n      at MergeMapSubscriber.project (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/@temporalio/worker/lib/worker.js:258:28)\r\n      at MergeMapSubscriber._tryNext (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/rxjs/internal/operators/mergeMap.js:67:27)\r\n      at MergeMapSubscriber._next (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/rxjs/internal/operators/mergeMap.js:57:18)\r\n      at MergeMapSubscriber.Subscriber.next (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/rxjs/internal/Subscriber.js:66:18)\r\n      at MapSubscriber._next (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/rxjs/internal/operators/map.js:55:26)\r\n      at MapSubscriber.Subscriber.next (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/rxjs/internal/Subscriber.js:66:18)\r\n      at Observable._subscribe (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/rxjs/internal/util/subscribeToArray.js:5:20)\r\n      at Observable._trySubscribe (/Users/dalogon/Projects/12-technoactivity-projects/22-core-services/10-mymoidapis-campaigns/temporal-test/example/node_modules/rxjs/internal/Observable.js:44:25)\r\n}\r\n2021-06-15T08:30:38.729Z [INFO] Worker state changed { state: 'FAILED' }\r\n```\r\n\r\n**Expected behavior**\r\nStarts the worker\r\n\r\n**Screenshots/Terminal ouput**\r\n<img width=\"1838\" alt=\"Screenshot 2021-06-15 at 09 32 07\" src=\"https://user-images.githubusercontent.com/3237551/122022010-1d0fff00-cdbe-11eb-86e0-ebd21a595c73.png\">\r\n\r\n**Versions (please complete the following information where relevant):**\r\n - OS: macOs Big Sur 11.4 Apple M1\r\n - Node v16.3.0 (tj/n)\r\n - ```\"temporalio\": \"0.2.1\"```\r\n - Temporal server with docker compose\r\n\r\n**Additional context**\r\nI have tried with different versions of node> = 15 also with nvm\r\n","closedAt":"2021-06-16T00:43:26Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg2MTMxODAxMQ==","author":{"login":"juanchojbarroso"},"authorAssociation":"NONE","body":"+1 here!","createdAt":"2021-06-15T08:55:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/125#issuecomment-861318011","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2MTQ3NjE4Mg==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"This has already been fixed in the main branch.\r\nLooks like opentelemetry broke semver.\r\nI'm traveling right now but I'll cut out a patch release as soon as I'm available.\r\n","createdAt":"2021-06-15T12:58:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/125#issuecomment-861476182","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2MTU2MDM5Nw==","author":{"login":"denjalonso"},"authorAssociation":"NONE","body":"Ok, thanks.","createdAt":"2021-06-15T14:43:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/125#issuecomment-861560397","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2MTkyNTM2Mw==","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Just released `temporalio@0.2.2` and `@temporalio/worker@0.4.0` which fix the issue.\r\nWe should probably monitor the installation to prevent this type of breakage in the future.","createdAt":"2021-06-16T00:43:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/125#issuecomment-861925363","viewerDidAuthor":false}],"createdAt":"2021-06-15T08:48:10Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":125,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Getting a \"TypeError: otel.setSpan is not a function\" error when running hello world sample app","updatedAt":"2021-06-16T00:43:26Z","url":"https://github.com/temporalio/sdk-typescript/issues/125"}
