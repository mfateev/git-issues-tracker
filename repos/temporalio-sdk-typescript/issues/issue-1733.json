{"assignees":[],"author":{"id":"MDQ6VXNlcjM2NDY3NTg=","is_bot":false,"login":"jsamr","name":"Jules Sam. Randolph"},"body":"### What are you really trying to do?\n\nSetting retry policy to \"unlimited\". \n\n### Describe the bug\n\nIn a workflow, call `proxyActivities` with the below retry policy object:\n```ts\nconst retryPolicy = {\n  maximumAttempts: 0\n}\n```\n\n### Minimal Reproduction\n\nNot needed. The code below is at odds with the documentation:\n\nhttps://github.com/temporalio/sdk-typescript/blob/9b3ec220416a80f5ad222c7f27817ee0405f1716/packages/common/src/retry-policy.ts#L53-L63\n\nIt throws when `maximumAttempts` is 0.\n\n[The documentation states the following](https://docs.temporal.io/encyclopedia/retry-policies#maximum-attempts):\n\n> Setting the [Maximum Attempts] value to 0 also means unlimited.\n\n\n### Environment/Versions\n\nNot needed.\n\n### Additional context\n\nThe workaround is to set the value to `Number.POSITIVE_INFINITY` or `undefined`. \n","closedAt":null,"comments":[{"id":"IC_kwDOEujx1860DAhV","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Thanks for pointing this out. It indeed looks like the code and docs are contradicting each others.\n\nThat specific doc is not TS specific, so the error probably resulted from incorrect generalization of doc originally written for another SDK. I'll have to double-check what we do in other SDKs, and from there, we'll decide internally if we should either align all SDKs on the docs, or to fix the docs.\n\nIn any case, I'd strongly recommend using `undefined` or `Number.POSITIVE_INFINITY`. Both better express the meaning of \"no limit to the number of attempts\" than giving a special meaning to the value `0`.","createdAt":"2025-06-30T20:56:41Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1733#issuecomment-3020687445","viewerDidAuthor":false},{"id":"IC_kwDOEujx1860Nr-0","author":{"login":"jsamr"},"authorAssociation":"NONE","body":"> In any case, I'd strongly recommend using `undefined` or `Number.POSITIVE_INFINITY`. Both better express the meaning of \"no limit to the number of attempts\" than giving a special meaning to the value `0`.\n\nI totally agree! We have an internal temporal SDK wrapper where we use the `\"unlimited\"` string literal to mean unlimited. But we need to map these wrapper types to vanilla temporal types at some point, and since we needed JSON-serializable values, we opted for `0` in this case. Replaced with `undefined` and it works fine! \n","createdAt":"2025-07-01T11:17:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1733#issuecomment-3023486900","viewerDidAuthor":false}],"createdAt":"2025-06-27T13:26:53Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1733,"reactionGroups":[],"state":"OPEN","title":"[Bug] `RetryPolicy.maximumAttempt === 0` throws, while it is documented as a valid value for \"unlimited\"","updatedAt":"2025-07-01T11:17:02Z","url":"https://github.com/temporalio/sdk-typescript/issues/1733"}
