{"assignees":[],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nWorkflow stack traces show the compiled JS as sources instead of the TypeScript sources, this makes WF code hard to debug.\r\n\r\n**Describe the solution you'd like**\r\n\r\nStack traces should include the source code the way they do in [ts-node](https://www.npmjs.com/package/ts-node).\r\n\r\n**Additional context**\r\n\r\nCurrently we build the Workflow Isolate using Webpack from compiled JS files (`./lib`) instead of the TypeScript source (`./src`), this might need to change in order to provide proper sourcemaps.","closedAt":"2021-08-31T14:03:11Z","comments":[{"id":"IC_kwDOEujx184-8hbT","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Is it possible to get workflow error stack traces with `src/*.ts` line numbers? I'm seeing `lib/*.js` in worker output:\r\n\r\n@temporalio/test: 2022-03-02T01:47:43.406Z [WARN] [temporal_sdk_core::worker] Failing workflow activation run_id=\"453a299c-2334-4e7b-b581-8c3bbd216eac\" failure=Failure { failure: Some(Failure { message: \"Failed to convert value: str1\", source: \"TypeScriptSDK\", stack_trace: \"PayloadConverterError: Failed to convert value: str1\\n    at toPayload (webpack-internal:///../common/lib/converter/payload-converter.js:60:15)\\n    at eval (webpack-internal:///../common/lib/converter/payload-converter.js:78:34)\\n    at Array.map (<anonymous>)\\n    at toPayloads (webpack-internal:///../common/lib/converter/payload-converter.js:78:19)\\n    at eval (webpack-internal:///../workflow/lib/workflow.js:118:52)\\n    at new Promise (<anonymous>)\\n    at scheduleActivityNextHandler (webpack-internal:///../workflow/lib/workflow.js:91:12)\\n    at scheduleActivity (webpack-internal:///../workflow/lib/workflow.js:142:12)\\n    at eval (webpack-internal:///../workflow/lib/workflow.js:314:24)\\n    at twoStringsActivity (webpack-internal:///./lib/workflows/two-strings.js:13:26)\", cause: None, failure_info: None }) }\r\n","createdAt":"2022-03-02T01:53:45Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/101#issuecomment-1056052947","viewerDidAuthor":false},{"id":"IC_kwDOEujx184-9ZyF","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"You should get the sourcemaps if you use ts-node, I think there's another way though, I'd need to check.","createdAt":"2022-03-02T05:41:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/101#issuecomment-1056283781","viewerDidAuthor":false}],"createdAt":"2021-05-18T11:31:32Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"},{"id":"MDU6TGFiZWwyNTQ1Mzg0MDE2","name":"good first issue","description":"Good for newcomers","color":"7057ff"}],"milestone":null,"number":101,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Use source maps for better stack traces in WF isolate code","updatedAt":"2022-03-02T05:41:14Z","url":"https://github.com/temporalio/sdk-typescript/issues/101"}
