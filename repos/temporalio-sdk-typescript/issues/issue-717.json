{"assignees":[],"author":{"id":"U_kgDOBkT5ZQ","is_bot":false,"login":"esuh-descript","name":"Eric J. Suh"},"body":"### What are you really trying to do?\r\n\r\nWe were trying to import and use types and functions from `@opentelemetry/interceptors-opentelemetry`, specifically `OpenTelemetryActivityInboundInterceptor` and `makeWorkflowExporter`.\r\n\r\n### Describe the bug\r\n\r\nErrors were thrown because the `package.json` in `@temporalio/interceptors-opentelemetry` refers to `lib/index.js` and `lib/index.d.ts`, neither of which exist in the published package (nor do they seem to exist in the source code):\r\n\r\n```\r\nsource/InstrumentedWorkerClient.ts(5,8): error TS2307: Cannot find module '@temporalio/interceptors-opentelemetry' or its corresponding type declarations.\r\n```\r\n\r\n### Minimal Reproduction\r\n\r\n`package.json`:\r\n```json\r\n{\r\n  \"name\": \"testpkg\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"Testing\",\r\n  \"main\": \"index.js\",\r\n  \"types\": \"index.d.ts\",\r\n  \"scripts\": {\r\n    \"build\": \"tsc\"\r\n  },\r\n  \"author\": \"\",\r\n  \"license\": \"ISC\",\r\n  \"dependencies\": {\r\n    \"@temporalio/interceptors-opentelemetry\": \"^1.0.0-rc.0\",\r\n    \"typescript\": \"^4.7.4\"\r\n  }\r\n}\r\n```\r\n\r\n`index.ts`:\r\n```typescript\r\nimport {\r\n    OpenTelemetryActivityInboundInterceptor,\r\n    makeWorkflowExporter,\r\n} from '@temporalio/interceptors-opentelemetry';\r\n```\r\n\r\nRun: `npm run build`","closedAt":"2022-07-05T17:36:11Z","comments":[{"id":"IC_kwDOEujx185FVHD4","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Thanks for reporting this.\r\nI'll fix `package.json`.\r\n\r\nThere's nothing to import at the root of this package, you should import from `lib/client`, `lib/worker` and `lib/workflow` for each part of your application.\r\n\r\nFor example:\r\n```ts\r\nimport {\r\n  OpenTelemetryActivityInboundInterceptor,\r\n  makeWorkflowExporter,\r\n} from '@temporalio/interceptors-opentelemetry/lib/worker';\r\n```\r\n\r\nSee our sample on how to use this package: https://github.com/temporalio/samples-typescript/tree/main/interceptors-opentelemetry","createdAt":"2022-06-22T14:17:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/717#issuecomment-1163161848","viewerDidAuthor":false}],"createdAt":"2022-06-22T01:54:01Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":717,"reactionGroups":[],"state":"CLOSED","title":"[Bug] @temporalio/interceptors-opentelemetry package.json refers to non-existent file","updatedAt":"2022-07-05T17:36:11Z","url":"https://github.com/temporalio/sdk-typescript/issues/717"}
