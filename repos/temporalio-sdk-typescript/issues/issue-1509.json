{"assignees":[],"author":{"id":"MDQ6VXNlcjEyMDI3MDM3","is_bot":false,"login":"gregkonush","name":"Greg Konush"},"body":"### What are you really trying to do?\r\n\r\nI am trying to start temporal worker inside arm64 docker image\r\n\r\n### Describe the bug\r\n\r\nGetting exception likes this during the start of a worker:\r\n\r\n```\r\n/app/node_modules/.pnpm/@temporalio+core-bridge@1.11.1/node_modules/@temporalio/core-bridge/index.js:30\r\n  throw err;\r\n  ^\r\n\r\nError: Error relocating /app/node_modules/.pnpm/@temporalio+core-bridge@1.11.1/node_modules/@temporalio/core-bridge/releases/aarch64-unknown-linux-gnu/index.node: __register_atfork: symbol not found\r\n    at Module._extensions..node (node:internal/modules/cjs/loader:1586:18)\r\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\r\n    at Module._load (node:internal/modules/cjs/loader:1104:12)\r\n    at Module.require (node:internal/modules/cjs/loader:1311:19)\r\n    at require (node:internal/modules/helpers:179:18)\r\n    at Object.<anonymous> (/app/node_modules/.pnpm/@temporalio+core-bridge@1.11.1/node_modules/@temporalio/core-bridge/index.js:26:20)\r\n    at Module._compile (node:internal/modules/cjs/loader:1469:14)\r\n    at Module._extensions..js (node:internal/modules/cjs/loader:1548:10)\r\n    at Module.load (node:internal/modules/cjs/loader:1288:32)\r\n    at Module._load (node:internal/modules/cjs/loader:1104:12) {\r\n  code: 'ERR_DLOPEN_FAILED'\r\n}\r\n\r\nNode.js v20.17.0\r\n```\r\n\r\n### Minimal Reproduction\r\n\r\n<!-- \r\nModify our hello world templates to demonstrate:\r\n\r\n- TypeScript: https://github.com/temporalio/samples-typescript/tree/main/hello-world\r\n- Go: https://github.com/temporalio/money-transfer-project-template-go\r\n- Java: https://github.com/temporalio/money-transfer-project-template-java\r\n- PHP: https://github.com/temporalio/samples-php#samples\r\n-->\r\n\r\n### Environment/Versions\r\n\r\n<!-- Please complete the following information where relevant. -->\r\n\r\n- OS and processor: [e.g. M1 Mac, x86 Windows, Linux]\r\n- Temporal Version: [e.g. 1.14.0?] and/or SDK version\r\n- Are you using Docker or Kubernetes or building Temporal from source?\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context about the problem here. -->\r\n","closedAt":"2024-09-12T18:47:40Z","comments":[{"id":"IC_kwDOEujx186LW8zT","author":{"login":"arthberman"},"authorAssociation":"NONE","body":"same here","createdAt":"2024-09-09T12:54:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1509#issuecomment-2338049235","viewerDidAuthor":false},{"id":"IC_kwDOEujx186LXAC9","author":{"login":"arthberman"},"authorAssociation":"NONE","body":"@gregkonush did you found any workaround ?","createdAt":"2024-09-09T12:59:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1509#issuecomment-2338062525","viewerDidAuthor":false},{"id":"IC_kwDOEujx186LXGX0","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"Is your Docker image based on Alpine, or another muslc distro? That is [not supported](https://docs.temporal.io/develop/typescript/core-application#run-a-worker-on-docker).","createdAt":"2024-09-09T13:11:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1509#issuecomment-2338088436","viewerDidAuthor":false},{"id":"IC_kwDOEujx186LXaQv","author":{"login":"arthberman"},"authorAssociation":"NONE","body":"Thanks! it was the issue :) just moved to bullseye and it works","createdAt":"2024-09-09T13:44:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-typescript/issues/1509#issuecomment-2338169903","viewerDidAuthor":false}],"createdAt":"2024-09-07T07:42:15Z","labels":[],"milestone":null,"number":1509,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Worker doesn't start in arm64 docker container","updatedAt":"2024-09-12T18:47:40Z","url":"https://github.com/temporalio/sdk-typescript/issues/1509"}
