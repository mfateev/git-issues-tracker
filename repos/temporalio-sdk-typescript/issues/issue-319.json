{"assignees":[],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"The new API is bound to a single context and uses JS function which are faster than c++ functions.\r\nThe current implementation overrides the promise hook for each context which is a redundant (yet seemingly harmless) operation.\r\n\r\nThis is all based on information I got from @Qard on the Node.js slack (thanks :)).\r\n\r\nThis issue might not be relevant if we manage to transition to `vm` and use node's `AsyncLocalStorage` implementation.\r\n\r\nAPI reference: https://v8.github.io/api/head/classv8_1_1Context.html#a216ef605c502da6559fff96209e4c9a9","closedAt":"2021-11-23T02:06:01Z","comments":[{"id":"IC_kwDOEujx1846Lh79","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Not relevant since we ended up using `AsyncLocalStorage`","createdAt":"2021-11-23T02:06:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/319#issuecomment-976101117","viewerDidAuthor":false}],"createdAt":"2021-10-20T19:55:59Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDEz","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":319,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Use the newer `Context.SetPromiseHooks` API for the workflow isolate extension.","updatedAt":"2021-11-23T02:06:01Z","url":"https://github.com/temporalio/sdk-typescript/issues/319"}
