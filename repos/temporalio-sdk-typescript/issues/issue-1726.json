{"assignees":[],"author":{"id":"MDQ6VXNlcjc3MjM4MTk5","is_bot":false,"login":"liho00","name":"LiHo"},"body":"Actual behavior\ncondition(fn, timeout): Promise<boolean>\nfn | () => boolean\n\n```\n  const success = await condition(\n    async () => {         <---------------- why this line not support typescript?\n    },\n    {\n      timeout: `1s`,\n      interval: `1s`,\n    }\n  );\n```\n\nhttps://typescript.temporal.io/api/namespaces/workflow#condition\n\n\nExpected behavior\ncondition(fn, timeout): Promise<boolean>\nfn | () => Promise<boolean>","closedAt":"2025-06-30T21:00:22Z","comments":[{"id":"IC_kwDOEujx186xE9D8","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"The function argument passed to `condition` can't be asynchronous, and must return a boolean. Typical usage is that `fn` is an inline function that returns the value of a local boolean variable, or to return either some array is empty/not empty. See [this sample](https://github.com/temporalio/samples-typescript/blob/main/mutex/src/workflows.ts), at lines 33 and 55.\n\nAlso, the second argument to `condition`, i.e. `timeout`, is a single string value, not an object. So you would have something like `await condition(fn, '1s')`.","createdAt":"2025-06-13T16:13:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1726#issuecomment-2970865916","viewerDidAuthor":false}],"createdAt":"2025-06-13T07:47:20Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1726,"reactionGroups":[],"state":"CLOSED","title":"Condition callback function is not support Promise return in type","updatedAt":"2025-06-30T21:00:22Z","url":"https://github.com/temporalio/sdk-typescript/issues/1726"}
