{"assignees":[{"id":"MDQ6VXNlcjY0MTIxNjk=","login":"mjameswh","name":"James Watkins-Harvey","databaseId":0}],"author":{"id":"MDQ6VXNlcjgzNzkwNjIy","is_bot":false,"login":"tiagomendonc","name":"Tiago Mendonça"},"body":"### What are you really trying to do?\r\n\r\nI'm trying to add a worker to my application so I can use workflows\r\n\r\n### Describe the bug\r\n\r\nEverytime that I try to build my application, it says that some requirements can not be found.\r\n\r\n### Minimal Reproduction\r\n\r\n<img width=\"889\" alt=\"image\" src=\"https://github.com/temporalio/sdk-typescript/assets/83790622/4e65fae5-0edb-413a-9eba-3e7bc1ea8a42\">\r\n\r\n\r\n### Environment/Versions\r\n\r\n- OS and processor: M2 Mac\r\n- Temporal Version: ˆ1.8.6\r\n- Are you using Docker or Kubernetes or building Temporal from source? No\r\n\r\n","closedAt":"2024-05-10T14:50:11Z","comments":[{"id":"IC_kwDOEujx1858gHfK","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"It looks like you are trying to bundle the @temporalio/worker and @temporalio/workflow packages. This is not supported.\r\n\r\nIf you really need to bundle your Temporal Worker’s code, you will need to configure your bundler to keep the following packages as external:\r\n\r\n    @temporalio/worker\r\n    @temporalio/workflow\r\n    @temporalio/core-bridge\r\n    @temporalio/common\r\n    @temporalio/worker\r\n    @temporalio/proto\r\n\r\nYou will also need to pre-bundle your workflow code, e.g. by using bundleWorkflowCode() from your building script. See [this sample](https://github.com/temporalio/samples-typescript/blob/main/production/src/scripts/build-workflow-bundle.ts#L7). The file containing your Workflow Bundle’s code will also need to be marked as external.","createdAt":"2024-05-01T17:18:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1406#issuecomment-2088794058","viewerDidAuthor":false},{"id":"IC_kwDOEujx1858mHUy","author":{"login":"tiagomendonc"},"authorAssociation":"NONE","body":"@mjameswh help me with a development issue than, without the worker, I can create and start a workflow execution, but I believe that without a worker, it will not be finished, since that my workflow do not complete, is aways in Running status. Is this right? ","createdAt":"2024-05-02T12:22:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1406#issuecomment-2090366258","viewerDidAuthor":false},{"id":"IC_kwDOEujx1858yA2b","author":{"login":"nubunto"},"authorAssociation":"NONE","body":">  it will not be finished\r\n\r\nExactly, it won't. The workflow is registered as started in Temporal Server, but if you don't have a worker listening on the task queue with the correct workflow definition, then it won't never advance.","createdAt":"2024-05-03T17:43:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1406#issuecomment-2093485467","viewerDidAuthor":false},{"id":"IC_kwDOEujx1858-LrE","author":{"login":"tiagomendonc"},"authorAssociation":"NONE","body":"Got it. Still, I can't build my app with workers. What exactly should I do?","createdAt":"2024-05-06T18:40:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1406#issuecomment-2096675524","viewerDidAuthor":false},{"id":"IC_kwDOEujx1858-NGS","author":{"login":"tiagomendonc"},"authorAssociation":"NONE","body":"Just to be more clear, I start my workflow client and than start the worker like this:\r\n`const worker = await Worker.create({\r\n    workflowsPath: require.resolve(\"./workflow\"),\r\n    taskQueue: \"default\",\r\n    activities,\r\n  });`\r\n  \r\n\r\n ","createdAt":"2024-05-06T18:44:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1406#issuecomment-2096681362","viewerDidAuthor":false},{"id":"IC_kwDOEujx1859GIYT","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"@tiagomendonc At this point, I really can't tell anything more that what I said previously. Can you please give more details? Why and how are you bundling the Worker itself?","createdAt":"2024-05-07T15:40:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/1406#issuecomment-2098759187","viewerDidAuthor":false}],"createdAt":"2024-04-30T21:11:00Z","labels":[],"milestone":null,"number":1406,"reactionGroups":[],"state":"CLOSED","title":"[Bug]Could not resolve \"__temporal_custom_payload_converter\"","updatedAt":"2024-05-10T14:50:11Z","url":"https://github.com/temporalio/sdk-typescript/issues/1406"}
