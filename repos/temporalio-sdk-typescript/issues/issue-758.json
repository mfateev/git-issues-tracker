{"assignees":[],"author":{"id":"MDQ6VXNlcjYyODQzMQ==","is_bot":false,"login":"davidtheclark","name":"David Clark"},"body":"### What are you really trying to do?\r\n\r\nUpgrade to 1.0.0-rc.1 and run a worker.\r\n\r\n### Describe the bug\r\n\r\nIf I build a bundle and then start the worker with a `workflowBundle` object with `code` and `sourceMap` properties, the worker crashes with this error (which unhelpfully has no stack trace):\r\n\r\n```\r\nERROR : Invalid regular expression flags {}\r\n```\r\n\r\nIf I just change my `workflowBundle` bundle to use the `codePath` and `sourceMapPath` properties, the worker does not crash.\r\n\r\n### Environment/Versions\r\n\r\n<!-- Please complete the following information where relevant. -->\r\n\r\n- OS and processor: M1 Mac\r\n- Temporal Version: 1.0.0-rc.1\r\n- Are you using Docker or Kubernetes or building Temporal from source? The server is on Ducker.\r\n\r\n","closedAt":"2022-07-17T03:52:28Z","comments":[{"id":"IC_kwDOEujx185GtWQQ","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Sounds like youâ€™re passing a path instead of the actual code, can you verify?","createdAt":"2022-07-16T21:06:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/758#issuecomment-1186292752","viewerDidAuthor":false},{"id":"IC_kwDOEujx185Gtt-K","author":{"login":"davidtheclark"},"authorAssociation":"NONE","body":"Ah yes, thank you. I misunderstood some of the documentation.","createdAt":"2022-07-17T03:52:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-typescript/issues/758#issuecomment-1186389898","viewerDidAuthor":false}],"createdAt":"2022-07-16T17:26:17Z","labels":[{"id":"MDU6TGFiZWwyNTQ1Mzg0MDA2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":758,"reactionGroups":[],"state":"CLOSED","title":"[Bug] workflowBundle with code/sourceMap breaks with obscure error, while using codePath/sourceMapPath works","updatedAt":"2022-07-17T03:52:28Z","url":"https://github.com/temporalio/sdk-typescript/issues/758"}
