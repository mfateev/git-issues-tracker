{"assignees":[],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"This should be available server-side so there might be duplication.\r\nNeed to investigate whether it's worth adding this.","closedAt":"2024-05-14T20:46:14Z","comments":[{"id":"IC_kwDOGflYbs5NRrB_","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"It is useful to expose resource exhausted error and their cause as tag to metrics.\r\n\r\nNot all user has access to all server side metrics. So this is critical.","createdAt":"2022-10-31T03:08:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/144#issuecomment-1296478335","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5NTvo1","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"EDIT: After seeing that resource exhausted cause is present as an enum, we are going to add a new counter for this.","createdAt":"2022-10-31T12:34:48Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/144#issuecomment-1297021493","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5NVPHO","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"We are making a `temporal_request_resource_exhausted` and `temporal_long_request_resource_exhausted` that have the same tags as `X_request_failure` but also have a `cause` which is the \"string\" of https://github.com/temporalio/api/blob/e381e51864ec8f43a90750ef936705258b8f64b2/temporal/api/enums/v1/failed_cause.proto#L90.\r\n\r\nFor SDK implementers, to match server this is not a normal enum string. Rather, this is auto-generated from our gogo proto hack. Use one of the strings at https://github.com/temporalio/api-go/blob/3622cc780d3eee12a6f29788460fdf7d3c94f048/enums/v1/failed_cause.pb.go#L235-L241.","createdAt":"2022-10-31T17:17:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/144#issuecomment-1297412558","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5QyXMb","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"To clarify for issue readers, the resource exhausted tangent is unrelated to the general request for error codes on request metrics.","createdAt":"2022-12-16T18:27:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/144#issuecomment-1355379483","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs59zfX6","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"Used label `status_code` and the SCREAMING_SNAKE names from the gRPC spec as the values for codes. This applies to the `*request_failure` metrics","createdAt":"2024-05-14T16:26:59Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/144#issuecomment-2110649850","viewerDidAuthor":false}],"createdAt":"2022-10-18T16:19:58Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":144,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Add gRPC error status code tag to request metrics","updatedAt":"2024-05-14T20:46:14Z","url":"https://github.com/temporalio/features/issues/144"}
