{"assignees":[],"author":{"id":"MDQ6VXNlcjUzMjEwOA==","is_bot":false,"login":"Spikhalskiy","name":"Dmitry Spikhalsky"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nCurrent SDK metrics support the detection of elevated levels of failures of workflow tasks or activities.\r\nBut it's impossible to distinguish between two situations. A lot of workflows are failing once or twice or there is 1 or 2 workflows that are completely stuck.\r\n\r\n### Describe the solution you'd like\r\n\r\nNew counters: \r\n`workflow_task_failed_10_times`, `workflow_task_failed_100_times`, `workflow_task_failed_1000_times`\r\n`activity_failed_10_times`, `activity_failed_100_times`, `activity_failed_1000_times`\r\n\r\nWith standard temporal_ prefix and _count postfix.\r\n\r\nExample:\r\n\r\nEvery activity failure with `10 =< currentAttempt counter < 99` should increase `activity_failed_10_times` counter.\r\nEvery activity failure with `100 =< currentAttempt counter < 999` should increase `activity_failed_100_times` counter and don't increase `activity_failed_10_times`.\r\n\r\n### Alternative\r\n\r\nMake a full-blown histogram with wide buckets that should be formatted according to the OpenMetrics rules for histograms With `_bucket` postfix and specifying the bucket: https://github.com/OpenObservability/OpenMetrics/blob/main/specification/OpenMetrics.md#histogram-1","closedAt":null,"comments":[],"createdAt":"2022-05-12T03:06:48Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":53,"reactionGroups":[],"state":"OPEN","title":"Metrics for consecutive workflow and activity task failures","updatedAt":"2024-07-13T01:08:21Z","url":"https://github.com/temporalio/features/issues/53"}
