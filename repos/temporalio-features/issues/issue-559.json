{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"### Describe the solution you'd like\r\n\r\nAn explicit structure for \"command event\" type things should be defined in the `sdk` package of the API repo. Then we should have Go, Java, and Core emit a list of \"expected\" and \"actual\" \"command event\"s as serialized non-determinism error details.\r\n\r\nOutstanding question: Is this error detail payload subject to failure conversion? If so, Core will have to go _back_ through lang.\r\n\r\n### Per-SDK Tickets\r\n\r\n- [ ] General design - TODO\r\n- [ ] Go - TODO\r\n- [ ] Java - TODO\r\n- [ ] Core - TODO\r\n- [x] TypeScript - N/A\r\n- [x] Python - N/A\r\n- [x] .NET - N/A\r\n- [x] Ruby - N/A\r\n- [x] PHP - N/A\r\n- [x] Temporal CLI - N/A\r\n","closedAt":null,"comments":[{"id":"IC_kwDOGflYbs6ePiOF","author":{"login":"dandavison"},"authorAssociation":"MEMBER","body":"Hopefully something to be fixed as part of this ticket, the first half of the following error message is hopelessly obscure:\n\n> [TMPRL1100] unknown command CommandType: Timer, ID: 8, possible causes are nondeterministic workflow definition code or incompatible change in the workflow definition\n\n\nAIUI it should be more like\n\n> [TMPRL1100] During replay, workflow history (event ID 8) implies that a StartTimer command should have been emitted by the replayed code, but no such command was emitted. Possible causes are nondeterministic workflow definition code or incompatible change in the workflow definition.\n","createdAt":"2025-02-12T21:22:26Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/559#issuecomment-2654872453","viewerDidAuthor":false}],"createdAt":"2024-11-13T20:08:31Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":559,"reactionGroups":[],"state":"OPEN","title":"Include structured command/event diff/items in non-determinism error","updatedAt":"2025-02-12T21:22:45Z","url":"https://github.com/temporalio/features/issues/559"}
