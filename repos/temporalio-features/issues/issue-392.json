{"assignees":[],"author":{"id":"MDQ6VXNlcjM2NzEzMg==","is_bot":false,"login":"ghaskins","name":"Gregory Haskins"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nIt's harder to build meaningful visualizations on temporal_worker_task_slots_available alone when the total amount is unknown.\r\n\r\nMost of the time, the graphs look like this\r\n\r\n<img width=\"1628\" alt=\"Screenshot 2023-12-30 at 9 00 12â€¯AM\" src=\"https://github.com/temporalio/features/assets/367132/6ca94af5-93b4-4b55-8f04-dc3d9af16e9c\">\r\n\r\nIt's particularly hard to see nodes with smaller task slot allocations....and these are precisely the candidates likely to run into resource exhaustion.\r\n\r\n### Describe the solution you'd like\r\n\r\nProviding a means to retrieve the total possible slots would make it trivial to graph the utilization percent using an 'available/total' approach.  This would make it easier to observe the cases that require the most attention by better visual emphasis and alerting targets.\r\n\r\n","closedAt":null,"comments":[{"id":"IC_kwDOGflYbs5vy7SR","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> when the total amount is unknown.\r\n\r\nBut since you set this value, it is known. You can expose this fixed value as a metric if you'd like.","createdAt":"2024-01-03T16:14:45Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/392#issuecomment-1875621009","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5vzS2x","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"I think the SDK exposing this as a metric makes sense given these feature requests https://github.com/temporalio/features/issues/334 https://github.com/temporalio/features/issues/388","createdAt":"2024-01-03T17:26:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/392#issuecomment-1875717553","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5vzTya","author":{"login":"ghaskins"},"authorAssociation":"NONE","body":"> But since you set this value, it is known.\r\n\r\nWell, it's known somewhere.  But it's not conveniently accessible to metrics/dashboard consumers, making developing things like dashboards more fragile instead of generic.","createdAt":"2024-01-03T17:29:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/392#issuecomment-1875721370","viewerDidAuthor":false}],"createdAt":"2023-12-30T14:05:32Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":392,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"OPEN","title":"[Feature Request] Add temporal_worker_task_slots_total metric","updatedAt":"2024-01-03T17:29:12Z","url":"https://github.com/temporalio/features/issues/392"}
