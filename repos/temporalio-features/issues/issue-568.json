{"assignees":[],"author":{"id":"MDQ6VXNlcjEzMDI0OTM1","is_bot":false,"login":"OpeOnikute","name":"Opeyemi Onikute"},"body":"**Is your feature request related to a problem? Please describe.**\r\nThe visibility API provides [powerful query functionality](https://docs.temporal.io/visibility#list-filter), but in the Golang SDK to create a query, the only option is to build your query by concatenating strings. This is brittle and is an opportunity to provide a nice query builder, like we have with SQL builders: https://github.com/huandu/go-sqlbuilder.\r\n\r\n**Describe the solution you'd like**\r\nA simple to use query builder that supports all the defined logical operators and list filters. I currently have a custom one that looks like this:\r\n```\r\nq := temporal.QueryBuilder{}\r\n// temporal is an internal package with re-usable constants\r\nq.StartQuery(temporal.SearchAttrExecutionStatus, '=', temporal.ExecStatusRunning)\r\nq.And(temporal.SearchAttrWorkflowType, '=', workflowName)\r\n// Look for a running workflow with the name\r\n// q.Encode() returns something like: \"WorkflowType='TestMe' AND ExecutionStatus='Running'\"\r\nrequest := &workflowservice.ListWorkflowExecutionsRequest{Query: q.Encode()}\r\n```\r\n\r\n**Describe alternatives you've considered**\r\nPreviously built queries using custom formatting\r\n```\r\nquery = fmt.Sprintf(\"ExecutionStatus = 'Running' AND WorkflowType = '%s' AND (StartTime between '%s' and '%s')\", workflowName, startTimeBoundary, currentTime.Format(time.RFC3339))\r\n```\r\n\r\n**Additional context**\r\n-","closedAt":null,"comments":[{"id":"IC_kwDOGflYbs6X4xYW","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Moving to features since this is a cross SDK feature ask, nothing specific to the Go SDK ","createdAt":"2024-12-17T11:45:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/568#issuecomment-2548241942","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs6Yi_o0","author":{"login":"OpeOnikute"},"authorAssociation":"NONE","body":"While it can be implemented in every SDK, it's not particularly a cross-SDK ask because we just need methods to build strings. But to be fair, I use the Golang so I only care that it's present there. If other SDKs want it, separate discussion.\r\n\r\nI have open-sourced my implementation of this here - https://github.com/OpeOnikute/temporal-go-querybuilder. It was trivial to write.\r\n\r\nIf it makes sense, I can try to make a PR to the Golang SDK. \r\n\r\n","createdAt":"2024-12-23T09:40:31Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/568#issuecomment-2559310388","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs6Yj8P6","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"I understand you only require it on the Go, but Temporal tries to maintain parity and consistency across all the SDKs we own. Unless the feature request is inherently language specific, If we are to add this to one SDK we would need add it to all SDKs and any design would need to consider across all SDKs.\r\n\r\nThat being said I don't think there is any reason this query builder would **need** to live in the SDK so you may consider just packaging your query builder as its own Go module and share it the community.","createdAt":"2024-12-23T11:56:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/568#issuecomment-2559558650","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs6YkBhG","author":{"login":"OpeOnikute"},"authorAssociation":"NONE","body":"While I'm happy to share it as a Go module in my repository (I have done so already), I believe it should live on one of the official Temporal repositories for ease of discovery, support, and documentation going forward. But none of that matters if no one needs it.\r\n\r\nI'll leave you to decide what to do with this issue. If other members of the community start to want this as the Visibility API becomes more mature, it can be revisited.\r\n\r\nFor now, https://github.com/OpeOnikute/temporal-go-querybuilder remains available for anyone who needs it.\r\n","createdAt":"2024-12-23T12:08:52Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/568#issuecomment-2559580230","viewerDidAuthor":false}],"createdAt":"2024-12-16T21:36:45Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":568,"reactionGroups":[],"state":"OPEN","title":"SDK should provide a native query builder","updatedAt":"2024-12-23T12:09:38Z","url":"https://github.com/temporalio/features/issues/568"}
