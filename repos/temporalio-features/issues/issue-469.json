{"assignees":[],"author":{"id":"U_kgDOCeuzXQ","is_bot":false,"login":"drewhoskins-temporal","name":"Drew Hoskins"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nBy default, `start_update` waits until the (often remote) worker accepts it.\r\n\r\nIt misleads customers into thinking it's fully async, as `start_activity` and `start_workflow` are.  Customers won’t be aware that the remote worker blocks this call and might inadvertently take a dependency on a worker, for example, that has a lower availability level than the service calling it.  Such a mistake would cause an outage to a critical service.\r\n\r\nIn the future, we want users to be able to choose durable-on-admitted.  Removing the default here would make space for that.\r\n\r\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\r\n\r\n### Describe the solution you'd like\r\nWe decided to force customers to explicitly pass in a flag saying what’s being awaited. (e.g. start_update(wait_for_stage=ACCEPTED/COMPLETED)) and then if they don’t provide it.\r\nWe should also make sure the comments are clear that the remote worker must be present for the operation to work.\r\n\r\n<!-- A clear and concise description of what you want to happen. SCREENSHOTS OR CODE SAMPLES ARE VERY HELPFUL -->\r\n\r\n### Additional context\r\n\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n\r\n### Per-SDK Tickets\r\n\r\n<!-- Add links here once the tickets are created (no need to create them immediately). -->\r\n\r\n- [x] Go - https://github.com/temporalio/sdk-go/issues/1449\r\n- [x] Java - https://github.com/temporalio/sdk-java/issues/2045\r\n- [x] Core - \r\n- [x] TypeScript - https://github.com/temporalio/sdk-typescript/issues/1403\r\n- [x] Python - https://github.com/temporalio/sdk-python/issues/514\r\n- [x] .NET - https://github.com/temporalio/sdk-dotnet/issues/231\r\n- [x] PHP - https://github.com/temporalio/sdk-php/issues/426\r\n- [x] Temporal CLI - https://github.com/temporalio/cli/issues/597\r\n","closedAt":"2024-10-29T14:53:09Z","comments":[{"id":"IC_kwDOGflYbs57zjJP","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> Or force customers to explicitly pass in a flag saying what’s being awaited\r\n\r\nI like this required-wait-stage approach and we can remove the requirement and default to durable on-admitted if/when it becomes available. If there's no objection from others, would love to make this the way in all SDKs\r\n\r\nThere is a set of pending work for updates in SDKs once internal metering is improved that this work can be a part of. This issue, #431, and #432 should all be knocked out by each SDK (some are already done).","createdAt":"2024-04-25T12:52:40Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/469#issuecomment-2077110863","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs6RtCFq","author":{"login":"josh-berry"},"authorAssociation":"NONE","body":"Closing since afaik this is done. @drewhoskins-temporal please re-open if you disagree.","createdAt":"2024-10-29T14:53:09Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/469#issuecomment-2444501354","viewerDidAuthor":false}],"createdAt":"2024-04-25T01:10:48Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":469,"reactionGroups":[],"state":"CLOSED","title":"Make start_update users aware that it's synchronous w/ worker.","updatedAt":"2024-10-29T14:53:09Z","url":"https://github.com/temporalio/features/issues/469"}
