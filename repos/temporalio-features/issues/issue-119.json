{"assignees":[{"id":"MDQ6VXNlcjIwNjgxMjQ=","login":"rodrigozhou","name":"Rodrigo Zhou","databaseId":0}],"author":{"id":"MDQ6VXNlcjI1MTI4OA==","is_bot":false,"login":"lorensr","name":"Loren ☺️"},"body":"**Is your feature request related to a problem? Please describe.**\n\nUser would like to edit `memo` from inside the Workflow, like [`upsertSearchAttributes`](https://docs.temporal.io/application-development/observability?lang=ts#upsert-custom-search-attributes)\n\nhttps://temporalio.slack.com/archives/C01DKSMU94L/p1659963126631549\n\n**Describe the solution you'd like**\n\n```ts\nimport { upsertMemo } from '@temporalio/workflow'\n\nfunction myWorkflow() {\n  upsertMemo({ newField: 'foo', changeExistingField: 'bar' })\n}\n```\n\n### SDKs\n\n- [x] Core - https://github.com/temporalio/sdk-core/issues/383\n- [x] TS - https://github.com/temporalio/sdk-typescript/issues/1124\n- [x] Python - https://github.com/temporalio/sdk-python/issues/190\n- [x] Go - https://github.com/temporalio/sdk-go/pull/883\n- [x] Java - https://github.com/temporalio/sdk-java/issues/623\n- [x] .NET - since inception\n- [ ] PHP","closedAt":null,"comments":[{"id":"IC_kwDOGflYbs5IkZEO","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"How would I delete an existing field?","createdAt":"2022-08-16T17:49:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/119#issuecomment-1217499406","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5IkZEP","author":{"login":"dnr"},"authorAssociation":"MEMBER","body":"Set it to `null`. We support this for search attributes now with temporalio/temporal#3047.","createdAt":"2022-08-16T17:53:04Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/119#issuecomment-1217499407","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5IkZEQ","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Requires an sdk-features issue plus spec.\r\nI'd like us to think what the behavior's going to be when we allow modifying the memo externally.\r\nIt could be as simple as \"last writer wins\" as long as the server is responsible for merging partial upserts IMHO, others have raise a need for an update token but I don't think that's necessary here.","createdAt":"2022-08-17T06:00:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/119#issuecomment-1217499408","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5IkZEV","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"> Set it to `null`. We support this for search attributes now with temporalio/temporal#3047.\r\n\r\nWe'd have to think if that's the desired experience per SDK, we might want a `deleteMemoFields` helper, we'll decide at implementation time.","createdAt":"2022-08-17T06:03:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/119#issuecomment-1217499413","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5IkZJC","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"Moved to sdk-features","createdAt":"2022-08-17T06:05:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/119#issuecomment-1217499714","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5IkZWm","author":{"login":"bergundy"},"authorAssociation":"MEMBER","body":"From the Go PR, we should discuss the behavior in SDK:\r\n> Didn't look at the code but something I wish we'd done with search attributes in TS is delay sending the command until the end of an \"activation\", so if a user calls UpsertMemo({ a: 1 }); UpsertMemo({ b: 2 }); UpsertMemo({ a: 2 }) the SDK would only issue 1 UpsertMemo({ a: 2, b: 2}) command.","createdAt":"2022-08-17T06:06:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/119#issuecomment-1217500582","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs6ePMGI","author":{"login":"roxblnfk"},"authorAssociation":"COLLABORATOR","body":"PHP: implemented in [v2.13.0](https://github.com/temporalio/sdk-php/releases/tag/v2.13.0)","createdAt":"2025-02-12T20:33:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/119#issuecomment-2654781832","viewerDidAuthor":false}],"createdAt":"2022-08-10T19:03:31Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":119,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"OPEN","title":"Add upsertMemo command","updatedAt":"2025-06-03T16:40:51Z","url":"https://github.com/temporalio/features/issues/119"}
