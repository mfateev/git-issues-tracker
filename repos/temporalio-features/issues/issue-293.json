{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNTA0MDQ5","is_bot":false,"login":"Quinn-With-Two-Ns","name":"Quinn Klassen"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nAdd a way for users to obtain an update requests `UpdateID` in a handler.\r\n\r\n### Describe the solution you'd like\r\n\r\nIn Go I would implement it through `Info` call like `GetUpdateInfo`\r\n\r\n```\r\nfunc Counter(ctx workflow.Context) (int, error) {\r\n\tlog := workflow.GetLogger(ctx)\r\n\tcounter := 0\r\n\r\n\tif err := workflow.SetUpdateHandlerWithOptions(\r\n\t\tctx,\r\n\t\tFetchAndAdd,\r\n\t\tfunc(ctx workflow.Context, i int) (int, error) {\r\n                        updateID := workflow.GetUpdateInfo(ctx).UpdateID\r\n\t\t\ttmp := counter\r\n\t\t\tcounter += i\r\n\t\t\tlog.Info(\"counter updated\", \"addend\", i, \"new-value\", counter, \"update ID\", updateID)\r\n\t\t\treturn tmp, nil\r\n\t\t},\r\n\t\tworkflow.UpdateHandlerOptions{Validator: nonNegative},\r\n\t); err != nil {\r\n\t\treturn 0, err\r\n\t}\r\n```\r\n\r\n### Additional context\r\n\r\nWe should also consider adding `UpdateID` to the interceptors as well\r\n\r\n<!-- Add any other context or screenshots about the feature request here. -->\r\n\r\n- [x] Go\r\n- [ ] Java\r\n- [ ] TypeScript - https://github.com/temporalio/sdk-typescript/issues/1317\r\n- [ ] Python\r\n- [ ] .NET\r\n- [ ] Php\r\n- [ ] Ruby\r\n","closedAt":null,"comments":[{"id":"IC_kwDOGflYbs5ucbzt","author":{"login":"stephanos"},"authorAssociation":"MEMBER","body":"Out of curiosity, what's the use case behind this request?","createdAt":"2023-12-12T23:01:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/293#issuecomment-1852947693","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5uc45d","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"@stephanos There are multiple use cases for knowing an update ID including for continue as new (see typescript issue https://github.com/temporalio/sdk-typescript/issues/1317), wanting to interact with specific update requests in a workflow (see cancellation POC https://github.com/temporalio/samples-go/pull/297), or the update ID may also have some significance for the business process.","createdAt":"2023-12-13T00:18:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/features/issues/293#issuecomment-1853066845","viewerDidAuthor":false}],"createdAt":"2023-07-05T16:05:33Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":293,"reactionGroups":[],"state":"OPEN","title":"[Feature Request] Expose UpdateID in an update handler","updatedAt":"2024-07-13T01:06:55Z","url":"https://github.com/temporalio/features/issues/293"}
