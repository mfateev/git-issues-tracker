{"assignees":[],"author":{"id":"MDQ6VXNlcjU4MDIwMQ==","is_bot":false,"login":"XerxesDGreat","name":"Josh Wickham"},"body":"### Is your feature request related to a problem? Please describe.\r\n\r\nIn the documentation regarding [schedule specs](https://docs.temporal.io/workflows#spec), there is a sample json structure which can be used by tctl to schedule the running of workflows. By contrast, the SDKs (in particular, the Java SDK) require rigidly structured and often cumbersome operations to create the same. This discrepancy means that it is impossible to simply copy the configuration from one place and use it in another which makes development of schedule specs in different languages more risky.\r\n\r\nFurther, the fact that the method of defining a schedule spec requires construction of multiple objects in a very particular way means it's more difficult for a less technical person to define a schedule spec and considerably decreases the readability of the spec.\r\n\r\n### Describe the solution you'd like\r\n\r\nThe proposal is to provide a method which accepts a json structure (as on the page linked above) and, from that, constructs a ScheduleSpec. This would allow for potential extraction of schedule definition to a config file, meaning source code doesn't need to be changed whilst making changes to a schedule. Further, one could copy the schedule spec from one application to another, even in a different language, and have confidence that the resulting runtime operates on the same schedule. This translation from json to schedule spec already happens in the `tctl` application; porting that logic to the other temporal libraries would be incredibly helpful.\r\n\r\n### Additional context\r\n\r\n\r\n","closedAt":"2023-10-06T19:15:27Z","comments":[{"id":"IC_kwDOGflYbs5oW0TY","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"I believe this is a duplicate of #118. Can you confirm?","createdAt":"2023-10-06T14:50:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/341#issuecomment-1750811864","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5oX9rO","author":{"login":"XerxesDGreat"},"authorAssociation":"NONE","body":"No, that's not a duplicate; that ticket is asking for being able to define schedules in code at all. What I would like is for the SDKs to have a method which accepts a json blob defining the calendar specification, the same type of blob specified in the docs linked above which is accepted by `tctl`. For example:\r\n\r\n```\r\nString json = \"\"\"\r\n{\r\n  \"year\": \"2022\",\r\n  \"month\": \"Jan,Apr,Jul,Oct\",\r\n  \"dayOfMonth\": \"1,15\",\r\n  \"hour\": \"11-14\"\r\n}\r\n\"\"\"\r\nScheduleSpec spec = ScheduleSpec.fromJson(json);\r\n```\r\n\r\nThis would provide the ability to use _exactly_ the same specification (the json blob) in all the SDKs, ensuring consistency of schedules across the various languages. This also provides a much easier method for defining the schedule since the Java analog of the spec above looks like \r\n```\r\nScheduleCalendarSpec.Builder builder = ScheduleCalendarSpec.newBuilder()\r\n  .setYear(listOf(ScheduleRange(2022)))\r\n  .setMonth(listOf(ScheduleRange(1), ScheduleRange(4), ScheduleRange(7), ScheduleRange(10)))\r\n  .setDayOfMonth(listOf(ScheduleRange(1), ScheduleRange(15)))\r\n  .setHour(listOf(ScheduleRange(11,14)))\r\nScheduleSpec = ScheduleSpec.newBuilder()\r\n  .setCalendars(listOf(builder.build())\r\n  .build()\r\n```\r\nIt is far harder to grok what is going on in that code which makes it more difficult and risky to add or change schedules, which is compounded by each of the SDKs having different ways of doing things. Introducing helper functions to make them as consistent with each other as possible leads to less risk of bugs and misconfiguration going forward.","createdAt":"2023-10-06T16:59:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/341#issuecomment-1751112398","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5oYM0l","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"That aforementioned issue will be tracking the ability to create schedules from a declarative language like YAML/JSON (JSON is a bit rough for humans that may want to add comments and such). And it would be the same format across all SDKs/CLI and there will be SDK methods to use that declarative language to create/update schedules.","createdAt":"2023-10-06T17:40:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/341#issuecomment-1751174437","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5oYT2n","author":{"login":"XerxesDGreat"},"authorAssociation":"NONE","body":"if that's what it means, fine. That's not what I got from reading the issue is all. If you think this is a dupe, then the history on that ticket will show this link so it's not lost to the ether :-)","createdAt":"2023-10-06T18:05:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/341#issuecomment-1751203239","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5oYqJV","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":":+1: I added clarification over there","createdAt":"2023-10-06T19:15:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/341#issuecomment-1751294549","viewerDidAuthor":false}],"createdAt":"2023-10-05T21:40:26Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":341,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Allow SDKs to create Schedule specs from tctl json structure","updatedAt":"2023-10-06T19:15:27Z","url":"https://github.com/temporalio/features/issues/341"}
