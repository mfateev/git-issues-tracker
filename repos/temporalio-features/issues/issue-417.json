{"assignees":[],"author":{"id":"MDQ6VXNlcjI1NjU5NjIz","is_bot":false,"login":"elb3k","name":"Elbek Khoshimjonov"},"body":"**Is your feature request related to a problem? Please describe.**\r\nI have a few workflows where we make a lot of small changes, causing the workflows to encounter non-deterministic panics. These workflows are usually finite-state machines, so it is usually ok to restart (ideally with the signal replay).\r\n\r\n**Describe the solution you'd like**\r\nWant to have a new `PanicPolicy` option called `RestartWorkflow`, if this option is selected, the workflow will be restarted from the beginning when a non-deterministic error happens (ideally with signal replay).\r\n\r\n**Describe alternatives you've considered**\r\nTried to make versioning work, but there are so many small changes, that it would be impossible to maintain the codebase with a lot of versions.\r\n\r\n","closedAt":null,"comments":[{"id":"IC_kwDOGflYbs5yLcBI","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Hm I think the request makes sense a few things to note:\r\n\r\n* There is nothing Go SDK exclusive about this. All SDKs have non determinism error, generally surfaced as an exception. This feature to restart a workflow on nondeterminism would be relevant to all SDKs.\r\n* If you want signal to reapply (and update in the future) you would need to use reset, but that has some limitations around child workflows. \r\n* I think this would first need support on the server side, possibly from a new type of workflow completed command.","createdAt":"2024-01-29T21:25:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/417#issuecomment-1915600968","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5yLcPG","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Moving out of the Go SDK to features since this ask applies to all SDKs","createdAt":"2024-01-29T21:27:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/417#issuecomment-1915601862","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5ySR-P","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"There is no real concept of \"workflow restart\". There is \"workflow retry\", and if the retry policy is not good enough for this use case then we can discuss altering it. But I would not suggest any implied retry policy beyond the default. I would also never suggest auto-reset as we usually consider reset to be a blunt instrument not to be used often.\r\n\r\nThis isn't just panics either, this is more of a statement about \"workflow task failure policy\" if it's general language. I think a concept of \"workflow task failure = workflow retry\" or similar is a bit much.\r\n\r\nNon-determinism errors should not be blindly subject to retry anyways IMO.","createdAt":"2024-01-30T16:14:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/417#issuecomment-1917394831","viewerDidAuthor":false}],"createdAt":"2024-01-29T19:57:59Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":417,"reactionGroups":[],"state":"OPEN","title":"RestartWorkflow on workflow task failure","updatedAt":"2024-01-30T16:14:27Z","url":"https://github.com/temporalio/features/issues/417"}
