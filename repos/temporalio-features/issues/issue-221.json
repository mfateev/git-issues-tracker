{"assignees":[],"author":{"id":"MDQ6VXNlcjUzMjEwOA==","is_bot":false,"login":"Spikhalskiy","name":"Dmitry Spikhalsky"},"body":"## Describe the solution you'd like\n\nIf user deployed a worker with unregistered Local Activity implementation, this should fail workflow task and the user should get a chance to redeploy the fixed worker. Such deployment shouldn't lead to workflow failures, as it's clearly a bug and a deployment issue.\n\n## Why\n\n- If Local Activity is not registered, it's pointless to keep retrying on the same worker. It will not be fixed without worker redeployment. Hence Workflow Task failure is a prerequisite to fixing the issue.\n- Most users wouldn't want their executions to be failed because of incorrect workers deployment that doesn't have one of the activities registered\n- If user has non-homogenous deployment (some workers stuck on older code versions), it actually allows the task to be dispatched on a worker with registered activity \n\nTasks:\n\n- [x] Java - https://github.com/temporalio/sdk-java/issues/1561\n- [x] Go - Done, but does not seem to fail the workflow task, returns error\n- [x] TypeScript - Done\n- [ ] Python - https://github.com/temporalio/sdk-python/issues/845\n- [ ] .NET - https://github.com/temporalio/sdk-dotnet/issues/463\n- [ ] Ruby - https://github.com/temporalio/sdk-ruby/issues/253\n\n# Context\n\n[Related Slack Discussion](https://github.com/temporalio/features/files/10530498/C01FG4BRQVB-1674766048.292769.txt)\n","closedAt":"2025-05-15T19:57:41Z","comments":[{"id":"IC_kwDOGflYbs6oPNYF","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"Does _not_ fail workflow task in Python as of 1.10","createdAt":"2025-04-22T21:50:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"CONFUSED","users":{"totalCount":1}}],"url":"https://github.com/temporalio/features/issues/221#issuecomment-2822559237","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs6oPkKT","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"Typescript will throw a `ReferenceError` up to the workflow, so, all good there.","createdAt":"2025-04-22T23:00:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/221#issuecomment-2822652563","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs6oWCyK","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Opened issues for .NET and Ruby too. Core-based SDKs need to check on the workflow side before sending to Core if the local activity is not found (so they can fail the task), and of course they should not fail if a dynamic activity is on the worker.","createdAt":"2025-04-23T13:41:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/221#issuecomment-2824350858","viewerDidAuthor":false}],"createdAt":"2023-01-29T18:13:15Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":221,"reactionGroups":[],"state":"CLOSED","title":"Unregistered Local Activity should fail Workflow Task","updatedAt":"2025-05-15T19:57:41Z","url":"https://github.com/temporalio/features/issues/221"}
