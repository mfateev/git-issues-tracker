{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"### Describe the solution you'd like\r\n\r\n* SDK workers need to set (converted) query failures on to the new `failure` field on https://github.com/temporalio/api/pull/503, but making sure to keep setting `error_message` to the same value as `failure.message`.\r\n* SDK clients need to check for this `QueryFailedFailure` gRPC failure details on query response gRPC failure and if present and failure is present, need to set that as the cause of whatever is returned/thrown/raised today. For backwards compatibility, do not change the error that is used today though, only update the cause.\r\n\r\n### Per-SDK Tickets\r\n\r\nWork cannot commence until https://github.com/temporalio/temporal/pull/6947 is released in a testable dev server. Core-based SDKs don't technically need to wait on Core since it already accepts a full failure type, but in order to test that this works end to end, they need to be able to generate a query failure that is properly serialized, so Core is needed first.\r\n\r\n- [ ] Go - TODO after server released\r\n- [ ] Java - TODO after server released\r\n- [ ] Core - TODO after server released\r\n- [ ] TypeScript - TODO after Core\r\n- [ ] Python - TODO after Core\r\n- [ ] .NET - TODO after Core\r\n- [ ] Ruby - TODO after Core\r\n- [ ] PHP - TODO after Go\r\n- [ ] Temporal CLI - TODO after Go\r\n","closedAt":null,"comments":[],"createdAt":"2024-12-06T17:58:06Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":566,"reactionGroups":[],"state":"OPEN","title":"Support full query failure structure","updatedAt":"2024-12-06T17:59:48Z","url":"https://github.com/temporalio/features/issues/566"}
