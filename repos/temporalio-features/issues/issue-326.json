{"assignees":[],"author":{"id":"MDQ6VXNlcjI1MTI4OA==","is_bot":false,"login":"lorensr","name":"Loren ☺️"},"body":"### Is your feature request related to a problem? Please describe.\n<!-- A clear and concise description of what the problem is. Ex. I'm always frustrated when [...] -->\n\nCGS believes all SDKs retry for longer than the longest namespace migration Unavailable period (10s), which is why they say that Cloud's expected downtime is not SDK calls failing—it's just higher latency. It's [possible](https://github.com/temporalio/sdk-typescript/pull/1012) for the TS Client to retry for less than that.\n\n### Describe the solution you'd like\n<!-- A clear and concise description of what you want to happen. SCREENSHOTS OR CODE SAMPLES ARE VERY HELPFUL -->\n\nFigure out what default retry period we want Clients to have (& maybe ask Server & Cloud teams what they want Clients to do) and apply it across the board. IMO it should be at least 10s + some buffer.\n\nI think all Workers indefinitely retry retryable error codes, but we could confirm that while we're at it.\n\n### Current status\n<!-- Add any other context or screenshots about the feature request here. -->\n\n* TS: \n  * [Client](https://github.com/temporalio/sdk-typescript/blob/8112c9fcd666f093091fc5515b097a8179a59b50/packages/client/src/grpc-retry.ts#L69-L77): maxAttempts 10, factor 2, initial interval 20ms (see [spreadsheet](https://github.com/temporalio/sdk-typescript/pull/1012) with minimum cumulative)\n  * Worker: indefinite\n* Java:\n  * [Client](https://github.com/temporalio/sdk-java/blob/efce2f17cc373cc717cf9152c0d5f59d9969c139/temporal-serviceclient/src/main/java/io/temporal/serviceclient/rpcretry/DefaultStubServiceOperationRpcRetryOptions.java#L34): 1m\n  * Worker: indefinite\n\n### Related\nhttps://github.com/temporalio/features/issues/27\n\n","closedAt":"2024-02-27T20:37:03Z","comments":[{"id":"IC_kwDOGflYbs5nPVCe","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Also make sure that Clients retry the initial connection, not just methods called after connection is established. \r\n\r\n@rross reports that Java Client doesn't retry.\r\n\r\nTypeScript does:\r\n\r\n<img width=\"724\" alt=\"image\" src=\"https://github.com/temporalio/features/assets/251288/7dab083a-3405-447a-9e60-127906da60d5\">\r\n","createdAt":"2023-09-22T21:55:49Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/326#issuecomment-1732071582","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs51RmiA","author":{"login":"chronos-tachyon"},"authorAssociation":"NONE","body":"NB: the Java retry issue has been filed as a separate ticket (SDK-1742 in internal Jira) that I hope to get to in the next two weeks.  There currently isn't a public GitHub ticket but I'd be happy to create one if it's needed.","createdAt":"2024-02-27T20:37:12Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/326#issuecomment-1967548544","viewerDidAuthor":false}],"createdAt":"2023-08-21T00:14:51Z","labels":[{"id":"LA_kwDOGflYbs7XtLc6","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":326,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Unified client gRPC retry periods","updatedAt":"2024-02-27T20:37:12Z","url":"https://github.com/temporalio/features/issues/326"}
