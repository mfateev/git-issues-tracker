{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"Need a more formal way to test that history is compatible across SDK versions and will continue to be. Notes:\n\n* The `features` repo today has a concept of capturing history as a JSON file when it runs using `--generate-history`. This history, if present on future runs, will be replayed. For example, here's some captured history for Go/Java at https://github.com/temporalio/features/tree/main/features/activity/retry_on_error/history that is now tested on each features run. But this capture/replay is not supported in all languages and it doesn't make sense for every feature. We could expand use of this.\n* Some SDK tests, especially in Go and Java, have a decent amount of old histories they replay during unit testing. We could do this more in other SDKs.\n* The `omes` repo has a \"fuzzer\" that is capable of generating all sorts of workflow histories. This could be leveraged to generate thousands of histories to be run via replayer across newer SDK versions.\n* Some SDKs such as Python rely on standard library code to decide coroutines. There is a concern that newer language runtimes may affect things like coroutine order. So ideally any such replay testing also includes histories of workflows using asynchronous utilities from within the language that people use.\n\nSo long as the basic goal of confirming older histories are compatible on newer SDKs is accomplished, we can take one of several approaches.","closedAt":null,"comments":[],"createdAt":"2025-02-12T20:32:23Z","labels":[],"milestone":null,"number":598,"reactionGroups":[],"state":"OPEN","title":"Research and implement a way to test and make sure history is still compatible across SDK versions","updatedAt":"2025-02-12T20:34:02Z","url":"https://github.com/temporalio/features/issues/598"}
