{"assignees":[],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"History length:\r\n\r\n- Golang - https://github.com/temporalio/sdk-go/pull/851\r\n- TS - https://github.com/temporalio/sdk-typescript/issues/357\r\n- Java - https://github.com/temporalio/sdk-java/issues/1300\r\n- Python - https://github.com/temporalio/sdk-python/pull/73\r\n- PHP - https://github.com/temporalio/sdk-php/issues/222\r\n- .NET - https://github.com/temporalio/sdk-dotnet/issues/122\r\n\r\nHistory size and \"should continue as new\":\r\n\r\n- Server - https://github.com/temporalio/temporal/issues/2726 (https://github.com/temporalio/temporal/pull/3055)\r\n- Golang - https://github.com/temporalio/sdk-go/issues/628\r\n- Core - https://github.com/temporalio/sdk-core/issues/564\r\n- TS - https://github.com/temporalio/sdk-typescript/issues/695\r\n- Java - https://github.com/temporalio/sdk-java/pull/1853\r\n- Python - https://github.com/temporalio/sdk-python/pull/361\r\n- PHP - TODO\r\n- .NET - https://github.com/temporalio/sdk-dotnet/issues/122","closedAt":"2025-05-16T03:24:17Z","comments":[{"id":"IC_kwDOGflYbs49LPS8","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"Related:\r\n\r\n> We should give `Workflow.isContinueAsNewNeeded` flag to the SDKs. And it should be coming from the service.\r\n\r\nhttps://temporaltechnologies.slack.com/archives/C01FT8U10GK/p1643400086752909?thread_ts=1643398281.925129&cid=C01FT8U10GK","createdAt":"2022-02-01T00:42:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/16#issuecomment-1026356412","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5e5VBY","author":{"login":"lorensr"},"authorAssociation":"CONTRIBUTOR","body":"I think we should expose `shouldContinueAsNew` as well in all SDKs.\r\n\r\n1. If server is [able to take into account other things](https://github.com/temporalio/temporal/issues/4117), then it's better than history length/size\r\n2. This:\r\n\r\n```ts\r\nif (workflowInfo().shouldContinueAsNew) {\r\n  cAN()\r\n}\r\n```\r\nis shorter & easier to read/understand compared to:\r\n```ts\r\nif (workflowInfo().historyLength < 10_000 && workflowInfo().historySize < 10_000_000) {\r\n  cAN()\r\n}\r\n```\r\n3. We'll no longer need to teach people the right numbers to use","createdAt":"2023-06-14T22:41:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/16#issuecomment-1592086616","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5e9Apv","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> I think we should expose `shouldContinueAsNew` as well in all SDKs.\r\n\r\nConcur, when available in server (no benefit in supporting before server). Or is it already available in server? What is the logic there and is it configurable?","createdAt":"2023-06-15T13:23:43Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/16#issuecomment-1593051759","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5e9F3N","author":{"login":"mjameswh"},"authorAssociation":"MEMBER","body":"It will be important to mention in documentation the fact that relying on these properties is useless and dangerous if using an older server.","createdAt":"2023-06-15T13:32:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/features/issues/16#issuecomment-1593073101","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5e9UAt","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"We could make it a capability and error (i.e. wft failure) if invoked for older server. But I think this is a good enough reason to not even expose this until it is available _on cloud_.","createdAt":"2023-06-15T14:01:26Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/16#issuecomment-1593131053","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5jHLd7","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Note, we should call this \"continue as new suggested\" across all SDKs I think.","createdAt":"2023-08-02T19:10:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/16#issuecomment-1662826363","viewerDidAuthor":false},{"id":"IC_kwDOGflYbs5jHo4y","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"A caveat that SDKs need to note here: these three values may be delayed if viewed via query. Since the value is on wft start, a query-only poll response won't have updated history. So if you, say, sent a signal to start far-out 50 timers, and then, even after already in history stored, sent just a query, there is no new wft and therefore no value updates even though current event count is actually quite different on the server.\r\n\r\nBasically every SDK needs to document that these values may be delayed if accessed in a query.","createdAt":"2023-08-02T20:49:03Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/features/issues/16#issuecomment-1662946866","viewerDidAuthor":false}],"createdAt":"2022-02-01T00:22:35Z","labels":[],"milestone":null,"number":16,"reactionGroups":[],"state":"CLOSED","title":"SDKs should expose history length and size via Workflow info","updatedAt":"2025-05-16T03:24:18Z","url":"https://github.com/temporalio/features/issues/16"}
