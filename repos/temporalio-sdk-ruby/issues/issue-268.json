{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"### Describe the solution you'd like\n\nGetting flake like:\n\n```\nRuntimeTest#test_metric_basics = Full cause chain:\nException: Minitest::Assertion - Expected: 1\n  Actual: 2\nBacktrace:\n/home/runner/work/sdk-ruby/sdk-ruby/temporalio/vendor/bundle/ruby/3.4.0/gems/minitest-5.25.5/lib/minitest/assertions.rb:176:in 'Minitest::Assertions#assert'\n/home/runner/work/sdk-ruby/sdk-ruby/temporalio/vendor/bundle/ruby/3.4.0/gems/minitest-5.25.5/lib/minitest/assertions.rb:216:in 'Minitest::Assertions#assert_equal'\n/home/runner/work/sdk-ruby/sdk-ruby/temporalio/test/runtime_test.rb:14:in 'RuntimeTest#assert_metric_line'\n/home/runner/work/sdk-ruby/sdk-ruby/temporalio/test/runtime_test.rb:80:in 'RuntimeTest#test_metric_basics'\n```\n\nRarely in CI","closedAt":"2025-07-24T16:12:17Z","comments":[{"id":"IC_kwDOHI0NyM6saGGL","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"There is something strange with OTel where it is putting some strange metrics up in Prometheus that don't have the attributes right as we recorded. Commenting out for now, but revisit when upgrading OTel as part of https://github.com/temporalio/sdk-core/issues/862.","createdAt":"2025-05-19T23:44:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/268#issuecomment-2892521867","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM65nLuV","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Have not seen this issue since Core upgrade, closing for now, but will reopen if seen again","createdAt":"2025-07-24T16:12:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/268#issuecomment-3114056597","viewerDidAuthor":false}],"createdAt":"2025-05-14T19:25:31Z","labels":[{"id":"LA_kwDOHI0NyM7vFHIK","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":268,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Investigate `test_metric_basics` flake","updatedAt":"2025-07-24T16:12:17Z","url":"https://github.com/temporalio/sdk-ruby/issues/268"}
