{"assignees":[],"author":{"id":"MDQ6VXNlcjE4MTI5Njky","is_bot":false,"login":"blaineventurine","name":"Blaine Venturine"},"body":"### Is your feature request related to a problem? Please describe.\n\nNo.\n\n### Describe the solution you'd like\n\nI noticed several of the other SDKs have an implementation of sagas. Is there a plan to port that functionality here as well?\n\n### Additional context\n\n<!-- Add any other context or screenshots about the feature request here. -->\n","closedAt":"2025-03-25T13:42:27Z","comments":[{"id":"IC_kwDOHI0NyM6jzNsS","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> I noticed several of the other SDKs have an implementation of sagas. Is there a plan to port that functionality here as well?\n\nOnly Java and we regret it because \"saga\" is a pattern more than a utility (can see the source of the Java utility to see how trivial) and different people need different approaches (e.g. some want compensations concurrently, some want to collect compensation errors in different ways, etc). See https://temporal.io/blog/saga-pattern-made-easy and https://temporal.io/blog/compensating-actions-part-of-a-complete-breakfast-with-sagas posts on saga. For instance, in Ruby:\n\n```ruby\nclass MyWorkflow < Temporalio::Workflow::Definition\n  def execute\n    compensation_activities = []\n\n    compensation_activities << CancelHotelActivity\n    Temporalio::Workflow.execute_activity(BookHotelActivity, start_to_close_timeout: 30)\n\n    compensation_activities << CancelFlightActivity\n    Temporalio::Workflow.execute_activity(BookFlightActivity, start_to_close_timeout: 30)\n\n    compensation_activities << CancelExcursionActivity\n    Temporalio::Workflow.execute_activity(BookExcursionActivity, start_to_close_timeout: 30)\n  rescue\n    compensation_activities.reverse.each do |act|\n      Temporalio::Workflow.execute_activity(act, start_to_close_timeout: 30)\n    end\n    raise\n  end\nend\n```\n\nObviously you may customize this to your needs. Also, you may have to pass a new `Temporalio::Cancellation` to the compensation activities instead of the implied workflow one if you are expecting workflow cancellations because it won't work to execute activities with an already-canceled `Cancellation`.\n\nDoes this help? Also feel free to join us on `#ruby-sdk` channel on [Slack](https://t.mp/slack)","createdAt":"2025-03-24T13:19:30Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/236#issuecomment-2748111634","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM6j4raS","author":{"login":"blaineventurine"},"authorAssociation":"NONE","body":"Thanks for the reply! As long as I know they aren't planned for this gem, I'm happy to implement them in our code myself, our use case is nearly as trivial as the example you posted. ","createdAt":"2025-03-24T22:30:57Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/236#issuecomment-2749544082","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM6j_Z2y","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Correct, a specific utility is not planned because the pattern is already supported. We do plan on showing the pattern in a sample, see https://github.com/temporalio/samples-ruby/issues/14. (closing issue, but feel free to keep commenting or join us on Slack)","createdAt":"2025-03-25T13:42:06Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/236#issuecomment-2751307186","viewerDidAuthor":false}],"createdAt":"2025-03-22T03:37:39Z","labels":[{"id":"LA_kwDOHI0NyM7vFHIK","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":236,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Sagas","updatedAt":"2025-03-25T13:42:27Z","url":"https://github.com/temporalio/sdk-ruby/issues/236"}
