{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"### Describe the solution you'd like\n\nKeyword arguments are not supported in activities, workflows, signals, queries, or updates. We should clearly document this in README and validate this rule at definition time with a clear error.","closedAt":"2025-05-19T13:21:56Z","comments":[{"id":"IC_kwDOHI0NyM6oueNB","author":{"login":"santiagodoldan"},"authorAssociation":"NONE","body":"@cretz are there any plans on adding support to keyword arguments? We want to migrate from coinbase SDK and this would affect all our existing workflows and activities.","createdAt":"2025-04-25T15:33:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/226#issuecomment-2830754625","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM6owf31","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"There are no plans to support keyword arguments because Temporal does not support them and many languages that Ruby SDK can invoke workflows/activities on do not support them. Therefore no Temporal SDKs in languages with keyword arguments (e.g. Python) allow them in workflows/activities. We usually encourage a single parameter that can have fields added which is compatible across all of Temporal.\n\nI am just reading https://github.com/coinbase/temporal-ruby/pull/255, but struggling to understand it a bit probably because I don't understand how that SDK serializes inputs. It seems to assume that all forms of input as an array whose last value is a hash means it's kwargs? I am curious how that would work if I invoked an activity with a single arg of `['foo', { 'bar' => 'baz' }]` though I admit I didn't dig deep enough to see if that situation was properly disambiguated.","createdAt":"2025-04-25T19:36:06Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/226#issuecomment-2831285749","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM6pDzoO","author":{"login":"santiagodoldan"},"authorAssociation":"NONE","body":"It's because the input goes inside another array ðŸ‘‡ \n\n```ruby\n[\n  [\n    \"foo\",\n    {\n      \"bar\": \"baz\"\n    }\n  ]\n]\n```\n\n> I am just reading [coinbase/temporal-ruby#255](https://github.com/coinbase/temporal-ruby/pull/255), but struggling to understand it a bit probably because I don't understand how that SDK serializes inputs. It seems to assume that all forms of input as an array whose last value is a hash means it's kwargs? I am curious how that would work if I invoked an activity with a single arg of `['foo', { 'bar' => 'baz' }]` though I admit I didn't dig deep enough to see if that situation was properly disambiguated.\n\n","createdAt":"2025-04-28T19:48:43Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/226#issuecomment-2836347406","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM6pD7JJ","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> It's because the input goes inside another array\n\nNot following exactly. How can you differentiate `('foo', bar: 'baz')` and `('foo', { 'bar' => 'baz' })` in this case? One is a positional and keyword parameter, another is two positional parameters, and it's important to know which is which at deserialization time.\n\nAll Temporal SDKs only support positional parameters, and all Temporal SDKs strongly encourage a single parameter that is an object/dict that can have fields added.","createdAt":"2025-04-28T20:01:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/226#issuecomment-2836378185","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM6pMlXC","author":{"login":"santiagodoldan"},"authorAssociation":"NONE","body":"I did a little bit more of investigation\n\n**Coinbase SDK**\n\n```ruby\nTemporal.start_workflow(FooWorkflow, ['foo', { bar: 'baz' }])\n```\n\n![Image](https://github.com/user-attachments/assets/1afe6a30-7833-469a-9fbd-cd3702bc00ea)\n\n```ruby\nTemporal.start_workflow(FooWorkflow, 'foo', { bar: 'baz' })\n```\n\n![Image](https://github.com/user-attachments/assets/23e02c64-3abc-46e6-9f87-34b23bb986bd)\n\n**Temporal SDK**\n\n`client.start_workflow(FooWorkflow, ['foo', { bar: 'baz' }], id: SecureRandom.uuid, task_queue: 'general')`\n\n![Image](https://github.com/user-attachments/assets/c9032616-bdaf-45fe-bf62-bf39553235dc)\n\n`client.start_workflow(FooWorkflow, 'foo', { bar: 'baz' }, id: SecureRandom.uuid, task_queue: 'general')`\n\n![Image](https://github.com/user-attachments/assets/caa78c66-1af0-4a6a-97df-cfb5950c32af)\n\nThe only difference so far is the extra `:` which I don't know why they add it. There is almost the same behavior here which is great. The difference is how each SDK treats that input.\n\n> Not following exactly. How can you differentiate `('foo', bar: 'baz')` and `('foo', { 'bar' => 'baz' })` in this case? One is a positional and keyword parameter, another is two positional parameters, and it's important to know which is which at deserialization time.\n\nThat's the magic of the double splat operator, it will support both, a positional argument or keyword arguments. So if your #execute method defines positional or keyword arguments, it doesn't matter.\n\n```ruby\narda(dev)* def foo(a, b)\narda(dev)*   p a, b\narda(dev)> end\n=> :foo\n\narda(dev)* def bar(a, bar:)\narda(dev)*   p a, bar\narda(dev)> end\n=> :bar\n\narda(dev)> foo('foo', **{ bar: 'baz' })\n\"foo\"\n{:bar=>\"baz\"}\n=> [\"foo\", {:bar=>\"baz\"}]\n\narda(dev)> bar('foo', **{ bar: 'baz' })\n\"foo\"\n\"baz\"\n=> [\"foo\", \"baz\"]\n```\n","createdAt":"2025-04-29T12:33:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/226#issuecomment-2838648258","viewerDidAuthor":false},{"id":"IC_kwDOHI0NyM6pN8ts","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"We don't want to build expectations on certain keyword argument presence/requirement. We want to have an unambiguous parameter signature arity in all SDKs. If you pass a hash as _one_ of your parameters, it is _one_ of your parameters, not sometimes one and sometimes multiple. Also the addition of a key into a hash shouldn't cause an invocation failure because you were using keyword args and hadn't yet defined that new key. If you'd like to destructure it _inside_ your workflow that is ok, but Temporal only supports positional parameters in its serialized form and we only therefore want positional parameters in deserialized form instead of treating a trailing hash as special.","createdAt":"2025-04-29T13:50:06Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/226#issuecomment-2839006060","viewerDidAuthor":false}],"createdAt":"2025-02-24T20:26:18Z","labels":[{"id":"LA_kwDOHI0NyM7vFHIK","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":226,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Document and validate that keyword args are disallowed in certain contexts","updatedAt":"2025-05-19T13:21:56Z","url":"https://github.com/temporalio/sdk-ruby/issues/226"}
