{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"### Describe the solution you'd like\n\n~Add a default-false boolean `disable_durable_workflow_scheduler` option to `Temporalio::Contrib::OpenTelemetry::TracingInterceptor.new` that, when set to `true`, runs OTel code from the workflow interceptor in `Temporalio::Workflow::Unsafe.durable_scheduler_disabled`.~ See first comment","closedAt":"2025-12-02T23:10:11Z","comments":[{"id":"IC_kwDOHI0NyM7Wui_b","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"After research, we already disable durable scheduler, it's just that some libraries are monkey-patching `Context.current` which can make it non-deterministic (e.g. [DataDog](https://github.com/DataDog/dd-trace-rb/blob/f88393d0571806b9980bb2cf5066eba60cfea177/lib/datadog/opentelemetry/api/context.rb#L184)). So we just need to disable the durable scheduler for every OTel call, not just the obvious non-deterministic ones.","createdAt":"2025-12-02T15:08:54Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-ruby/issues/359#issuecomment-3602526171","viewerDidAuthor":false}],"createdAt":"2025-11-07T19:46:01Z","labels":[{"id":"LA_kwDOHI0NyM7vFHIK","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":359,"reactionGroups":[],"state":"CLOSED","title":"[Feature Request] Disable durable scheduler for all OTel in-workflow calls, not just some","updatedAt":"2025-12-02T23:10:11Z","url":"https://github.com/temporalio/sdk-ruby/issues/359"}
