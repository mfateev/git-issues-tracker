{"assignees":[],"author":{"id":"U_kgDOBxYAaw","is_bot":false,"login":"afifurrohman-id","name":"Afif"},"body":"**Is your feature request related to a problem? Please describe.**\r\nwe really need this feature since trace, logs, request data etc.. in our app is passing through context, change this behaviour is really error prone and breaking changes,\r\nbecause some context key are dynamic based on requests.\r\n\r\n**Describe the solution you'd like**\r\nauto propagate each value in parent std lib context.\r\n\r\n**Describe alternatives you've considered**\r\nnone\r\n\r\n**Additional context**\r\nnone\r\n","closedAt":"2024-10-29T02:58:33Z","comments":[{"id":"IC_kwDODN1w686Rd9WU","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Can you please clarify what the feature request here? What do you mean by  \"auto propagate each value in parent std lib context.\"? ","createdAt":"2024-10-28T04:53:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1691#issuecomment-2440549780","viewerDidAuthor":false},{"id":"IC_kwDODN1w686Rec2l","author":{"login":"afifurrohman-id"},"authorAssociation":"NONE","body":"> Can you please clarify what the feature request here? What do you mean by \"auto propagate each value in parent std lib context.\"?\r\n\r\ni mean:\r\n```go\r\nfunc main() {\r\n  ctx := context.WithValue(context.Background(), \"key\", \"value\")\r\n  c, _ := client.Dial(client.Options{})\r\n\r\n  c.ExecuteWorkflow(ctx, client.StartWorkflowOptions{TaskQueue: \"FOO\"}, workflow)\r\n\r\n}\r\nfunc workflow(ctx workflow.Context) error {\r\n \r\n  workflow.ExecuteActivity(ctx, activity)\r\n}\r\n\r\nfunc activity(ctx context.Context) error {\r\n v := ctx.Value(\"key\") // should return \"value\"\r\n}\r\n```","createdAt":"2024-10-28T06:41:03Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1691#issuecomment-2440678821","viewerDidAuthor":false},{"id":"IC_kwDODN1w686RjZO_","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Context proportion is supported, please have a look at our samples https://github.com/temporalio/samples-go/tree/main/ctxpropagation and accompanying docs https://docs.temporal.io/develop/go/observability#tracing-and-context-propogation","createdAt":"2024-10-28T15:52:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1691#issuecomment-2441974719","viewerDidAuthor":false},{"id":"IC_kwDODN1w686Rnd35","author":{"login":"afifurrohman-id"},"authorAssociation":"NONE","body":"> Context proportion is supported, please have a look at our samples https://github.com/temporalio/samples-go/tree/main/ctxpropagation and accompanying docs https://docs.temporal.io/develop/go/observability#tracing-and-context-propogation\r\n\r\nyes, but still we need manually defined key and type of value.\r\n\r\nbut, in our usecase we have dynamic key based on request and we can't change the app behaviour to not use context.\r\n\r\nwhy not automatically have each `context.Value()` when invoke activity? does the workflow use `context.Context` too right?","createdAt":"2024-10-29T02:32:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1691#issuecomment-2443042297","viewerDidAuthor":false},{"id":"IC_kwDODN1w686RnpmM","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Yes you would need to manually define each key and make sure the value is serializable. Defining each key is Go language requirement there is nothing the Temporal SDK can do about that. Go's `context` package chose not to expose a way to iterate through all values.\r\n\r\nworkflows do not use `context.Context`, they use `workflow.Context` \r\n\r\nMarking as closed as there is nothing more in the SDK we can add.","createdAt":"2024-10-29T02:58:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1691#issuecomment-2443090316","viewerDidAuthor":false}],"createdAt":"2024-10-28T04:48:36Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1691,"reactionGroups":[],"state":"CLOSED","title":"Auto propagate context value to activity","updatedAt":"2024-10-29T02:58:33Z","url":"https://github.com/temporalio/sdk-go/issues/1691"}
