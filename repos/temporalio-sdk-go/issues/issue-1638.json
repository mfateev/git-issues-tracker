{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNTA0MDQ5","is_bot":false,"login":"Quinn-With-Two-Ns","name":"Quinn Klassen"},"body":"## Expected Behavior\r\nWorkflow Updates in Test Environment behave like Updates against a real server and either dupes for fails if an update with a duplicate ID is sent\r\n\r\n## Actual Behavior\r\nTest Environment accepts update with duplicate ID\r\n","closedAt":"2024-11-26T02:31:54Z","comments":[{"id":"IC_kwDODN1w686PYN9g","author":{"login":"yuandrew"},"authorAssociation":"MEMBER","body":"Is the ID here referring to `UpdateID` from the `UpdateClientWorkflow` options? I'm working through some other failures in setting up this workflow, want to double check I'm going down the right path.","createdAt":"2024-10-10T15:52:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1638#issuecomment-2405490528","viewerDidAuthor":false},{"id":"IC_kwDODN1w686PYjek","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":">Is the ID here referring to UpdateID from the UpdateClientWorkflow options\r\n\r\nConceptually yes, but the test environment does not use a client since it is all in memory in the same process\r\n\r\nHere is an example of sending an update with the test environment https://github.com/temporalio/samples-go/blob/main/reqrespupdate/workflow_test.go#L41, here \"test id\" is the `UpdateID`","createdAt":"2024-10-10T16:37:11Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1638#issuecomment-2405578660","viewerDidAuthor":false},{"id":"IC_kwDODN1w686PZbL7","author":{"login":"yuandrew"},"authorAssociation":"MEMBER","body":"I'm playing around with the [update go sample](https://github.com/temporalio/samples-go/tree/main/update), and when I add `UpdateID: we.GetID()` to the `UpdateWorkflowOptions`, I'm not seeing the real server throw any error. Shouldn't this update fail?","createdAt":"2024-10-10T18:44:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1638#issuecomment-2405806843","viewerDidAuthor":false},{"id":"IC_kwDODN1w686PZfyj","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"> Shouldn't this update fail?\r\n\r\nNo, the real server will dedup the update request by the update ID","createdAt":"2024-10-10T18:55:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1638#issuecomment-2405825699","viewerDidAuthor":false}],"createdAt":"2024-09-17T04:45:49Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":1638,"reactionGroups":[],"state":"CLOSED","title":"Workflow Update in Test Environment should dedup updates by ID","updatedAt":"2024-11-26T02:31:54Z","url":"https://github.com/temporalio/sdk-go/issues/1638"}
