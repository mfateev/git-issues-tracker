{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"Currently we silently do not cancel the activity context even when regularly heartbeating and a cancel occurs from the outside unless `HeartbeatTimeout` is set. We should document that this value _must_ be set for standard cancellation (i.e. context-based cancellation) to work with activities and we should warn if heartbeating is attempted on an activity with no heartbeat timeout set.","closedAt":"2021-12-03T16:32:33Z","comments":[{"id":"IC_kwDODN1w68457t4c","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Make sure to confirm that heartbeating for other purposes also doesn't work without this timeout.","createdAt":"2021-11-17T20:22:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/638#issuecomment-971955740","viewerDidAuthor":false},{"id":"IC_kwDODN1w68458Toc","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"After further investigation, there is an internal batching default of 10m that is used if a heartbeat timeout is not set. Therefore, after the first heartbeat, it can take 10m to actually send another heartbeat which is what tells it the activity has been cancelled. Therefore, the documentation needs to make sure to tell people that there can be a long time between actual server side heartbeats, which affects when an activity is told it has been cancelled, if there is no heartbeat timeout is set.","createdAt":"2021-11-17T21:56:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/638#issuecomment-972110364","viewerDidAuthor":false}],"createdAt":"2021-11-17T20:16:28Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":638,"reactionGroups":[],"state":"CLOSED","title":"Document about and warn when attempting to use activity cancellation/heartbeats without HeartbeatTimeout","updatedAt":"2021-12-03T16:32:33Z","url":"https://github.com/temporalio/sdk-go/issues/638"}
