{"assignees":[],"author":{"id":"MDQ6VXNlcjM2OTg2Mw==","is_bot":false,"login":"gnarea","name":"Gus Narea"},"body":"## Expected Behavior\n\nWhen using `testsuite.StartDevServer` with `CachedDownload.Version: \"v1.27.2\"`, the Temporal CLI should be downloaded successfully from `temporal.download` and the dev server should start without errors.\n\n## Actual Behavior\n\nThe download fails with a Cloudflare Error 1101 (\"Worker threw exception\") when attempting to fetch CLI version v1.27.2. The exact error is:\n\n```\nfailed to launch Temporal dev server: failed fetching info, status: 500 Internal Server Error, body: <!DOCTYPE html>...Worker threw exception | temporal.download | Cloudflare...\n```\n\nThe failing URL is:\n```\nhttps://temporal.download/cli/v1.27.2?platform=darwin&arch=arm64&sdk-name=sdk-go&sdk-version=1.34.0\n```\n\nNote: Using much older versions like `v1.3.0` works fine.\n\n## Steps to Reproduce the Problem\n\n  1. Create a test file with `testsuite.StartDevServer` configured with `CachedDownload.Version: \"v1.27.2\"`\n  1. Run `go test` to execute the test\n  1. Observe the Cloudflare Error 1101 when the SDK attempts to download the CLI\n\nMinimal reproduction:\n```go\ndevServer, err = testsuite.StartDevServer(ctx, testsuite.DevServerOptions{\n    CachedDownload: testsuite.CachedDownload{\n        Version: \"v1.27.2\",\n    },\n    LogLevel: \"error\",\n})\n```\n\n## Specifications\n\n  - Version: Go SDK v1.34.0, requesting Temporal CLI v1.27.2\n  - Platform: macOS (darwin) arm64, but likely affects all platforms\n  - Cloudflare Ray ID: 95642c342f7ccf94 (example from one failed request)\n\n**Additional Context:**\nThis appears to be an infrastructure issue with the `temporal.download` CDN rather than a client-side SDK issue, but reporting here since it blocks SDK functionality. The v1.27.2 CLI version is the latest release and should be the recommended version for SDK v1.34.0 compatibility.\n","closedAt":"2025-06-27T14:34:22Z","comments":[{"id":"IC_kwDODN1w686zmdy7","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"`v1.27.2` is not a valid CLI version per https://github.com/temporalio/cli. You may be confusing CLI versions with server versions.","createdAt":"2025-06-27T14:06:45Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1985#issuecomment-3013205179","viewerDidAuthor":false},{"id":"IC_kwDODN1w686zmzm-","author":{"login":"gnarea"},"authorAssociation":"NONE","body":"Thanks @cretz! You're right, that's exactly what's happening ðŸ˜¬ ","createdAt":"2025-06-27T14:34:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-go/issues/1985#issuecomment-3013294526","viewerDidAuthor":false}],"createdAt":"2025-06-27T10:22:44Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDg2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1985,"reactionGroups":[],"state":"CLOSED","title":"StartDevServer fails with Cloudflare `Error 1101` when downloading Temporal v1.27.2","updatedAt":"2025-06-27T14:34:22Z","url":"https://github.com/temporalio/sdk-go/issues/1985"}
