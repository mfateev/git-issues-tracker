{"assignees":[{"id":"MDQ6VXNlcjEzMTE2OTQ=","login":"vitarb","name":"Vitali","databaseId":0}],"author":{"id":"MDQ6VXNlcjg0NDExMDE0","is_bot":false,"login":"yiminc","name":"Yimin Chen"},"body":"## Expected Behavior\r\nLocalActivity should be retried even when no retry policy is specified.\r\n\r\n## Actual Behavior\r\nLocalActivity is not retried if no retry policy is specified. Or if retry policy is specified with only MaxAttempt=3 and all other fields left as unspecified.\r\n\r\n## additional\r\nNeed to add unit test AND integration test to verify both remote activity and local activity is retried when no retry policy is specified. Also, when retry policy is specified with only MaxAttempt = 3 and all other fields unspecified. \r\n","closedAt":"2021-10-01T00:25:35Z","comments":[{"id":"IC_kwDODN1w6843dgI1","author":{"login":"vitarb"},"authorAssociation":"CONTRIBUTOR","body":"If no retry options are set, they will be nil, and [this code](https://github.com/temporalio/sdk-go/blob/ca2954d991b6a7ed6850641c502af3720d5aba4c/internal/internal_task_handlers.go#L985) is what will preventing LA retries.\r\nIn this case LA will not be retried upon failure within the same workflow task but instead will be relying on workflow task retries. Given that we retry workflow tasks until workflow itself times out this provides a natural catch all here.\r\nLet's discuss if we want to change this behavior.","createdAt":"2021-09-29T19:32:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/563#issuecomment-930480693","viewerDidAuthor":false},{"id":"IC_kwDODN1w6843dplQ","author":{"login":"yiminc"},"authorAssociation":"MEMBER","body":"Why would the workflow task fail? The LA will return error without retry and workflow code will move on. ","createdAt":"2021-09-29T20:29:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/563#issuecomment-930519376","viewerDidAuthor":false}],"createdAt":"2021-09-29T02:39:15Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":563,"reactionGroups":[],"state":"CLOSED","title":"missing default retry policy for local activity","updatedAt":"2021-10-01T00:25:35Z","url":"https://github.com/temporalio/sdk-go/issues/563"}
