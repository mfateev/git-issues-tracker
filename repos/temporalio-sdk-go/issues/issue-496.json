{"assignees":[{"id":"MDQ6VXNlcjEzMTE2OTQ=","login":"vitarb","name":"Vitali","databaseId":0}],"author":{"id":"MDQ6VXNlcjM5MzU5MQ==","is_bot":false,"login":"aocole","name":"Andrew Cole"},"body":"**Is your feature request related to a problem? Please describe.**\r\nWhen handling an ActivityError from a workflow, it would be nice to be able to access some of the fields of the ActivityError such as retryState.\r\n\r\n**Describe the solution you'd like**\r\nI would like exported accessor functions on ActivityError to access fields such as retryState\r\n\r\n**Additional context**\r\n[Discussed in the forums](https://community.temporal.io/t/questions-around-activity-errors-retry-and-more-complex-error-handling-scenarios/2016/9?u=aocole) and Maxim requested this issue.\r\n","closedAt":"2021-08-04T18:16:08Z","comments":[{"id":"IC_kwDODN1w6841JGWX","author":{"login":"vitarb"},"authorAssociation":"CONTRIBUTOR","body":"Out of all fields\r\n```\r\n\tActivityError struct {\r\n\t\ttemporalError\r\n\t\tscheduledEventID int64\r\n\t\tstartedEventID   int64\r\n\t\tidentity         string\r\n\t\tactivityType     *commonpb.ActivityType\r\n\t\tactivityID       string\r\n\t\tretryState       enumspb.RetryState\r\n\t\tcause            error\r\n\t}\r\n```\r\ncause is already exposed via `Unwrap`\r\n\r\nwhile `Error` function provides details for activity type, scheduled/started event IDs and identity:\r\n```\r\nfunc (e *ActivityError) Error() string {\r\n\tmsg := fmt.Sprintf(\"%s (type: %s, scheduledEventID: %d, startedEventID: %d, identity: %s)\", e.message(), e.activityType.GetName(), e.scheduledEventID, e.startedEventID, e.identity)\r\n\tif e.cause != nil {\r\n\t\tmsg = fmt.Sprintf(\"%s: %v\", msg, e.cause)\r\n\t}\r\n\treturn msg\r\n}\r\n```\r\nI think for convenience reasons we should also provide values for the above variables so that users are not forced to parse the string if they need these details inside of the workflow.\r\nAlso we should add getters for two missing fields - RetryState and ActivityID.\r\nNow the question is, if we should do the same for other error types, here is a full list:\r\n```\r\nApplicationError\r\nCanceledError\r\nServerError\r\nChildWorkflowExecutionError\r\nWorkflowExecutionError\r\nTimeoutError\r\nTerminatedError\r\nPanicError\r\nUnknownExternalWorkflowExecutionError\r\n```","createdAt":"2021-08-03T06:40:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/496#issuecomment-891577751","viewerDidAuthor":false}],"createdAt":"2021-07-23T22:53:17Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":496,"reactionGroups":[],"state":"CLOSED","title":"Add accessors for ActivityError fields","updatedAt":"2021-08-04T18:16:08Z","url":"https://github.com/temporalio/sdk-go/issues/496"}
