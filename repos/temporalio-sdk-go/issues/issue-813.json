{"assignees":[],"author":{"id":"MDQ6VXNlcjg0NDExMDE0","is_bot":false,"login":"yiminc","name":"Yimin Chen"},"body":"We see one weird workflow task failure from SDK that keeps retrying and eventually succeed after 13K retry attempts. \r\nThe workflow logic is it schedules 16 activities and wait for all of them to complete. \r\nThe history shows one of the workflow task timeout due to start_to_schedule timeout (the 5s sticky timeout). After that, a new workflow task is scheduled but it failed with SDK panic complaining activity ID not found. After about 13K retry attempts, it magically succeed eventually. The binary checksum is the same before and after the failure. \r\n","closedAt":null,"comments":[{"id":"IC_kwDODN1w685Dp__j","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Have you been able to replicate this? I am afraid the information given is not enough to go on. I can write a workflow that schedules 16 activities and waits for them to complete. I can simulate a workflow task timeout. But I fear those won't replicate. It is really important we replicate the bug to confirm it exists.","createdAt":"2022-05-23T19:59:07Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/813#issuecomment-1135083491","viewerDidAuthor":false},{"id":"IC_kwDODN1w685EFz2r","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"The internal situation where this happened was due to a workflow task timeout before even started (schedule-to-start sticky timeout), but the workflow task failure continually failed _across multiple workers_ which makes it unlikely to be caused by cached workflow issues.\r\n\r\nAlso, an attempted replay with the history on the workflow did not replicate. this was with trimmed history and advanced logs to confirm that the activity ID was found.","createdAt":"2022-05-31T16:43:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/813#issuecomment-1142373803","viewerDidAuthor":false},{"id":"IC_kwDODN1w685GRnnW","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Still unable to replicate, can anyone else?","createdAt":"2022-07-08T14:00:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/813#issuecomment-1179023830","viewerDidAuthor":false}],"createdAt":"2022-05-23T19:57:06Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"},{"id":"LA_kwDODN1w687UGgkJ","name":"external dependency","description":"Waiting on something externally","color":"c5def5"}],"milestone":null,"number":813,"reactionGroups":[],"state":"OPEN","title":"Weird workflow task failure","updatedAt":"2022-07-08T14:00:56Z","url":"https://github.com/temporalio/sdk-go/issues/813"}
