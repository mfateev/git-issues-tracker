{"assignees":[],"author":{"id":"MDQ6VXNlcjM4NjA1MTg=","is_bot":false,"login":"woyong","name":"贾我勇"},"body":"```\r\nw := worker.New(c, model.TaskQueueLiveEvent, worker.Options{\r\n          Interceptors: []sdkinterceptor.WorkerInterceptor{NewWorkerInterceptor(InterceptorOptions{\r\n              GetExtraLogTagsForWorkflow: func(ctx sdkworkflow.Context) []interface{} {\r\n                  return []interface{}{\"WorkflowStartTime\", sdkworkflow.GetInfo(ctx).WorkflowStartTime.Format(time.RFC3339)}\r\n              },\r\n              GetExtraLogTagsForActivity: func(ctx context.Context) []interface{} {\r\n\r\n                  var traceID string\r\n                  if span := trace.SpanContextFromContext(ctx); span.HasTraceID() {\r\n                      traceID = span.TraceID().String()\r\n                  }\r\n                  return []interface{}{\"trace_id\", traceID}\r\n              },\r\n          })},\r\n      })\r\n```\r\n\r\ni can implement the interceptor add trace_id for activity log, but i don't know how to get trace id from workflow context.","closedAt":"2022-05-23T17:08:12Z","comments":[{"id":"IC_kwDODN1w685DOJEI","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Are you using OpenTracing or OpenTelemetry? Regardless, the context key on which the span is stored is in a non-exported struct. You may set `TracerOptions.SpanContextKey` to a custom value of your choice and then use that value to extract the span out of the context.\r\n\r\nHaving said that, I would recommend not reusing span info but instead passing your own info around in context and/or using `workflow.GetInfo` or similar.\r\n\r\nDoes this answer your question?","createdAt":"2022-05-16T14:57:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/804#issuecomment-1127780616","viewerDidAuthor":false},{"id":"IC_kwDODN1w685Dpahp","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Closing as answered. Please update if you need more info.","createdAt":"2022-05-23T17:08:12Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/804#issuecomment-1134930025","viewerDidAuthor":false}],"createdAt":"2022-05-12T13:20:56Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":804,"reactionGroups":[],"state":"CLOSED","title":"How can i get span trace id from workflow context?","updatedAt":"2022-05-23T17:08:13Z","url":"https://github.com/temporalio/sdk-go/issues/804"}
