{"assignees":[{"id":"MDQ6VXNlcjIwNjM5Ng==","login":"cretz","name":"Chad Retz","databaseId":0}],"author":{"id":"MDQ6VXNlcjk1NjM=","is_bot":false,"login":"robholland","name":"Rob Holland"},"body":"## Expected Behavior\r\n\r\nRunning https://github.com/temporalio/samples-go/blob/master/retryactivity/retry_activity_workflow.go should work as the (passing) tests suggest and hand the correct heartbeat data over to the next activity attempt when the activity reports failure.\r\n\r\n## Actual Behavior\r\n\r\nThe heartbeat batching code correctly attempts to send the last heartbeat data the activity recorded to the server when the activity fails. It seems that it re-uses the activity context to pass to the GRPC request function, but activity context is closed on the code path for activity failure handling, so the GRPC request is never made.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Run the sample against a Temporal server\r\n  1. Watch it eventually exhaust it's retry attempts and fail because only the first heartbeat details the activity records per run are actually sent to the server\r\n\r\n## Specifications\r\n\r\n  - Version: 1.9.0\r\n  - Platform: OS X (not relevant).\r\n","closedAt":"2021-10-08T21:41:19Z","comments":[{"id":"IC_kwDODN1w6842CIgE","author":{"login":"robholland"},"authorAssociation":"MEMBER","body":"Diff of the code I used to help pinpoint this:\r\n\r\n```diff\r\ngit diff                                                                                                                                                                                                                     ─╯\r\ndiff --git a/internal/activity.go b/internal/activity.go\r\nindex b838030..884eb54 100644\r\n--- a/internal/activity.go\r\n+++ b/internal/activity.go\r\n@@ -182,6 +182,7 @@ func HasHeartbeatDetails(ctx context.Context) bool {\r\n // retry attempt. Activity could extract the details by GetHeartbeatDetails() and resume from the progress.\r\n func GetHeartbeatDetails(ctx context.Context, d ...interface{}) error {\r\n        env := getActivityEnv(ctx)\r\n+       fmt.Printf(\"\\nHeartbeat Details returned: %v\\n\", env.heartbeatDetails)\r\n        if env.heartbeatDetails == nil {\r\n                return ErrNoData\r\n        }\r\ndiff --git a/internal/internal_task_handlers.go b/internal/internal_task_handlers.go\r\nindex 2823bc8..3e8ca1d 100644\r\n--- a/internal/internal_task_handlers.go\r\n+++ b/internal/internal_task_handlers.go\r\n@@ -1604,6 +1604,8 @@ type temporalInvoker struct {\r\n }\r\n\r\n func (i *temporalInvoker) Heartbeat(ctx context.Context, details *commonpb.Payloads, skipBatching bool) error {\r\n+       fmt.Printf(\"\\nHeartbeat: %v\\n\", details)\r\n+\r\n        i.Lock()\r\n        defer i.Unlock()\r\n\r\n@@ -1636,9 +1638,12 @@ func (i *temporalInvoker) Heartbeat(ctx context.Context, details *commonpb.Paylo\r\n                        select {\r\n                        case <-i.hbBatchEndTimer.C:\r\n                                // We are close to deadline.\r\n+                               fmt.Printf(\"\\nEvent: deadline\\n\")\r\n                        case <-i.workerStopChannel:\r\n                                // Activity worker is close to stop. This does the same steps as batch timer ends.\r\n+                               fmt.Printf(\"\\nEvent: worker stop\\n\")\r\n                        case <-i.closeCh:\r\n+                               fmt.Printf(\"\\nEvent: closed\\n\")\r\n                                // We got closed.\r\n                                return\r\n                        }\r\n@@ -1648,6 +1653,7 @@ func (i *temporalInvoker) Heartbeat(ctx context.Context, details *commonpb.Paylo\r\n\r\n                        i.Lock()\r\n                        detailsToReport = i.lastDetailsToReport\r\n+                       fmt.Printf(\"\\nHeartbeat Details: %v\\n\", detailsToReport)\r\n                        i.hbBatchEndTimer.Stop()\r\n                        i.hbBatchEndTimer = nil\r\n                        i.Unlock()\r\n@@ -1666,6 +1672,8 @@ func (i *temporalInvoker) Heartbeat(ctx context.Context, details *commonpb.Paylo\r\n }\r\n\r\n func (i *temporalInvoker) internalHeartBeat(ctx context.Context, details *commonpb.Payloads) (bool, error) {\r\n+       fmt.Printf(\"\\nHeartbeat Sent: %v\\n\", details)\r\n+\r\n        isActivityCanceled := false\r\n        timeout := i.heartBeatTimeout\r\n        if timeout <= 0 {\r\n@@ -1676,6 +1684,8 @@ func (i *temporalInvoker) internalHeartBeat(ctx context.Context, details *common\r\n\r\n        err := recordActivityHeartbeat(ctx, i.service, i.metricsScope, i.identity, i.taskToken, details)\r\n\r\n+       fmt.Printf(\"\\nHeartbeat Request Error: %v\\n\", err)\r\n+\r\n        switch err.(type) {\r\n        case *CanceledError:\r\n                // We are asked to cancel. inform the activity about cancellation through context.\r\n@@ -1888,6 +1898,7 @@ func recordActivityHeartbeat(ctx context.Context, service workflowservice.Workfl\r\n        defer cancel()\r\n\r\n        heartbeatResponse, err := service.RecordActivityTaskHeartbeat(grpcCtx, request)\r\n+       fmt.Printf(\"\\nHeartbeat GRPC Request Error: %v\\n\", err)\r\n        if err == nil && heartbeatResponse != nil && heartbeatResponse.GetCancelRequested() {\r\n                return NewCanceledError()\r\n        }\r\n```","createdAt":"2021-08-26T15:47:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/521#issuecomment-906528772","viewerDidAuthor":false},{"id":"IC_kwDODN1w6842CI1E","author":{"login":"robholland"},"authorAssociation":"MEMBER","body":"Example worker output when running the retryactivity sample:\r\n\r\n```\r\n2021/08/26 16:47:40 DEBUG ExecuteActivity Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 Attempt 1 ActivityID 5 ActivityType BatchProcessingActivity\r\n2021/08/26 16:47:40 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 0\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[48],},},}\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[48],},},}\r\n\r\nHeartbeat GRPC Request Error: <nil>\r\n\r\nHeartbeat Request Error: <nil>\r\n2021/08/26 16:47:41 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 0\r\n2021/08/26 16:47:41 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 1\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[49],},},}\r\n2021/08/26 16:47:42 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 1\r\n2021/08/26 16:47:42 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 2\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[50],},},}\r\n2021/08/26 16:47:43 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 2\r\n2021/08/26 16:47:43 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 3\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[51],},},}\r\n2021/08/26 16:47:44 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 3\r\n2021/08/26 16:47:44 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 4\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[52],},},}\r\n2021/08/26 16:47:45 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 4\r\n2021/08/26 16:47:45 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 5\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[53],},},}\r\n2021/08/26 16:47:46 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 5\r\n2021/08/26 16:47:46 INFO  Activity failed, will retry... Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 1 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4\r\n2021/08/26 16:47:46 ERROR Activity error. Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ActivityType BatchProcessingActivity Attempt 1 Error some retryable error (type: SomeType, retryable: true)\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[53],},},}\r\n\r\nEvent: closed\r\n\r\nHeartbeat GRPC Request Error: context canceled\r\n\r\nHeartbeat Request Error: context canceled\r\n\r\nHeartbeat Details returned: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[48],},},}\r\n2021/08/26 16:47:47 INFO  Resuming from failed attempt Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 0\r\n2021/08/26 16:47:47 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 1\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[49],},},}\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[49],},},}\r\n\r\nHeartbeat GRPC Request Error: <nil>\r\n\r\nHeartbeat Request Error: <nil>\r\n2021/08/26 16:47:48 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 1\r\n2021/08/26 16:47:48 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 2\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[50],},},}\r\n2021/08/26 16:47:49 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 2\r\n2021/08/26 16:47:49 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 3\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[51],},},}\r\n2021/08/26 16:47:50 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 3\r\n2021/08/26 16:47:50 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 4\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[52],},},}\r\n2021/08/26 16:47:51 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 4\r\n2021/08/26 16:47:51 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 5\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[53],},},}\r\n2021/08/26 16:47:52 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 5\r\n2021/08/26 16:47:52 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 6\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[54],},},}\r\n2021/08/26 16:47:53 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 6\r\n2021/08/26 16:47:53 INFO  Activity failed, will retry... Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 2 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4\r\n2021/08/26 16:47:53 ERROR Activity error. Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ActivityType BatchProcessingActivity Attempt 2 Error some retryable error (type: SomeType, retryable: true)\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[54],},},}\r\n\r\nEvent: closed\r\n\r\nHeartbeat GRPC Request Error: context canceled\r\n\r\nHeartbeat Request Error: context canceled\r\n\r\nHeartbeat Details returned: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[49],},},}\r\n2021/08/26 16:47:55 INFO  Resuming from failed attempt Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 1\r\n2021/08/26 16:47:55 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 2\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[50],},},}\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[50],},},}\r\n\r\nHeartbeat GRPC Request Error: <nil>\r\n\r\nHeartbeat Request Error: <nil>\r\n2021/08/26 16:47:56 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 2\r\n2021/08/26 16:47:56 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 3\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[51],},},}\r\n2021/08/26 16:47:57 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 3\r\n2021/08/26 16:47:57 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 4\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[52],},},}\r\n2021/08/26 16:47:58 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 4\r\n2021/08/26 16:47:58 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 5\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[53],},},}\r\n2021/08/26 16:47:59 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 5\r\n2021/08/26 16:47:59 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 6\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[54],},},}\r\n2021/08/26 16:48:00 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 6\r\n2021/08/26 16:48:00 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 7\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[55],},},}\r\n2021/08/26 16:48:01 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 7\r\n2021/08/26 16:48:01 INFO  Activity failed, will retry... Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 3 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4\r\n2021/08/26 16:48:01 ERROR Activity error. Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ActivityType BatchProcessingActivity Attempt 3 Error some retryable error (type: SomeType, retryable: true)\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[55],},},}\r\n\r\nEvent: closed\r\n\r\nHeartbeat GRPC Request Error: context canceled\r\n\r\nHeartbeat Request Error: context canceled\r\n\r\nHeartbeat Details returned: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[50],},},}\r\n2021/08/26 16:48:05 INFO  Resuming from failed attempt Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 2\r\n2021/08/26 16:48:05 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 3\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[51],},},}\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[51],},},}\r\n\r\nHeartbeat GRPC Request Error: <nil>\r\n\r\nHeartbeat Request Error: <nil>\r\n2021/08/26 16:48:06 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 3\r\n2021/08/26 16:48:06 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 4\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[52],},},}\r\n2021/08/26 16:48:07 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 4\r\n2021/08/26 16:48:07 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 5\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[53],},},}\r\n2021/08/26 16:48:08 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 5\r\n2021/08/26 16:48:08 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 6\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[54],},},}\r\n2021/08/26 16:48:09 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 6\r\n2021/08/26 16:48:09 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 7\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[55],},},}\r\n2021/08/26 16:48:10 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 7\r\n2021/08/26 16:48:10 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 8\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[56],},},}\r\n2021/08/26 16:48:11 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 8\r\n2021/08/26 16:48:11 INFO  Activity failed, will retry... Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 4 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4\r\n2021/08/26 16:48:11 ERROR Activity error. Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ActivityType BatchProcessingActivity Attempt 4 Error some retryable error (type: SomeType, retryable: true)\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[56],},},}\r\n\r\nEvent: closed\r\n\r\nHeartbeat GRPC Request Error: context canceled\r\n\r\nHeartbeat Request Error: context canceled\r\n\r\nHeartbeat Details returned: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[51],},},}\r\n2021/08/26 16:48:19 INFO  Resuming from failed attempt Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 3\r\n2021/08/26 16:48:19 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 4\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[52],},},}\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[52],},},}\r\n\r\nHeartbeat GRPC Request Error: <nil>\r\n\r\nHeartbeat Request Error: <nil>\r\n2021/08/26 16:48:20 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 4\r\n2021/08/26 16:48:20 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 5\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[53],},},}\r\n2021/08/26 16:48:21 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 5\r\n2021/08/26 16:48:21 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 6\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[54],},},}\r\n2021/08/26 16:48:22 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 6\r\n2021/08/26 16:48:22 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 7\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[55],},},}\r\n2021/08/26 16:48:23 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 7\r\n2021/08/26 16:48:23 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 8\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[56],},},}\r\n2021/08/26 16:48:24 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 8\r\n2021/08/26 16:48:24 INFO  processing task Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 TaskID 9\r\n\r\nHeartbeat: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[57],},},}\r\n2021/08/26 16:48:25 INFO  Recording heartbeat Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ReportedProgress 9\r\n2021/08/26 16:48:25 INFO  Activity failed, will retry... Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ ActivityID 5 ActivityType BatchProcessingActivity Attempt 5 WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4\r\n2021/08/26 16:48:25 ERROR Activity error. Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 ActivityType BatchProcessingActivity Attempt 5 Error some retryable error (type: SomeType, retryable: true)\r\n\r\nHeartbeat Sent: &Payloads{Payloads:[]*Payload{&Payload{Metadata:map[string][]byte{encoding: [106 115 111 110 47 112 108 97 105 110],},Data:[57],},},}\r\n\r\nEvent: closed\r\n\r\nHeartbeat GRPC Request Error: context canceled\r\n\r\nHeartbeat Request Error: context canceled\r\n2021/08/26 16:48:25 INFO  Workflow completed with error. Namespace default TaskQueue retry-activity WorkerID 97704@RobTemporal-MacBook.local@ WorkflowType RetryWorkflow WorkflowID retry_activity_d4343d2e-1a16-4101-82f1-8ef11637e2a9 RunID 4497c9f6-a862-42f7-912d-6400cc89ddc4 Attempt 1 Error activity error (type: BatchProcessingActivity, scheduledEventID: 5, startedEventID: 6, identity: 97704@RobTemporal-MacBook.local@): some retryable error (type: SomeType, retryable: true)\r\n\r\n```","createdAt":"2021-08-26T15:48:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/521#issuecomment-906530116","viewerDidAuthor":false}],"createdAt":"2021-08-26T15:45:49Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":521,"reactionGroups":[],"state":"CLOSED","title":"Heartbeat data is not successfully recorded when an activity reports failure","updatedAt":"2021-10-08T21:41:19Z","url":"https://github.com/temporalio/sdk-go/issues/521"}
