{"assignees":[],"author":{"id":"MDQ6VXNlcjEzNDQyNjM0","is_bot":false,"login":"laniehei","name":"Lanie Hei"},"body":"## Expected Behavior\r\nI would like to rename a workflow in a test environment through the usage of SetStartWorkflowOptions\r\n\r\n## Actual Behavior\r\nThe workflow is still named default-test-workflow-id\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nIn the test package: \r\n```\r\n\t\t\t\tenv.SetStartWorkflowOptions(client.StartWorkflowOptions{\r\n\t\t\t\t\tID: \"some-name\",\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tenv.ExecuteWorkflow(SomeWorkflow, tc.input)\r\n\t\t\ts.True(env.IsWorkflowCompleted())\r\n\t\t\terr := env.GetWorkflowError()\r\n\r\n```\r\n\r\nThe workflow itself:\r\n```\r\nSomeWorkflow(ctx workflow.Context) error {\r\n\t\tworkflowID := workflow.GetInfo(ctx).WorkflowExecution.ID\r\n\t\texpectedWorkflowID := \"some-name\"\r\n\t\tif workflowID != expectedWorkflowID {\r\n\t\t\treturn fmt.Errorf(\"expecting workflow id %s but got %s\", expectedWorkflowID, workflowID)\r\n\t\t}\r\n\r\n}\r\n```\r\n\r\nI believe that the issue exists in this function\r\n\r\n```\r\nfunc (env *testWorkflowEnvironmentImpl) setStartWorkflowOptions(options StartWorkflowOptions) {\r\n\twf := env.workflowInfo\r\n\tif options.WorkflowExecutionTimeout > 0 {\r\n\t\twf.WorkflowExecutionTimeout = options.WorkflowExecutionTimeout\r\n\t}\r\n\tif options.WorkflowRunTimeout > 0 {\r\n\t\twf.WorkflowRunTimeout = options.WorkflowRunTimeout\r\n\t}\r\n\tif options.WorkflowTaskTimeout > 0 {\r\n\t\twf.WorkflowTaskTimeout = options.WorkflowTaskTimeout\r\n\t}\r\n\tif len(options.TaskQueue) > 0 {\r\n\t\twf.TaskQueueName = options.TaskQueue\r\n\t}\r\n}\r\n```\r\n\r\nIf a new ID is passed in, it's not set on the workflowInfo. \r\n\r\n","closedAt":"2021-12-16T20:23:48Z","comments":[],"createdAt":"2021-12-08T06:38:49Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":661,"reactionGroups":[],"state":"CLOSED","title":"Workflow ID cannot be set on testsuite with SetStartWorkflowOptions ","updatedAt":"2021-12-16T20:23:48Z","url":"https://github.com/temporalio/sdk-go/issues/661"}
