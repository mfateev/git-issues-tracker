{"assignees":[],"author":{"id":"MDQ6VXNlcjM2NTYxMQ==","is_bot":false,"login":"shaunco","name":"Shaun"},"body":"**Is your feature request related to a problem? Please describe.**\r\nWe had code that was calling `rsa.GenerateKey(rand.Reader, 4096)` in a `workflow.SideEffect` call. Generating a 4096 RSA key sometimes takes >1 second, so the deadlock detection kills the workflow and starts it over.\r\n\r\n**Describe the solution you'd like**\r\nIt would be great to have a few functions to give hints to the deadlock detection so that I could do something like this before calling an API that takes a bit longer than a second:\r\n```go\r\n  ctx.SetDeadlockTimeout(seconds)\r\n  defer ctx.ResetDeadlockTimeout()\r\n  rsa.GenerateKey(rand.Reader, 4096)\r\n```\r\n\r\nSimilarly, something like `ctx.Alive()` might be helpful in loops.\r\n\r\n**Describe alternatives you've considered**\r\nCurrently we just use TEMPORAL_DEBUG for the service that makes this `rsa.GenerateKey` call... obviously this is not ideal.\r\n\r\n","closedAt":"2021-06-23T04:21:56Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDgxOTEyMzQ3Mg==","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"I would recommend using local activities for such expensive operations.","createdAt":"2021-04-13T23:53:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/404#issuecomment-819123472","viewerDidAuthor":true},{"id":"MDEyOklzc3VlQ29tbWVudDgyNjE2NjAwNw==","author":{"login":"shaunco"},"authorAssociation":"NONE","body":"> I would recommend using local activities for such expensive operations.\r\n\r\nEven in a local activity, the `GenerateKey` function takes long enough to trigger the deadlock detection. We still need a way to give Temporal a hint to extend the deadlock timeout in some scenarios.","createdAt":"2021-04-24T23:21:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/404#issuecomment-826166007","viewerDidAuthor":false}],"createdAt":"2021-04-12T16:37:39Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":404,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"state":"CLOSED","title":"Setting deadlock detection timeouts?","updatedAt":"2021-06-23T04:21:56Z","url":"https://github.com/temporalio/sdk-go/issues/404"}
