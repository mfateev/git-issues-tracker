{"assignees":[],"author":{"id":"MDQ6VXNlcjI1ODY2ODgz","is_bot":false,"login":"bincyber","name":"Ali"},"body":"**Is your feature request related to a problem? Please describe.**\n\nCurrently, when tracing is enabled on a workflow that ends as ContinueAsNew, the new workflow is attached to the existing trace:\n\n![Image](https://github.com/user-attachments/assets/484f2596-a3dc-4717-8f44-8b1f2ffeccda)\n\n![Image](https://github.com/user-attachments/assets/6cb593ad-e99f-4af1-b5bd-85852b4ec4c7)\n\nThe total number of spans can become extremely large and overwhelm the tracing backend (eg, Grafana Tempo, Jaeger, etc.).\n\n**Describe the solution you'd like**\n\nIt would be better if the new workflow was created as a new, disconnected trace and linked to the existing trace:\n\n![Image](https://github.com/user-attachments/assets/467ba69e-7f02-4c19-b0df-df5153efe6c5)\n\n![Image](https://github.com/user-attachments/assets/6fa06466-f1e6-4a98-a425-ecd6be927eb2)\n\nThis idea can be extended to disconnecting Child Workflows as well.\n\n**Additional context**\n\nSlack: https://temporalio.slack.com/archives/CTDTU3J4T/p1702921125553459","closedAt":null,"comments":[{"id":"IC_kwDODN1w686xqg2W","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Added a note to discuss this internally across the other SDKs to see what/if they do to support this","createdAt":"2025-06-17T14:55:44Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1976#issuecomment-2980711830","viewerDidAuthor":false},{"id":"IC_kwDODN1w686zJ3WD","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Looking at some other SDKs they don't provide any convenient option for this. There are a lot of reasons we could want to create a disconnected span , like continue as new, or as you said a child workflow. Some other reasons brought up are Cron and schedules. A user may also only want to disconnect them if the size if growing particularly large or for certain workflow types. These are to many options to support simple booleans for.\n\nFor the most flexibility I wonder if we should just expose the ability to get the otel span from the workflow context, then users can interact with the span like they do outside of workflow code.","createdAt":"2025-06-25T18:11:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1976#issuecomment-3005707651","viewerDidAuthor":false},{"id":"IC_kwDODN1w686zJ35Z","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Users can then develop their own interceptors for common cases like disconnect spans on continue as new","createdAt":"2025-06-25T18:12:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1976#issuecomment-3005709913","viewerDidAuthor":false},{"id":"IC_kwDODN1w6864X0Jg","author":{"login":"ohad83"},"authorAssociation":"NONE","body":"I encountered a similar error (in my case for child workflows). If using the otel tracing interceptor you could pass a custom`SpanStarter` to do that. This is the one I created:\n```\n\tif strings.HasPrefix(spanName, \"RunWorkflow:\") && trace.SpanFromContext(ctx).SpanContext().IsValid() {\n\t\topts = append(opts,\n\t\t\ttrace.WithNewRoot(), trace.WithLinks(trace.LinkFromContext(ctx)),\n\t\t)\n\t}\n\t_, span := t.Start(ctx, spanName, opts...)\n\treturn span\n```\n\nIt's not perfect since the link is unidirectional, so the child is linked to the parent but the parent isn't linked to the child (afaik it can't be, since the `ExecuteChildWorkflow` span finishes before the `RunWorkflow` one starts). It also means you won't see the duration of the child workflow in the parent trace, since the `ExecuteChildWorkflow` is short.\n\nIt might be possible to wrap each `RunWorkflow` in 2 spans, one in the parent trace and one as the root span of a child trace, and link them, and also only finish the one in the parent when the child finishes. It requires a bit more tinkering but I think it's possible without fully implementing a new interceptor.","createdAt":"2025-07-20T06:02:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1976#issuecomment-3093250656","viewerDidAuthor":false}],"createdAt":"2025-06-17T12:57:32Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1976,"reactionGroups":[],"state":"OPEN","title":"ContinueAsNew should create new root span","updatedAt":"2025-07-20T06:02:39Z","url":"https://github.com/temporalio/sdk-go/issues/1976"}
