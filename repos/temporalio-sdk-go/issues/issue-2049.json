{"assignees":[],"author":{"id":"MDQ6VXNlcjY1NzM2OTU=","is_bot":false,"login":"LukaGiorgadze","name":"Luka Giorgadze"},"body":"PR: https://github.com/temporalio/sdk-go/pull/2050\n\n# Support `fmt.Stringer` in `getFunctionName`\n\n## Description\nCurrently, `getFunctionName` only supports raw strings or function pointers.  \nIf a caller passes a custom type that implements `fmt.Stringer` (e.g. a named type alias), it is treated as a function and causes error and hard to get the idea why:\n\n```bash\nINF log/with_logger.go:45 Task processing failed with error Namespace=default TaskQueue=chat-agent WorkerID=28030@Lukas-MacBook-Pro-M4.local@ WorkerType=WorkflowWorker Error=\"BadScheduleActivityAttributes: ActivityType is not set on ScheduleActivityTaskCommand. ActivityID=15\"\n```\n\n### Example\n\n```go\ntype ActivityName string\n\nfunc (a ActivityName) String() string {\n\treturn string(a)\n}\n\nvar agentPlannerActivity ActivityName = \"AgentPlannerActivity\"\n\nfut := workflow.ExecuteActivity(ctx, agentPlannerActivity, inputs{})\n```\n","closedAt":"2025-11-17T17:30:01Z","comments":[{"id":"IC_kwDODN1w687Dl7t1","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Hmm, so why are you not calling your activity by the function type? and why create a type alias to the activity name?\n\nper the docs\n\n```\nInput activity is either an activity name (string) or a function representing an activity that is getting scheduled.\n```\n\nSo `ExecuteActivity ` is only expected to be given a string of function. I agree the error your seeing is not great, we should probably fail sooner if we can't find an activity name.","createdAt":"2025-09-11T15:41:03Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/2049#issuecomment-3281501045","viewerDidAuthor":false},{"id":"IC_kwDODN1w687DmSG4","author":{"login":"LukaGiorgadze"},"authorAssociation":"NONE","body":"> Hmm, so why are you not calling your activity by the function type? and why create a type alias to the activity name?\n> \n> per the docs\n> \n> ```\n> Input activity is either an activity name (string) or a function representing an activity that is getting scheduled.\n> ```\n> \n> So `ExecuteActivity ` is only expected to be given a string of function. I agree the error your seeing is not great, we should probably fail sooner if we can't find an activity name.\n\nGood question. I need to run activities dynamically (doing some DSL stuff). That means I canâ€™t always call them by function pointer. I could pass plain strings or use `any`, but both lose type safety. Defining `ActivityName` gives me a safe, explicit way to pass activity names without raw strings.\n\nQuestion is more like if we accept raw \"string\", then why not `Stringer()`?","createdAt":"2025-09-11T15:58:28Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/2049#issuecomment-3281592760","viewerDidAuthor":false},{"id":"IC_kwDODN1w687Dm2p_","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Defining your activity name as a constant makes sense, the constant just needs to be of the right type. Activity name is expected to be a string everywhere else in the SDK, the only reason we take the empty interface in execute is because Go doesn't support variant types","createdAt":"2025-09-11T16:26:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/2049#issuecomment-3281742463","viewerDidAuthor":false}],"createdAt":"2025-09-11T12:02:50Z","labels":[],"milestone":null,"number":2049,"reactionGroups":[],"state":"CLOSED","title":"Support `fmt.Stringer` in `ExecuteActivity`","updatedAt":"2025-11-17T17:30:01Z","url":"https://github.com/temporalio/sdk-go/issues/2049"}
