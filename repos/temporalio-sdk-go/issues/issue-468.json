{"assignees":[{"id":"MDQ6VXNlcjEzMTE2OTQ=","login":"vitarb","name":"Vitali","databaseId":0}],"author":{"id":"MDQ6VXNlcjkxMzQwOTM=","is_bot":false,"login":"W0nderMuffin","name":""},"body":"\r\nThe `github.com/gogo/status:v1.1.0` dependency includes a  vunerability by using outdated protobuf `github.com/gogo/protobuf v1.2.0`\r\n\r\n## CVE-2021-3121\r\nAn issue was discovered in GoGo Protobuf before 1.3.2. plugin/unmarshal/unmarshal.go lacks certain index validation, aka the \"skippy peanut butter\" issue.\r\n\r\nhttps://nvd.nist.gov/vuln/detail/CVE-2021-3121","closedAt":"2021-06-16T17:47:42Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg2MjU4MjI4Mw==","author":{"login":"vitarb"},"authorAssociation":"CONTRIBUTOR","body":"SDK [is using](https://github.com/temporalio/sdk-go/blob/master/go.mod#L8) `1.3.2` for a while now.\r\n\r\nHere is dependency graph:\r\n```\r\n❯ go mod graph | grep \"gogo/protobuf\"\r\ngo.temporal.io/sdk github.com/gogo/protobuf@v1.3.2\r\ngithub.com/gogo/protobuf@v1.3.2 github.com/kisielk/errcheck@v1.5.0\r\ngithub.com/gogo/protobuf@v1.3.2 github.com/kisielk/gotool@v1.0.0\r\ngithub.com/gogo/protobuf@v1.3.2 golang.org/x/tools@v0.0.0-20210106214847-113979e3529a\r\ngithub.com/gogo/status@v1.1.0 github.com/gogo/protobuf@v1.2.0\r\ngithub.com/grpc-ecosystem/go-grpc-middleware@v1.3.0 github.com/gogo/protobuf@v1.3.2\r\ngo.temporal.io/api@v1.4.1-0.20210420220407-6f00f7f98373 github.com/gogo/protobuf@v1.3.2\r\ngithub.com/gogo/googleapis@v1.4.1 github.com/gogo/protobuf@v1.3.2\r\n```\r\n\r\nLatest `gogo/status` is still relying on `v1.2.0`, which I believe is why we see this version in the `go.sum` as well.\r\nBut since we have `v1.3.2` in the `go.mod` file, it is the on that is actually in use.\r\n\r\n```\r\n❯ go list -m -json all | grep -A2 \"gogo/protobuf\"\r\n\t\"Path\": \"github.com/gogo/protobuf\",\r\n\t\"Version\": \"v1.3.2\",\r\n\t\"Time\": \"2021-01-10T08:01:47Z\",\r\n\t\"Dir\": \"/home/vit/go/pkg/mod/github.com/gogo/protobuf@v1.3.2\",\r\n\t\"GoMod\": \"/home/vit/go/pkg/mod/cache/download/github.com/gogo/protobuf/@v/v1.3.2.mod\",\r\n\t\"GoVersion\": \"1.15\"\r\n}\r\n```\r\n\r\nI'm going to close this one, please let me know if you have more questions.","createdAt":"2021-06-16T17:47:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/468#issuecomment-862582283","viewerDidAuthor":false}],"createdAt":"2021-06-16T07:17:19Z","labels":[],"milestone":null,"number":468,"reactionGroups":[],"state":"CLOSED","title":"Vulnerability CVE-2021-3121","updatedAt":"2021-06-16T17:47:47Z","url":"https://github.com/temporalio/sdk-go/issues/468"}
