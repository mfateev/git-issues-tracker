{"assignees":[],"author":{"id":"MDQ6VXNlcjM2NzU2ODMz","is_bot":false,"login":"MMN3003","name":"Mohsen Malvandy Niko"},"body":"## Expected Behavior\r\nThe `getActivityAlias` function should not be called or should return an appropriate response when invoked for an activity that belongs to a different task queue. It should only provide an alias mapping for activities that are registered within the same task queue context. This behavior ensures that activity alias mapping is confined to the specific task queue where the activity is registered and does not provide an alias for activities in different task queues.\r\n\r\n## Actual Behavior\r\nCurrently, the `getActivityAlias` function is called for activities regardless of the task queue they belong to. It provides alias mapping even when the activity is invoked from a different task queue context, which may lead to incorrect alias mapping and behavior that does not align with the original task queue registration. This can result in unexpected or incorrect behavior when trying to retrieve alias information for activities that are not associated with the current task queue.\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1.Create two distinct task queues, let's call them \"QueueA\" and \"QueueB,\" within your Temporal application.\r\n  2.Register an activity with an alias in each of these task queues. For example\r\n  ```\r\n  // Activity registration in QueueA (workerA) \r\n  worker.RegisterActivityWithOptions(ActivityA, activity.RegisterOptions{Name: \"Name\"})\r\n  \r\n    // Activity registration in QueueB (workerB) \r\n  worker.RegisterActivityWithOptions(Name, activity.RegisterOptions{Name: \"OtherName\"})\r\n  ```\r\n  3.In your Temporal workflow, initiate an activity invocation from one task queue but specify an activity that belongs to a different task queue. For example, invoke \"ActivityA\" from \"QueueA\" with alias name in a workflow that is running in \"QueueB.\"\r\n  ```\r\n  // workflow with original task queue \"QueueB\"\r\n  activityOptions := &workflow.ActivityOptions{\r\n                ...\r\n\t\tTaskQueue:  \"QueueA\",\r\n\t\t...\r\n\t}\r\n\tctx = workflow.WithActivityOptions(ctx, *activityOptions)\r\n\tworkflow.ExecuteActivity(ctx, \"Name\", data).Get(ctx, nil)\r\n  ```\r\n`getActivityAlias` in  `ExecuteActivity` returns  `OtherName` as alias!!\r\n\r\n  - Version: go.temporal.io/sdk v1.25.1\r\n  - Platform: linux\r\n","closedAt":"2023-11-04T17:01:55Z","comments":[{"id":"IC_kwDODN1w685pz6lG","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Duplicate of #845.\r\n\r\nYes, we use the workflow's registry to lookup activity aliases. We can't really change this behavior without potentially breaking people. So we created #850 for this situation. We recommend you disable aliasing via the `DisableRegistrationAliasing` option.","createdAt":"2023-10-23T13:37:01Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1275#issuecomment-1775216966","viewerDidAuthor":false},{"id":"IC_kwDODN1w685q5pT1","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Closing as duplicate of https://github.com/temporalio/sdk-go/issues/845","createdAt":"2023-11-04T17:01:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1275#issuecomment-1793496309","viewerDidAuthor":false}],"createdAt":"2023-10-21T11:04:51Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":1275,"reactionGroups":[],"state":"CLOSED","title":"Inconsistent Activity Alias Mapping Behavior Across Multiple Task Queues","updatedAt":"2023-11-04T17:01:55Z","url":"https://github.com/temporalio/sdk-go/issues/1275"}
