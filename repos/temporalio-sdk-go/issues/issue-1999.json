{"assignees":[],"author":{"id":"MDQ6VXNlcjczMjQzNjk=","is_bot":false,"login":"cedricmoulard","name":"CÃ©dric Moulard"},"body":"## Expected Behavior\nI am using data converter to encrypt sensible data in payload. I am managing many encryption keys and raise an error if i'm not able to get a valid key.\n\n```\n// Encode implements converter.PayloadCodec.Encode.\nfunc (e *Codec) Encode(payloads []*commonpb.Payload) ([]*commonpb.Payload, error) {\n\tresult := make([]*commonpb.Payload, len(payloads))\n\tfor index, payload := range payloads {\n\n\t\t[...]\n\n\t\tkey, err := e.getKey(e.KeyID)\n\t\tif err != nil {\n\t\t\treturn nil, fmt.Errorf(\"no encryption key found for key id %s: %w\", e.KeyID, err)\n\t\t}\n\n\t\t[...]\n\t}\n\n\treturn result, nil\n}\n```\n\nI expect to get an error since temporal use the Encode method but I got the plaintext payload\n\n## Actual Behavior\n\nThis code silent the error an return the parent payload\n```\nencodedPayloads, err := e.encode([]*commonpb.Payload{payload})\n\tif err != nil {\n\t\treturn payload, nil\n\t}\n```\n\nhttps://github.com/temporalio/sdk-go/blame/78b8535e80732c93c46df818b91d916da322dc0d/converter/codec.go#L159\n\nIs it the good and expected behavior?\n\n## Steps to Reproduce the Problem\n\n  1. Create a codec that raise an error on the `Encode` method\n  2. Add DataConverter to worker\n\n## Specifications\n\n  - Version: 1.35.0\n  - Platform:\n","closedAt":"2025-07-15T22:29:21Z","comments":[],"createdAt":"2025-07-11T11:22:18Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDg2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1999,"reactionGroups":[],"state":"CLOSED","title":"DataConverter silent all encoding error","updatedAt":"2025-07-15T22:29:21Z","url":"https://github.com/temporalio/sdk-go/issues/1999"}
