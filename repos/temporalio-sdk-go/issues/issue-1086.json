{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNTA0MDQ5","is_bot":false,"login":"Quinn-With-Two-Ns","name":"Quinn Klassen"},"body":"**Is your feature request related to a problem? Please describe.**\r\nUsers want to wait till all their activities are complete before killing their workers.\r\n\r\n**Describe the solution you'd like**\r\nAdd an option to workers to allow them to wait for all activities to finish before `Stop()` returns for graceful shutdown.\r\n\r\n**Describe alternatives you've considered**\r\nCurrently go workers have `WorkerStopTimeout` but that is a finite amount of time and the activity context is not cancelled until this timeout is up.\r\n\r\n","closedAt":null,"comments":[{"id":"IC_kwDODN1w685aZYLs","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"see also: https://github.com/temporalio/features/issues/261\r\n","createdAt":"2023-04-20T16:12:39Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1086#issuecomment-1516602092","viewerDidAuthor":false},{"id":"IC_kwDODN1w685gJ5og","author":{"login":"eko"},"authorAssociation":"NONE","body":"Hi,\r\n\r\nI confirm that the workers are currently waiting for activities to finish and `WorkerStopTimeout` acts as a timeout.\r\n\r\nFor instance, if you have an activity that needs ~30mins more to finish and have a `WorkerStopTimeout` set to 1 hour, the worker will stop after 30mins, but in case your activity needs more time, it can wait until 1 hour (the hard shutdown timeout).","createdAt":"2023-06-29T13:43:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1086#issuecomment-1613208096","viewerDidAuthor":false}],"createdAt":"2023-04-13T20:07:35Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1086,"reactionGroups":[],"state":"OPEN","title":"Add support for a graceful shutdown of go workers where all activities are finished before the worker returns","updatedAt":"2023-06-29T13:43:08Z","url":"https://github.com/temporalio/sdk-go/issues/1086"}
