{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nToday we have `NewClient` which, possibly unexpectedly to users, does more than create a client, it also connects to the server to confirm all connectivity. We previously had the ability to disable this but we removed that in #706.\r\n\r\n**Describe the solution you'd like**\r\n\r\n* (re)Add `client.Options.ConnectionOptions.DisableEagerConnection bool` that defaults to false for `NewClient`\r\n* Add `client.Dial` call that force-sets `client.Options.ConnectionOptions.DisableEagerConnection` to `false` (so basically it's the same as `NewClient` today)\r\n* Add `client.NewLazyClient` call that force-sets `client.Options.ConnectionOptions.DisableEagerConnection` to `true`\r\n* Deprecate `NewClient` in favor of the `Dial` and `NewLazyClient` calls\r\n* Add a client `ensureServerCapabilitiesFetched` that atomically lazily obtains the server capabilities if not fetched already and are memoized on success\r\n* Update all client calls to have `ensureServerCapabilitiesFetched` call to support lazy connectivity\r\n* Add a `CheckHealth` call on the client that uses the gRPC health API (note, it too will lazily fetch capabilities)","closedAt":"2022-05-06T14:58:35Z","comments":[{"id":"IC_kwDODN1w685CQMK_","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"This scope supersedes #753 and #595","createdAt":"2022-04-27T22:26:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-go/issues/793#issuecomment-1111540415","viewerDidAuthor":false}],"createdAt":"2022-04-27T21:45:35Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":793,"reactionGroups":[],"state":"CLOSED","title":"Deprecate NewClient, create Dial, NewLazyClient, and CheckHealth calls and support laziness","updatedAt":"2022-05-06T14:58:35Z","url":"https://github.com/temporalio/sdk-go/issues/793"}
