{"assignees":[],"author":{"id":"MDQ6VXNlcjgxMjg0MQ==","is_bot":false,"login":"edmondop","name":"Edmondo Porcu"},"body":"## Expected Behavior\r\n\r\nWorkflows that are mocked are automatically registered when using a `reflect.Func` as a `reflect.TypeOf(workflow)` when invoking the api `OnWorkflow`, the same way this happens using `OnActivity`\r\n\r\n## Actual Behavior\r\n\r\nIn the `OnActivity` method, the Activity is registered here: https://github.com/temporalio/sdk-go/blob/master/internal/workflow_testsuite.go#LL338C1-L340C36\r\n\r\nwhile in the OnWorkflow method there is no automatic registration https://github.com/temporalio/sdk-go/blob/master/internal/workflow_testsuite.go#L399\r\n\r\nAlso, when the activity is mocked by Name, since registering the activity requires a `reflect.Func`, the function fails if the activity hasn't been registered before. \r\n\r\nhttps://github.com/temporalio/sdk-go/blob/master/internal/workflow_testsuite.go#L345-L349\r\n\r\nwhile this is not happening when mocking the workflow by name (which doesn't work, but doesn't return an error)\r\n\r\n","closedAt":"2023-07-15T22:22:02Z","comments":[],"createdAt":"2023-06-05T21:47:44Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":1127,"reactionGroups":[],"state":"CLOSED","title":"TestWorkflowEnvironment support mocking Activity without pre-registering but doesn't support for Workflows","updatedAt":"2023-07-15T22:22:02Z","url":"https://github.com/temporalio/sdk-go/issues/1127"}
