{"assignees":[],"author":{"id":"MDQ6VXNlcjE2MTY2Mjg=","is_bot":false,"login":"Tarang","name":"Tarang"},"body":"## Expected Behavior\r\nA replay runs\r\n\r\n## Actual Behavior\r\nA replay immediately exits without running code\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Create a workflow\r\n  1. Download replay\r\n  1. Replay with replayer.ReplayWorkflowHistoryFromJSONFile\r\n\r\nUsed to work with version go.temporal.io/api v1.18.1.\r\n\r\n## Specifications\r\n\r\n  - Version: Ventura 13.1\r\n  - Platform: Mac\r\n","closedAt":"2023-07-18T22:48:01Z","comments":[{"id":"IC_kwDODN1w685ZyTqm","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"`go.temporal.io/api` is not related to workflow replay. Can you please clarify the steps to reproduce the problem you saw and confirm you are running on the latest sdk-go version `1.22.x`?","createdAt":"2023-04-13T05:16:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1084#issuecomment-1506359974","viewerDidAuthor":false},{"id":"IC_kwDODN1w685Z9Ol1","author":{"login":"Tarang"},"authorAssociation":"NONE","body":"Hi\r\n\r\nI am running `go.temporal.io/sdk v1.21.1`. If I alter my go mod file to use `go.temporal.io/api v1.19` it wont work, if I use `go.temporal.io/api v1.18.1` it works. So it is very clear it's related to that.\r\n\r\nNote sdk/v1.22 needs api/1.19.1 I believe so it can't work, but with v21.1 its quite clear. As a result replays don't work on 1.22.x either.","createdAt":"2023-04-14T20:33:26Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1084#issuecomment-1509222773","viewerDidAuthor":false},{"id":"IC_kwDODN1w685aTf2X","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Can you please clarify the steps to reproduce the problem you saw? for example a short reproduction and history that fails to replay in the latest SDK release","createdAt":"2023-04-19T16:50:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1084#issuecomment-1515060631","viewerDidAuthor":false},{"id":"IC_kwDODN1w685aioRg","author":{"login":"Tarang"},"authorAssociation":"NONE","body":"What is the best way to create a reproduction since it requires a running temporal and the history file","createdAt":"2023-04-23T10:32:48Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1084#issuecomment-1519027296","viewerDidAuthor":false},{"id":"IC_kwDODN1w685ai9e8","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"could you please test replay again with the latest version of the SDK  `go get go.temporal.io/sdk@master` we recently fixed a bug that could be related.","createdAt":"2023-04-23T17:18:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1084#issuecomment-1519114172","viewerDidAuthor":false},{"id":"IC_kwDODN1w685bje_X","author":{"login":"hlthung"},"authorAssociation":"NONE","body":"Came across this thread, I'd like to apply the fix, but when I do `go get go.temporal.io/sdk@master` or use [v1.22.1](https://github.com/temporalio/sdk-go/releases/tag/v1.22.1), seems like I'm facing a bunch of issues with server/api/persistence:\r\n```\r\n# go.temporal.io/server/api/persistence/v1\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:307:22: undefined: taskqueue.VersionIdNode\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:311:26: undefined: taskqueue.VersionIdNode\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:346:51: undefined: taskqueue.VersionIdNode\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:353:55: undefined: taskqueue.VersionIdNode\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:722:28: invalid operation: this.CurrentDefault != nil (operator != not defined on untyped nil)\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:989:25: invalid operation: m.CurrentDefault != nil (operator != not defined on untyped nil)\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:1149:25: invalid operation: m.CurrentDefault != nil (operator != not defined on untyped nil)\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:1987:27: invalid operation: m.CurrentDefault == nil (operator == not defined on untyped nil)\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:1988:29: undefined: taskqueue.VersionIdNode\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:2023:57: undefined: taskqueue.VersionIdNode\r\n../../../../go/pkg/mod/go.temporal.io/server@v1.20.2/api/persistence/v1/tasks.pb.go:2023:57: too many errors\r\n```\r\nUnable to find a version I can use for go.temporal.io/server as no matter which version I will get the errors. \r\nv1.19.X, v1.20.X, 1.21.X are fine I believe. May I know how to resolve this? Thank you!","createdAt":"2023-05-05T10:06:12Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1084#issuecomment-1536028631","viewerDidAuthor":false},{"id":"IC_kwDODN1w685h0QCR","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Likely related to https://github.com/temporalio/sdk-go/issues/1091","createdAt":"2023-07-18T22:48:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1084#issuecomment-1641087121","viewerDidAuthor":false}],"createdAt":"2023-04-13T02:45:28Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":1084,"reactionGroups":[],"state":"CLOSED","title":"Bug with version go.temporal.io/api v1.19","updatedAt":"2023-07-18T22:48:01Z","url":"https://github.com/temporalio/sdk-go/issues/1084"}
