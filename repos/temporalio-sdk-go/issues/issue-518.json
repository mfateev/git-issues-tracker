{"assignees":[],"author":{"id":"MDQ6VXNlcjc2MDI0MTUz","is_bot":false,"login":"shiyao-afterpay","name":""},"body":"The doc: https://github.com/temporalio/api/blob/4c2f6a281fa3fde8b0a24447de3e0d0f47d230b4/temporal/api/enums/v1/workflow.proto#L37\r\nindicates when we create a workflow where there is already a workflow with the same id running, nothing will happen.\r\n\r\nHowever, the current logic is: The new created workflow will REPLACE the current running workflow with the same id.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","closedAt":"2021-10-06T21:07:11Z","comments":[{"id":"IC_kwDODN1w6841oCE8","author":{"login":"wxing1292"},"authorAssociation":"CONTRIBUTOR","body":"@shiyao-afterpay \r\n\r\naccording to my memory (conversation with you), the workflow ID reuse policy works as expected if running the SDK against a real server, but cannot work well if using the SDK test framework? \r\n\r\nIs above statement correct?","createdAt":"2021-08-16T17:28:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/518#issuecomment-899686716","viewerDidAuthor":false},{"id":"IC_kwDODN1w6841pJKA","author":{"login":"shiyao-afterpay"},"authorAssociation":"NONE","body":"This is from real server verification.\r\n\r\nThis only occurs with the latest version.","createdAt":"2021-08-17T04:08:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/518#issuecomment-899977856","viewerDidAuthor":false},{"id":"IC_kwDODN1w6841pKzp","author":{"login":"wxing1292"},"authorAssociation":"CONTRIBUTOR","body":"the code block below are testing the signal with start API, but the workflow ID reuse policy evaluation logic are the same (vs start workflow API)\r\n\r\nhttps://github.com/temporalio/temporal/blob/b3f10a7dfbd07a05fe0dbbc3a457668eb6acf0e0/host/signal_workflow_test.go#L1497-L1532","createdAt":"2021-08-17T04:28:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/518#issuecomment-899984617","viewerDidAuthor":false},{"id":"IC_kwDODN1w6841pLnv","author":{"login":"shiyao-afterpay"},"authorAssociation":"NONE","body":"Dunno how to label it as SDK issue. @wxing1292 ","createdAt":"2021-08-17T04:39:41Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/518#issuecomment-899987951","viewerDidAuthor":false},{"id":"IC_kwDODN1w6841pM_k","author":{"login":"wxing1292"},"authorAssociation":"CONTRIBUTOR","body":"go SDK ExecuteWorkflow API seems to have a bug, related to workflow ID reuse policy\r\n\r\n![image](https://user-images.githubusercontent.com/8762893/129666098-9f25dfb3-82cc-4faa-93fd-9d263e00ebf6.png)\r\n![image (1)](https://user-images.githubusercontent.com/8762893/129666097-e6488c19-d1b7-4cd8-8476-5238d16982cf.png)\r\n","createdAt":"2021-08-17T04:58:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/518#issuecomment-899993572","viewerDidAuthor":false},{"id":"IC_kwDODN1w68432bdT","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Does this issue still exist? My testing is showing that with allow-duplicate (the default), the same workflow ID and run ID are returned from `ExecuteWorkflow` when executing for the same ID while it is still running. Is this not expected behavior?","createdAt":"2021-10-06T19:55:46Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/518#issuecomment-937015123","viewerDidAuthor":false},{"id":"IC_kwDODN1w684325eG","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Merged test confirming duplicate ID behavior while workflow is running and while it is not. Closing issue, reopen if issue still exists and/or I am misunderstanding it.","createdAt":"2021-10-06T21:07:11Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/518#issuecomment-937138054","viewerDidAuthor":false}],"createdAt":"2021-08-16T09:49:41Z","labels":[],"milestone":null,"number":518,"reactionGroups":[],"state":"CLOSED","title":"WORKFLOW_ID_REUSE_POLICY_ALLOW_DUPLICATE will replace a running workflow","updatedAt":"2021-10-06T21:07:23Z","url":"https://github.com/temporalio/sdk-go/issues/518"}
