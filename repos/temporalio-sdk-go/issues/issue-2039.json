{"assignees":[],"author":{"id":"MDQ6VXNlcjY2NDk2Nzc=","is_bot":false,"login":"ioudas","name":""},"body":"## Expected Behavior\nWhen workflow is executed in `TestWorkflowEnvironment ` and :\n- tries to execute an activity that wasn't registered\n- returns the resulting error wrapped inside either `joinError` or `wrapError`\n- the test fails with `unable to find activityType=...`\n\n## Actual Behavior\nTest prints the expected error, but passes.\n\n## Steps to Reproduce the Problem\n1. A workflow that executes an activity that is not registered at all and returns the resulting error using either `errors.Join` or `fmt.Errorf(\"%w: %w\", err1, err2)`\n```\nerrExecute := workflow.ExecuteActivity(ctx, ThisActivityIsNotRegistered)).Get(ctx, nil)\nif errExecute != nil {\n  return errors.Join(errExecute , doSomethingWithErr(errExecute))\n}\n```\n2. Execute the above workflow in a unit test, using `TestWorkflowEnvironment`\n\n## Specifications\n\n  - Version: \n  ```\ngo.temporal.io/api v1.52.0\ngo.temporal.io/sdk v1.35.0\n```\n  - Platform: Ubuntu 20.04\n","closedAt":null,"comments":[{"id":"IC_kwDODN1w687AvlTV","author":{"login":"ioudas"},"authorAssociation":"NONE","body":"Looks like this was user error. The correct way to return a joined error is `temporal.NewApplicationErrorWithCause`. Otherwise it breaks `errors.As` / `errors.Is` matching.","createdAt":"2025-08-28T14:19:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/2039#issuecomment-3233699029","viewerDidAuthor":false}],"createdAt":"2025-08-28T12:50:10Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDg2","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":2039,"reactionGroups":[],"state":"OPEN","title":"Joining errors causes TestWorkflowEnvironment to hide panics and pass test","updatedAt":"2025-08-28T14:19:50Z","url":"https://github.com/temporalio/sdk-go/issues/2039"}
