{"assignees":[{"id":"MDQ6VXNlcjIwNjM5Ng==","login":"cretz","name":"Chad Retz","databaseId":0}],"author":{"id":"MDQ6VXNlcjEzMTE2OTQ=","is_bot":false,"login":"vitarb","name":"Vitali"},"body":"Error from the build pipeline:\r\n```\r\n=== RUN   TestIntegrationSuite/TestActivityRetryOnHBTimeout\r\n\r\nHandling connection for 7233\r\n\r\n2021/09/23 07:46:13 INFO  Started Worker Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@\r\n\r\n2021/09/23 07:46:13 DEBUG ExecuteActivity Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@ WorkflowType ActivityRetryOnHBTimeout WorkflowID test-activity-retry-on-hbtimeout RunID 362e659a-3ea4-4d68-9577-461d4230c1f7 Attempt 1 ActivityID 5 ActivityType HeartbeatAndSleep\r\n\r\n2021/09/23 07:46:13 INFO  Running HeartbeatAndSleep activity Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@ ActivityID 5 ActivityType HeartbeatAndSleep Attempt 1 WorkflowType ActivityRetryOnHBTimeout WorkflowID test-activity-retry-on-hbtimeout RunID 362e659a-3ea4-4d68-9577-461d4230c1f7\r\n\r\n2021/09/23 07:46:15 INFO  Task processing failed with error Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@ WorkerType ActivityWorker Error invalid activityID or activity already timed out or invoking workflow is completed\r\n\r\n2021/09/23 07:46:16 INFO  Running HeartbeatAndSleep activity Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@ ActivityID 5 ActivityType HeartbeatAndSleep Attempt 2 WorkflowType ActivityRetryOnHBTimeout WorkflowID test-activity-retry-on-hbtimeout RunID 362e659a-3ea4-4d68-9577-461d4230c1f7\r\n\r\n2021/09/23 07:46:18 INFO  Task processing failed with error Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@ WorkerType ActivityWorker Error invalid activityID or activity already timed out or invoking workflow is completed\r\n\r\n2021/09/23 07:46:19 INFO  Running HeartbeatAndSleep activity Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@ ActivityID 5 ActivityType HeartbeatAndSleep Attempt 3 WorkflowType ActivityRetryOnHBTimeout WorkflowID test-activity-retry-on-hbtimeout RunID 362e659a-3ea4-4d68-9577-461d4230c1f7\r\n\r\n    TestIntegrationSuite: integration_test.go:382: \r\n\r\n        \tError Trace:\tintegration_test.go:382\r\n\r\n        \tError:      \tReceived unexpected error:\r\n\r\n        \t            \tworkflow execution error (type: ActivityRetryOnHBTimeout, workflowID: test-activity-retry-on-hbtimeout, runID: 362e659a-3ea4-4d68-9577-461d4230c1f7): expected activity to fail but succeeded\r\n\r\n        \tTest:       \tTestIntegrationSuite\r\n\r\n2021/09/23 07:46:21 INFO  Stopped Worker Namespace integration-test-namespace TaskQueue tq-5-TestIntegrationSuite/TestActivityRetryOnHBTimeout WorkerID 6171@fdbd4600-e1aa-46fb-6b79-777ba48942e4@\r\n\r\n    TestIntegrationSuite/TestActivityRetryOnHBTimeout: testing.go:916: test executed panic(nil) or runtime.Goexit: subtest may have called FailNow on a parent test\r\n```","closedAt":"2021-11-18T15:38:55Z","comments":[{"id":"IC_kwDODN1w6843aX6L","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"I think this was fixed (or at least improved) by #545 ","createdAt":"2021-09-28T22:07:02Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/546#issuecomment-929660555","viewerDidAuthor":false},{"id":"IC_kwDODN1w6845_oYe","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"This test does not appear flaky anymore in CI","createdAt":"2021-11-18T15:38:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/546#issuecomment-972981790","viewerDidAuthor":false}],"createdAt":"2021-09-24T05:39:07Z","labels":[],"milestone":null,"number":546,"reactionGroups":[],"state":"CLOSED","title":"TestActivityRetryOnHBTimeout is flaky","updatedAt":"2021-11-18T15:38:55Z","url":"https://github.com/temporalio/sdk-go/issues/546"}
