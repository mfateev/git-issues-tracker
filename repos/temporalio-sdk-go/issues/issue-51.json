{"assignees":[],"author":{"id":"MDQ6VXNlcjE3NjY1MTU=","is_bot":false,"login":"samarabbas","name":"Samar Abbas"},"body":"Currently, entire sticky cache is leaked when worker is stopped. This is because the stickyCache is a global singleton which makes it impossible to clear it on worker.Stop() (because there could be other workers using the cache and there is no way to tell which entries belong to which worker). Leaking sticky cache results in memory & go routine leaks.\r\n\r\nThe right fix here is to create stickyCache per worker and purge it completely on worker.Stop()","closedAt":"2021-03-01T19:02:08Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDU5NDE5MTkyOQ==","author":{"login":"samarabbas"},"authorAssociation":"MEMBER","body":"Ported from: Uber Cadence GO: Issue 739","createdAt":"2020-03-03T21:59:01Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/51#issuecomment-594191929","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc4ODE5MTY3Mw==","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"Fixed this a while back https://github.com/temporalio/sdk-go/pull/310","createdAt":"2021-03-01T19:02:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/51#issuecomment-788191673","viewerDidAuthor":false}],"createdAt":"2020-03-03T21:58:49Z","labels":[],"milestone":null,"number":51,"reactionGroups":[],"state":"CLOSED","title":"sticky cache: fix resource leaks on worker.Stop()","updatedAt":"2021-03-01T19:02:08Z","url":"https://github.com/temporalio/sdk-go/issues/51"}
