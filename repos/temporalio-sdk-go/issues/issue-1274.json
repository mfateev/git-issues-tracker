{"assignees":[],"author":{"id":"MDQ6VXNlcjEwNjcyMTg5","is_bot":false,"login":"ljx0520","name":"Joseph"},"body":"## Expected Behavior\r\n\r\nRuns should be scheduled on the weekday, from 9am to 5pm\r\n\r\n## Actual Behavior\r\n\r\nRuns are not scheduled on the weekday, from 9am to 5pm\r\n\r\nAs per below screenshot, runs are scheduled immediately but it is on a Saturday and outside 9 to 5.\r\n\r\n<img width=\"943\" alt=\"image\" src=\"https://github.com/temporalio/sdk-go/assets/10672189/9b68808a-9ace-42fa-84a8-2e3ba0e60dfd\">\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n```\r\nscheduleHandle, err := c.ScheduleClient().Create(ctx, client.ScheduleOptions{\r\n\t\tID: schedule.WorkflowName,\r\n\t\tSpec: client.ScheduleSpec{\r\n\t\t\t// schedule on weekday 9am to 5pm\r\n\t\t\tCalendars: []client.ScheduleCalendarSpec{\r\n\t\t\t\t{\r\n\t\t\t\t\tSecond: []client.ScheduleRange{{}},\r\n\t\t\t\t\tMinute: []client.ScheduleRange{{}},\r\n\t\t\t\t\tHour: []client.ScheduleRange{\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tStart: 9,\r\n\t\t\t\t\t\t\tEnd:   17,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tDayOfWeek: []client.ScheduleRange{\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tStart: 1,\r\n\t\t\t\t\t\t\tEnd:   5,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\tIntervals: []client.ScheduleIntervalSpec{\r\n\t\t\t\t{\r\n\t\t\t\t\tEvery: schedule.WorkflowInterval,\r\n\t\t\t\t},\r\n\t\t\t},\r\n\r\n\t\t\tJitter: time.Second * 30,\r\n\r\n\t\t\tTimeZoneName: \"Australia/Sydney\",\r\n\t\t},\r\n\t\tAction: &client.ScheduleWorkflowAction{\r\n\t\t\tID:        workflowID,\r\n\t\t\tWorkflow:  schedule.Workflow,\r\n\t\t\tTaskQueue: schedule.TaskQueue,\r\n\t\t},\r\n\t})\r\n```\r\n\r\n## Specifications\r\n\r\n  - Version: \r\n  go.temporal.io/sdk v1.25.1\r\n  TEMPORAL_VERSION=1.22.0\r\n  - Platform: Mac M1 \r\n","closedAt":"2023-10-22T02:44:28Z","comments":[{"id":"IC_kwDODN1w685pukpU","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"What is `schedule.WorkflowInterval` in  your code?","createdAt":"2023-10-21T14:49:21Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1274#issuecomment-1773816404","viewerDidAuthor":false},{"id":"IC_kwDODN1w685pvAZ8","author":{"login":"ljx0520"},"authorAssociation":"NONE","body":"> What is `schedule.WorkflowInterval` in your code?\r\n\r\nit is `const WorkflowInterval = 60 * time.Second * 4`","createdAt":"2023-10-21T21:47:42Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1274#issuecomment-1773930108","viewerDidAuthor":false},{"id":"IC_kwDODN1w685pvBZ1","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Then the schedule is working as I would expect. From the docs\r\n```\r\nScheduleSpec is a complete description of a set of absolute times (possibly infinite) that a action should occur at. The times are the union of Calendars, Intervals, and CronExpressions, minus the Skip times. \r\n```\r\n\r\nSo your current spec says it should  run every hour on the weekday from 9am to 5pm and every 4 minutes.\r\n\r\nI am not sure exactly what schedule you want. I presume you want it to run every 4 min on the weekday from 9am to 5pm.\r\n```\r\n\t\tSpec: client.ScheduleSpec{\r\n\t\t\t// schedule on weekday 9am to 5pm\r\n\t\t\tCalendars: []client.ScheduleCalendarSpec{\r\n\t\t\t\t{\r\n\t\t\t\t\tSecond: []client.ScheduleRange{{}},\r\n\t\t\t\t\tMinute: []client.ScheduleRange{\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tStart: 0,\r\n\t\t\t\t\t\t\tEnd:   59,\r\n                                                        Step: 4,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tHour: []client.ScheduleRange{\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tStart: 9,\r\n\t\t\t\t\t\t\tEnd:   17,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t\tDayOfWeek: []client.ScheduleRange{\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tStart: 1,\r\n\t\t\t\t\t\t\tEnd:   5,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t},\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t\tJitter: time.Second * 30,\r\n\r\n\t\t\tTimeZoneName: \"Australia/Sydney\",\r\n\t\t},\r\n```","createdAt":"2023-10-21T22:13:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1274#issuecomment-1773934197","viewerDidAuthor":false},{"id":"IC_kwDODN1w685pvLw6","author":{"login":"ljx0520"},"authorAssociation":"NONE","body":"thanks, that is exactly what I want!","createdAt":"2023-10-22T02:44:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1274#issuecomment-1773976634","viewerDidAuthor":false}],"createdAt":"2023-10-21T11:25:18Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":1274,"reactionGroups":[],"state":"CLOSED","title":"schedule not working as expected","updatedAt":"2023-10-22T02:44:28Z","url":"https://github.com/temporalio/sdk-go/issues/1274"}
