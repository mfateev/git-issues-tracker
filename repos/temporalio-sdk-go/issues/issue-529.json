{"assignees":[{"id":"MDQ6VXNlcjIwNjM5Ng==","login":"cretz","name":"Chad Retz","databaseId":0}],"author":{"id":"MDQ6VXNlcjUyMzA0","is_bot":false,"login":"bergundy","name":"Roey Berman"},"body":"**Is your feature request related to a problem? Please describe.**\r\n\r\nWith the current interceptors design, there's no way to change the default execution of some SDK operations.\r\nFor example, one might want to use interceptors for authz when starting / signaling / querying workflows.\r\n\r\nSome interceptor methods do not capture the entire span of the operation and cannot be used for tracing which is one of the use-cases for interceptors.\r\n\r\nIt also looks like there [query interceptor](https://github.com/temporalio/sdk-go/blob/cc674e0e50ffe72b85694a330cb85bc9b93e29aa/internal/interceptors.go#L64) is not chainable because it states that the interceptor implementor MUST call the provided handler function.\r\n\r\n**Describe the solution you'd like**\r\n\r\nInterceptors should have similar capabilities across the different SDKs, they should all be chainable, capture the entires span of the operation and allow modification of the default SDK behavior.\r\n\r\n**Additional context**\r\n\r\n- #526 - make sure that we support tracing for queries and signals (requires server changes to add headers to the protocol)\r\n- There's been a community request to implement authz of signals / queries using interceptors","closedAt":"2021-11-15T17:52:25Z","comments":[{"id":"IC_kwDODN1w6843UVy9","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"@vitarb This task doesn't mention the activity interceptor","createdAt":"2021-09-27T17:07:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/529#issuecomment-928079037","viewerDidAuthor":false},{"id":"IC_kwDODN1w6843UWh-","author":{"login":"Sushisource"},"authorAssociation":"MEMBER","body":"(We need to track adding headers to signal/query protobuf messages somewhere)","createdAt":"2021-09-27T17:10:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/529#issuecomment-928082046","viewerDidAuthor":false}],"createdAt":"2021-09-09T09:34:54Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":529,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":4}}],"state":"CLOSED","title":"Redesign interceptors to match the Java / Node.js capabilities","updatedAt":"2021-11-15T17:52:25Z","url":"https://github.com/temporalio/sdk-go/issues/529"}
