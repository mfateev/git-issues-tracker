{"assignees":[{"id":"MDQ6VXNlcjIyMzI1MjQ=","login":"alexshtin","name":"Alex Shtin","databaseId":0}],"author":{"id":"MDQ6VXNlcjEwMTc1ODc0","is_bot":false,"login":"nirshirion","name":"Nir Shirion"},"body":"**Describe the bug**\r\nWhen running a workflow with a local activity that has only an error return parameter, and the local activity returns nil, the web UI can't show the workflow and shows this error:\r\n13 INTERNAL: Failed to parse server response\r\n\r\nWhen using the cli to show to show the workflow history, it shows it properly.\r\n\r\n**To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. Run a workflow with the above conditions:\r\n\r\n```\r\nfunc Workflow(ctx workflow.Context, name string) (string, error) {\r\n\tao := workflow.LocalActivityOptions{\r\n\t\tScheduleToCloseTimeout: time.Minute,\r\n\t\tStartToCloseTimeout:    time.Minute,\r\n\t}\r\n\tctx = workflow.WithLocalActivityOptions(ctx, ao)\r\n\r\n\terr := workflow.ExecuteLocalActivity(ctx, Activity).Get(ctx, nil)\r\n\tif err != nil {\r\n\t\treturn \"\", err\r\n\t}\r\n\r\n\treturn \"\", nil\r\n}\r\n\r\nfunc Activity(ctx context.Context) error {\r\n\treturn nil\r\n}\r\n```\r\n\r\n2. Go to web UI, open workflow and see the error.\r\n\r\n**Expected behavior**\r\nThe workflow history should be presented in the UI\r\n\r\n**Screenshots**\r\n<img width=\"1422\" alt=\"Screen Shot 2021-03-11 at 12 58 49\" src=\"https://user-images.githubusercontent.com/10175874/110777501-da440580-8269-11eb-83d8-d76d0edacdcb.png\">\r\n\r\n - Browser: Chrome\r\n - Temporal Web Version: 1.7.0\r\n - Tctl Version: 1.7.0\r\n","closedAt":"2021-05-07T07:09:05Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDgyOTYxODQwNg==","author":{"login":"feedmeapples"},"authorAssociation":"CONTRIBUTOR","body":"thanks for filing,\r\nThere was a similar issue filed before https://github.com/temporalio/web/issues/306\r\n\r\nTo fix this, i made a change in sdk-go to address it. It was released in sdk-go v1.5.0 addressed this\r\n\r\nWe are also discussing  server side approach to address this","createdAt":"2021-04-29T21:49:39Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/421#issuecomment-829618406","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDgyOTYyMTQyNg==","author":{"login":"samarabbas"},"authorAssociation":"MEMBER","body":"We need to revisit the fix we made in https://github.com/temporalio/sdk-go/pull/367/files","createdAt":"2021-04-29T21:55:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/421#issuecomment-829621426","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDgyOTY0NTk4Mg==","author":{"login":"feedmeapples"},"authorAssociation":"CONTRIBUTOR","body":"for ref, here is the original same issue #365 ","createdAt":"2021-04-29T22:52:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/421#issuecomment-829645982","viewerDidAuthor":false}],"createdAt":"2021-03-11T11:08:21Z","labels":[],"milestone":null,"number":421,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Bug] 13 INTERNAL: Failed to parse server response when local activity has only error return parameter and returns nil","updatedAt":"2021-05-07T07:09:05Z","url":"https://github.com/temporalio/sdk-go/issues/421"}
