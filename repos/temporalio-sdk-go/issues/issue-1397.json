{"assignees":[],"author":{"id":"U_kgDOCXMGWA","is_bot":false,"login":"dhang-sc","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nCurrently `replayer.ReplayPartialWorkflowHistoryFromJSONFile` or `ReplayWorkflowHistoryFromJSONFile` ( doesnâ€™t allow you to pass in ReplayWorkflowHistoryOptions.  This is desirable if your replay requires you to specify the workflow id and workflow run id.\r\nWith  `ReplayWorkflowHistoryWithOptions` requires you to pass in the history payload.  This requires you to convert from json to the history payload.\r\n\r\nIn addition, It would be nice if https://github.com/temporalio/sdk-go/blob/master/internal/internal_worker.go#L1432-L1501 these functions were made available as well.  \r\n\r\nIt would also be nice if the sdk exposed a logger that can be used in the unit test setting.  Example I wanted to pass a logger into `ReplayWorkflowHistoryFromJSONFile`, but I have to implement any interface that implemented the iLog interface.  I wanted get a defaultLogger but it seems to only be accessible from workflow internal pkg\r\n\r\n","closedAt":null,"comments":[{"id":"IC_kwDODN1w6851FTwq","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"We have to be careful continually adding methods to this interface. Having said that, I think ideally we'd want a separate `LoadWorkflowHistoryFromJSONFile` that you can then use the result of in `ReplayWorkflowHistoryWithOptions`. Of course such a function is only a few lines to read a file and serialize to proto for you to write yourself in the meantime.","createdAt":"2024-02-26T14:49:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1397#issuecomment-1964325930","viewerDidAuthor":false},{"id":"IC_kwDODN1w686gpdL7","author":{"login":"kp-eugene-kulabuhovs"},"authorAssociation":"NONE","body":"Example workflow_test.go:\n\n```golang\nimport (\n\t\"os\"\n\n\t\"github.com/stretchr/testify/assert\"\n\t\"go.temporal.io/api/history/v1\"\n\t\"go.temporal.io/api/temporalproto\"\n\t\"go.temporal.io/sdk/worker\"\n\t\"go.temporal.io/sdk/workflow\"\n)\n\nfunc LoadWorkflowHistoryFromJSONFile(jsonfileName string) (hist *history.History, err error) {\n\topts := temporalproto.CustomJSONUnmarshalOptions{\n\t\tDiscardUnknown: true,\n\t}\n\n\tbs, err := os.ReadFile(jsonfileName)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\thist = &history.History{}\n\tif err := opts.Unmarshal(bs, hist); err != nil {\n\t\treturn nil, err\n\t}\n\n\treturn hist, err\n}\n\nfunc TestExampleWorkflow_UsingHistory(t *testing.T) {\n\t// JSON generated using:\n\t// temporal workflow show --workflow-id <workflow-id> --output json > successful_run.json\n\thistory, err := LoadWorkflowHistoryFromJSONFile(\"testdata/successful_run.json\")\n\tassert.NoError(t, err)\n\n\treplayer := worker.NewWorkflowReplayer()\n\treplayer.RegisterWorkflow(ExampleWorkflow)\n\terr = replayer.ReplayWorkflowHistoryWithOptions(nil, history, worker.ReplayWorkflowHistoryOptions{\n\t\tOriginalExecution: workflow.Execution{\n\t\t\tID: <workflow-id>,\n\t\t},\n\t})\n\n\tassert.NoError(t, err)\n}\n```","createdAt":"2025-03-03T18:27:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1397#issuecomment-2695222011","viewerDidAuthor":false}],"createdAt":"2024-02-25T23:45:49Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1397,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"OPEN","title":"Add Support for `ReplayWorkflowHistoryOptions` to `ReplayWorkflowHistoryFromJSONFile` & `ReplayPartialWorkflowHistoryFromJSONFile`","updatedAt":"2025-03-03T18:27:56Z","url":"https://github.com/temporalio/sdk-go/issues/1397"}
