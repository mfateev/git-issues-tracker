{"assignees":[],"author":{"id":"MDQ6VXNlcjE3MzkxMjEw","is_bot":false,"login":"ingyamilmolinar","name":"ymolinar"},"body":"## Expected Behavior\r\nRunning CancelWorkflow(ctx, workflowID, \"\") by using an ID of a workflow that does not exist or that has no execution instances should return EntityNotExistsError error that is friendly with the standard `errors` package.\r\n\r\n## Actual Behavior\r\nThe function is returning:\r\n```\r\nreflect.TypeOf(err) = *serviceerror.NotFound\r\nerr.Error() = sql: no rows in result set\r\n```\r\n\r\nSo far, to distinguish this error from the rest, I need to assert the error: `_, isNotFound := err.(*serviceerror.NotFound)` which works but it's a non standard way to verify error types. I am unable to use the errors package `Is()` function.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Use CancelWorkflow with a non existent or terminated workflow ID and get the error\r\n  2. errors.Is(err, &serviceerror.NotFound{}) will be false.\r\n\r\n## Specifications\r\n\r\n  - SDK Version: 1.5.0\r\n  - Platform: Linux Debian 5.7.10 x86_64 GNU/Linux\r\n\r\n","closedAt":"2022-12-13T13:21:27Z","comments":[{"id":"IC_kwDODN1w685QYEZJ","author":{"login":"Gibstick"},"authorAssociation":"NONE","body":"I think this is still happening. The issue also occurs with `GetWorkflow`. I'm on SDK Version 1.15.0.","createdAt":"2022-12-13T12:49:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/395#issuecomment-1348486729","viewerDidAuthor":false},{"id":"IC_kwDODN1w685QYGxM","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> which works but it's a non standard way to verify error types. \r\n\r\nThis is not true. It _is_ the standard way to verify error types. `errors.Is` is the standard way to verify _equality_. But this is a server error and you don't want to verify equality (the message the server may relay for not-found is not known), you want to verify that it is not found for any reason.\r\n\r\n@Gibstick - Is this the problem you are having? That you are using `errors.Is` to assert type instead of using a type assertion? You should use a type assertion to assert error type.","createdAt":"2022-12-13T12:58:10Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/395#issuecomment-1348496460","viewerDidAuthor":false},{"id":"IC_kwDODN1w685QYMvI","author":{"login":"Gibstick"},"authorAssociation":"NONE","body":"Thanks for clearing it up. To be precise I was calling `Get()` on the result of `GetWorkflow`. Indeed I had gotten error handling wrong, and looking at [`error.go`](https://github.com/temporalio/sdk-go/blob/8e0a97274eb32f7c5a637df9f0cf84a55deeb890/temporal/error.go#L205) makes it clear how I should be doing it in the cases where that file doesn't provide a nice helper for me.\r\n\r\nWith that understood, there's no bug here.","createdAt":"2022-12-13T13:16:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/395#issuecomment-1348520904","viewerDidAuthor":false},{"id":"IC_kwDODN1w685QYOhg","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":":+1: Closing issue. Original report was incorrect in assuming how you check for error types in Go.","createdAt":"2022-12-13T13:21:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/395#issuecomment-1348528224","viewerDidAuthor":false}],"createdAt":"2021-03-31T16:43:31Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":395,"reactionGroups":[],"state":"CLOSED","title":"CancelWorkflow() should return EntityNotExistsError error if workflow does not exist","updatedAt":"2022-12-13T13:21:27Z","url":"https://github.com/temporalio/sdk-go/issues/395"}
