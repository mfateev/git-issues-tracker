{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"## Expected Behavior\n`OnUpsertSearchAttributes` and `OnUpsertMemo` are just called when their methods are called. They were not developed to return values or return errors unlike many of our other mocks. We need to either:\n\n* Properly document that these are essentially \"event listeners\" and they cannot affect behavior.\n* Have these calls actually mock\n  * Probably a bad idea, backwards incompat to have it override the default behavior of adding to the attr maps\n  * But we could at least call this first and let the mocker return an error that is returned then to the workflow\n\n","closedAt":null,"comments":[{"id":"IC_kwDODN1w6854tt3y","author":{"login":"jPomeranz"},"authorAssociation":"NONE","body":"Just curious, was an internal consensus reached on the optimal behavior for these calls going forward? I was wondering if this is something we could make a PR for to allow the mocks or whether it's still awaiting an internal decision.","createdAt":"2024-03-28T13:56:42Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1033#issuecomment-2025250290","viewerDidAuthor":false},{"id":"IC_kwDODN1w686BKEMu","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"We should document that `OnUpsertSearchAttributes` and `OnUpsertMemo` are just `event listeners`. Mocking these calls return value in the test environment doesn't make sense since the real environment and the test environment perform identical validation so mocking would just allow users to create discrepancies between a real workflow and one running in the test environment.  ","createdAt":"2024-06-13T22:31:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1033#issuecomment-2166899502","viewerDidAuthor":false}],"createdAt":"2023-02-08T15:27:12Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":1033,"reactionGroups":[],"state":"OPEN","title":"OnUpsertSearchAttributes and OnUpsertMemo unclear about mocking ability","updatedAt":"2025-02-04T18:25:47Z","url":"https://github.com/temporalio/sdk-go/issues/1033"}
