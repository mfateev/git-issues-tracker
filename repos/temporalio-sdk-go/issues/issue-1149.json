{"assignees":[],"author":{"id":"MDQ6VXNlcjIyMTIzNTQ=","is_bot":false,"login":"loicsaintroch","name":"Lo√Øc Saint-Roch"},"body":"**Is your feature request related to a problem? Please describe.**\r\nTrace attribute keys are enforced by the Temporal SDK, and are as follow:\r\n- `temporalWorkflowID`\r\n- `temporalRunID`\r\n- `temporalActivityID`\r\n\r\nFound here: https://github.com/temporalio/sdk-go/blob/master/interceptor/tracing_interceptor.go#L39-L43\r\n\r\nThe only way to customise those keys is to create our own implementation of `interceptor.Interceptor` which is kind of heavy work to simply rename these keys.\r\n\r\n**Describe the solution you'd like**\r\nWe could have the possibility to override the key values set by default in `interceptor.TracerOptions`, and port these options to `opentelemetry.TracerOptions` and `opentracing.TracerOptions`.\r\n\r\n**Additional context**\r\nIssue related to [this thread on Slack](https://temporalio.slack.com/archives/CTDTU3J4T/p1687932329808269)","closedAt":null,"comments":[{"id":"IC_kwDODN1w685gHoa5","author":{"login":"loicsaintroch"},"authorAssociation":"NONE","body":"As discussed on Slack, here's a possible approach _without_ having a custom `interceptor.Interceptor`.\r\n\r\nCreate your own `interceptor.Tracer`, and override the `StartSpan` function:\r\n```go\r\ntype MyCustomTracer struct {\r\n\tinterceptor.Tracer\r\n}\r\n\r\nfunc (m MyCustomTracer) StartSpan(opts *interceptor.TracerStartSpanOptions) (interceptor.TracerSpan, error) {\r\n\tif v := opts.Tags[\"temporalWorkflowID\"]; v != \"\" {\r\n\t\topts.Tags[\"temporal.workflow.id\"] = v\r\n\t\tdelete(opts.Tags, \"temporalWorkflowID\")\r\n\t}\r\n\r\n\tif v := opts.Tags[\"temporalRunID\"]; v != \"\" {\r\n\t\topts.Tags[\"temporal.workflow.run_id\"] = v\r\n\t\tdelete(opts.Tags, \"temporalRunID\")\r\n\t}\r\n\r\n\tif v := opts.Tags[\"temporalActivityID\"]; v != \"\" {\r\n\t\topts.Tags[\"temporal.activity.id\"] = v\r\n\t\tdelete(opts.Tags, \"temporalActivityID\")\r\n\t}\r\n\r\n\treturn m.Tracer.StartSpan(opts)\r\n}\r\n```\r\n\r\nCreate a new tracer using the distribution of your choice, such as `opentelemetry`. Then pass this tracer in `interceptor.NewTracingInterceptor`:\r\n```go\r\notelTracer, err := opentelemetry.NewTracer(opentelemetry.TracerOptions{\r\n\t// ...\r\n})\r\n\r\ncustomTracer := MyCustomTracer{\r\n\tTracer: otelTracer,\r\n}\r\n\r\nvar opts = client.Options{\r\n\tInterceptors: []interceptor.ClientInterceptor{\r\n\t\tinterceptor.NewTracingInterceptor(customTracer),\r\n\t},\r\n}\r\n```\r\n\r\nLeaving this issue open to let the Temporal decide if/how this should be documented or if another approach should be implemented.","createdAt":"2023-06-29T08:19:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"HEART","users":{"totalCount":2}}],"url":"https://github.com/temporalio/sdk-go/issues/1149#issuecomment-1612613305","viewerDidAuthor":false},{"id":"IC_kwDODN1w685xwbQ2","author":{"login":"throwaway58383958484"},"authorAssociation":"NONE","body":"+1 for this. We would like to inject additional attributes on our traces, and there doesn't seem to be a good way to do it. Even if we override `StartSpan` as described in [this comment](https://github.com/temporalio/sdk-go/issues/1149#issuecomment-1612613305) (great idea, by the way), we'd like to include tags that we're storing on our context, but unfortunately the context is unavailable there.\r\n\r\n","createdAt":"2024-01-24T16:46:18Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":3}}],"url":"https://github.com/temporalio/sdk-go/issues/1149#issuecomment-1908519990","viewerDidAuthor":false},{"id":"IC_kwDODN1w6868k2sr","author":{"login":"olenotron"},"authorAssociation":"NONE","body":"unfortunate that this issue didn't get any attention. It makes tracing in Temporal GO SDK quite limited.","createdAt":"2025-08-07T11:42:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1149#issuecomment-3163777835","viewerDidAuthor":false}],"createdAt":"2023-06-28T16:00:48Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1149,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":4}}],"state":"OPEN","title":"Allow custom trace attribute keys","updatedAt":"2025-08-07T11:42:45Z","url":"https://github.com/temporalio/sdk-go/issues/1149"}
