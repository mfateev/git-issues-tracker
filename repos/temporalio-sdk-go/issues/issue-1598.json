{"assignees":[],"author":{"id":"U_kgDOCA0Oxg","is_bot":false,"login":"antlai-temporal","name":"Antonio Lain"},"body":"## Expected Behavior\r\nThe interface `Ramp` is an optional field for `VersioningAssignmentRule`, we should be able to set\r\nit to `nil` regardless of the type of the `nil` object \r\n\r\n## Actual Behavior\r\nCurrently we can set it to  untyped `nil`, but with a typed `nil` it panics with a \r\nbad memory reference.\r\n\r\n## Steps to Reproduce the Problem\r\n```\r\nfunc Test_WorkerVersioningRules_typed_nil(t *testing.T) {\r\n\tramp := &VersioningRampByPercentage{\r\n\t\tPercentage: 45.0,\r\n\t}\r\n\tramp = nil\r\n\r\n\tu := UpdateWorkerVersioningRulesOptions{\r\n\t\tTaskQueue: \"myQueue\",\r\n\t\tOperation: &VersioningOperationInsertAssignmentRule{\r\n\t\t\tRuleIndex: 0,\r\n\t\t\tRule: VersioningAssignmentRule{\r\n\t\t\t\tTargetBuildID: \"2.0\",\r\n\t\t\t\tRamp:          ramp,\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n      /// This panics....!!\r\n\t_, err := u.validateAndConvertToProto(\"my_namespace\")\r\n}\r\n```\r\n","closedAt":"2025-02-11T08:33:38Z","comments":[{"id":"IC_kwDODN1w686d9aMR","author":{"login":"antlai-temporal"},"authorAssociation":"MEMBER","body":"Assignment rules have been deprecated and soon to be removed. Closing...","createdAt":"2025-02-11T08:33:38Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1598#issuecomment-2650120977","viewerDidAuthor":false}],"createdAt":"2024-08-17T00:22:19Z","labels":[{"id":"MDU6TGFiZWwyMDUzODEzNTY0","name":"potential-bug","description":"","color":"90c109"}],"milestone":null,"number":1598,"reactionGroups":[],"state":"CLOSED","title":"Typed nil versioning ramp panics","updatedAt":"2025-02-11T08:33:39Z","url":"https://github.com/temporalio/sdk-go/issues/1598"}
