{"assignees":[],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"**Is your feature request related to a problem? Please describe.**\r\nReceiveWithTimeout doesn't cancel outstanding timers.\r\n\r\n**Describe the solution you'd like**\r\nCancel outstanding timers.\r\n","closedAt":"2025-02-04T18:09:10Z","comments":[{"id":"IC_kwDODN1w685dz7v_","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"This will be implicitly solved if/when https://github.com/temporalio/sdk-go/issues/986 is.","createdAt":"2023-06-02T15:11:48Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1125#issuecomment-1573895167","viewerDidAuthor":false},{"id":"IC_kwDODN1w686bZSVJ","author":{"login":"captchanjack-anzx"},"authorAssociation":"NONE","body":"Any update on this? With the new UI it's pretty clear timers are still not being cancelled from signals are received\n\n<img width=\"420\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/6d3c965c-8565-40d0-9b80-41612817ab91\" />\n\nmy implementation:\n```\n\texit := false\n\tfor !exit {\n\t\tvar got SignalPayload[T]\n\t\tok, more := s.receiveChannel.ReceiveWithTimeout(ctx, s.timeout, &got)\n\t\tif !ok {\n\t\t\treturn ErrSignalReceiverTimeout\n\t\t}\n\n\t\texit = signalCallback(got)\n\t\tif exit || !more {\n\t\t\tbreak\n\t\t}\n\t}\n\n\treturn nil\n```","createdAt":"2025-01-22T12:17:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1125#issuecomment-2607097161","viewerDidAuthor":false},{"id":"IC_kwDODN1w686bZ1k-","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"No update at this time (same as #986). This is something we may prioritize, but can we get an idea of your impact? While a timer that is no longer listened to does fire and cause the workflow to potentially replay, there should be no user-visible effects of this.","createdAt":"2025-01-22T13:23:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1125#issuecomment-2607241534","viewerDidAuthor":false},{"id":"IC_kwDODN1w686bZ66s","author":{"login":"captchanjack-anzx"},"authorAssociation":"NONE","body":"All good just wanted to check. I am wondering though what would happen when the timers do timeout while ReceiveWithTimeout loop is still active?","createdAt":"2025-01-22T13:33:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1125#issuecomment-2607263404","viewerDidAuthor":false},{"id":"IC_kwDODN1w686bbF0U","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Each call to `ReceiveWithTimeout` makes its own timer, so it's not about the loop, it's about the `ReceiveWithTimeout` call. Today if the `ReceiveWithTimeout` call completes successfully before timeout, then the timer fires in the background but has no visible effect because nothing is listening to it anymore.","createdAt":"2025-01-22T15:34:51Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1125#issuecomment-2607570196","viewerDidAuthor":false},{"id":"IC_kwDODN1w686dCoH5","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Consolidating this with https://github.com/temporalio/sdk-go/issues/986","createdAt":"2025-02-04T18:09:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1125#issuecomment-2634711545","viewerDidAuthor":false}],"createdAt":"2023-06-02T15:01:16Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzA3NDg2","name":"bug","description":"Something isn't working","color":"d73a4a"},{"id":"MDU6TGFiZWwxNjIyNzA3NDky","name":"enhancement","description":"New feature or request","color":"a2eeef"}],"milestone":null,"number":1125,"reactionGroups":[],"state":"CLOSED","title":"ReceiveWithTimeout should cancel outstanding timers","updatedAt":"2025-02-04T18:09:11Z","url":"https://github.com/temporalio/sdk-go/issues/1125"}
