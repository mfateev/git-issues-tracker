{"assignees":[],"author":{"id":"MDQ6VXNlcjIyNjY0Mjkw","is_bot":false,"login":"spy16","name":"Shivaprasad Bhat"},"body":"## Expected Behavior\n\nWith the following snippet, the SDK should connect to the server:\n\n```golang\n\tc, err := client.Dial(client.Options{\n\t\tHostPort: \"localhost:7233\",\n\t})\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdefer c.Close()\n```\n\n## Actual Behavior\n\nThe connection times-outs with a \n\n```\npanic: failed reaching server: context deadline exceeded\n\ngoroutine 1 [running]:\nmain.main()\n\t/Users/spy16/labs/temporalplay/main.go:13 +0xac\nexit status 2\n```\n\n## Steps to Reproduce the Problem\n\n  1. Run the server with `temporal server start-dev` \n  2. Run the client code shown above\n\n> Might be intermittent as reported in this discussion as well https://github.com/grpc/grpc-go/issues/7429#issuecomment-2559404107\n\n## Specifications\n\n  - Version: SDK 1.32.1\n  - Platform: Darwin FeatherBox.local 23.1.0 Darwin Kernel Version 23.1.0: Mon Oct  9 21:28:31 PDT 2023; root:xnu-10002.41.9~6/RELEASE_ARM64_T8112 arm64\n","closedAt":"2025-02-20T16:13:08Z","comments":[{"id":"IC_kwDODN1w686fE-sQ","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Does the same happen with `127.0.0.1:7233`? If so, it sounds like the default of `localhost` DNS lookup does not work on your setup for whatever reason.","createdAt":"2025-02-19T14:51:27Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1834#issuecomment-2668882704","viewerDidAuthor":false},{"id":"IC_kwDODN1w686fKtkX","author":{"login":"spy16"},"authorAssociation":"NONE","body":"I should've mentioned. It works with `127.0.0.1:7233` just fine. It is a known issue with the `dns` resolver in the gRPC Go client.. The link to the whole discussion is mentioned above. The solution for `NewClient()` usage suggested is to use `passthrough://` as the schema but in the Temporal SDK, clients can't control the schema since it's accepting `hostname:port` format only.","createdAt":"2025-02-20T03:38:25Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1834#issuecomment-2670385431","viewerDidAuthor":false},{"id":"IC_kwDODN1w686fO6xb","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"> The solution for `NewClient()` usage suggested is to use `passthrough://` as the schema but in the Temporal SDK, clients can't control the schema since it's accepting `hostname:port` format only.\n\nPer the documentation on `HostPort`, I think `passthrough://` should work, have you tried? Does it give an error?","createdAt":"2025-02-20T13:22:13Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1834#issuecomment-2671488091","viewerDidAuthor":false},{"id":"IC_kwDODN1w686fP1MG","author":{"login":"spy16"},"authorAssociation":"NONE","body":"with this:\n\n```golang\n\tc, err := client.Dial(client.Options{\n\t\tHostPort: \"passthrough://localhost:7233\",\n\t})\n```\n\nI get this:\n\n```\n2025/02/20 20:19:23 INFO  No logger configured for temporal client. Created default one.\n2025/02/20 20:19:23 [Err] failed: failed reaching server: failed to exit idle mode: passthrough: received empty target in Build()\npanic: runtime error: invalid memory address or nil pointer dereference\n[signal SIGSEGV: segmentation violation code=0x2 addr=0x0 pc=0x10542db08]\n\ngoroutine 1 [running]:\nmain.main()\n```\n\nBut for me `127.0.0.1` solution is good enough. I just wanted to report for others benefit if they get stuck due to this issue.","createdAt":"2025-02-20T14:50:20Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-go/issues/1834#issuecomment-2671727366","viewerDidAuthor":false},{"id":"IC_kwDODN1w686fQvJy","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Per the [issue](https://github.com/grpc/grpc-go/issues/7429#issuecomment-2559404107) you linked it should be `passthrough:///localhost:7233`","createdAt":"2025-02-20T16:10:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-go/issues/1834#issuecomment-2671964786","viewerDidAuthor":false},{"id":"IC_kwDODN1w686fQwsH","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Marking as closed since this is a grpc go behaviour ","createdAt":"2025-02-20T16:13:08Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-go/issues/1834#issuecomment-2671971079","viewerDidAuthor":false}],"createdAt":"2025-02-19T14:47:04Z","labels":[],"milestone":null,"number":1834,"reactionGroups":[],"state":"CLOSED","title":"SDK client connection Issue on localhost ","updatedAt":"2025-02-20T16:13:29Z","url":"https://github.com/temporalio/sdk-go/issues/1834"}
