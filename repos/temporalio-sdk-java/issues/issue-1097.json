{"assignees":[],"author":{"id":"MDQ6VXNlcjQwMjU3MTE=","is_bot":false,"login":"pmh92","name":"Pedro Morales"},"body":"## Expected Behavior\r\nWorkerFactory instance is created properly\r\n\r\n## Actual Behavior\r\nThe following exception is thrown:\r\n`java.lang.NoSuchMethodError: 'boolean com.google.protobuf.GeneratedMessageV3.isStringEmpty(java.lang.Object)'`\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Add io.temporal:temporal-sdk:1.8.1 to pom.xml\r\n  2. Try to instantiate a WorkerFactory\r\n  \r\n## Specifications\r\n\r\n  - Version: 1.8.1\r\n  - Platform: macOS\r\n\r\n\r\nAs in the `io.temporal:temporal-serviceclient` pom.xml the version is labelled as follows:\r\n```\r\n<dependency>\r\n      <groupId>com.google.protobuf</groupId>\r\n      <artifactId>protobuf-java-util</artifactId>\r\n      <version>[3.10.0,)</version>\r\n      <scope>compile</scope>\r\n      ...\r\n</dependency> \r\n```\r\nI found out that there is a new version of `com.google.protobuf:protobuf-java-util` with version **4.0.0-rc-2**. This new version is loaded first, which seems to be incompatible with `io.grpc:grpc-services:1.44.1`.\r\n\r\nI fixed this by specifying version **3.19.4** of `com.google.protobuf:protobuf-java-util` in my application's pom.xml\r\n\r\n```\r\n<dependency>\r\n      <groupId>com.google.protobuf</groupId>\r\n      <artifactId>protobuf-java-util</artifactId>\r\n      <version>3.19.4</version>\r\n</dependency>\r\n```","closedAt":"2022-03-24T16:21:31Z","comments":[{"id":"IC_kwDODN12PM5APf-U","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"It's already fixed in master and will be included in the next release.\r\nDuplicates of https://github.com/temporalio/sdk-java/issues/1085 and https://github.com/temporalio/sdk-java/issues/1091","createdAt":"2022-03-24T16:21:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1097#issuecomment-1077804948","viewerDidAuthor":false}],"createdAt":"2022-03-24T10:37:34Z","labels":[],"milestone":null,"number":1097,"reactionGroups":[],"state":"CLOSED","title":"Incompatible protobuf-java-util library usage","updatedAt":"2022-03-24T16:21:32Z","url":"https://github.com/temporalio/sdk-java/issues/1097"}
