{"assignees":[],"author":{"id":"MDQ6VXNlcjE2MTk4MDA=","is_bot":false,"login":"sidguptajhs","name":"Siddharth Gupta"},"body":"Issue in **io.temporal:temporal-spring-boot-starter-alpha:1.18.1**\r\n\r\n## Expected Behavior\r\nWorkers should start and workflows should be processed.\r\n\r\n## Actual Behavior\r\n\r\nWorkflows don't execute and time out. No errors in the spring logs.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Get a spring boot starter alpha based flow working with version 1.17.0 . Use start-workers flag\r\n  2. Change version to 1.18.1 and restart application\r\n\r\n## Specifications\r\n\r\n  - Version: 1.18.1\r\n  - Platform: amd64\r\n\r\n## Spring Config\r\n\r\n```\r\nspring.temporal:\r\n  start-workers: true\r\n  workers:\r\n    - task-queue: z_res_proc_int\r\n      capacity:\r\n        max-concurrent-workflow-task-executors: 10\r\n        max-concurrent-activity-executors: 20\r\n        max-concurrent-local-activity-executors: 2\r\n        max-concurrent-workflow-task-pollers: 3\r\n        max-concurrent-activity-task-pollers: 3\r\n      rate-limits:\r\n        max-worker-activities-per-second: 5.0\r\n        max-task-queue-activities-per-second: 5.0\r\n    - task-queue: z_hc_exec\r\n      capacity:\r\n        max-concurrent-workflow-task-executors: 20\r\n        max-concurrent-activity-executors: 50\r\n        max-concurrent-local-activity-executors: 5\r\n        max-concurrent-workflow-task-pollers: 3\r\n        max-concurrent-activity-task-pollers: 3\r\n      rate-limits:\r\n        max-worker-activities-per-second: 5.0\r\n        max-task-queue-activities-per-second: 5.0\r\n    - task-queue: z_infra_ops\r\n      capacity:\r\n        max-concurrent-workflow-task-executors: 5\r\n        max-concurrent-activity-executors: 1\r\n        max-concurrent-local-activity-executors: 1\r\n        max-concurrent-workflow-task-pollers: 1\r\n        max-concurrent-activity-task-pollers: 1\r\n      rate-limits:\r\n        max-worker-activities-per-second: 5.0\r\n        max-task-queue-activities-per-second: 5.0\r\n  workflow-cache:\r\n      max-instances: 10\r\n      max-threads: 10\r\n  connection:\r\n    target: local\r\n  workers-auto-discovery:\r\n    packages:\r\n      - com.sample\r\n```\r\n","closedAt":"2023-02-11T15:09:22Z","comments":[{"id":"IC_kwDODN12PM5VCyiI","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Since version 1.18.x `ConfigurableApplicationContext.start()` needs to be called for workers to auto-start. If your application has a concept of `start`, it's the right thing to do anyway.\r\nhttps://github.com/temporalio/sdk-java/blob/master/temporal-spring-boot-autoconfigure-alpha/README.md?plain=1#L206\r\nhttps://www.baeldung.com/spring-context-events#2-contextstartedevent","createdAt":"2023-02-11T15:09:22Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1648#issuecomment-1426794632","viewerDidAuthor":false}],"createdAt":"2023-02-11T10:27:41Z","labels":[{"id":"MDU6TGFiZWwzMTgwNzE1ODU0","name":"invalid","description":"This doesn't seem right","color":"e4e669"}],"milestone":null,"number":1648,"reactionGroups":[],"state":"CLOSED","title":"Workers not auto starting in spring boot starter","updatedAt":"2023-02-11T15:16:33Z","url":"https://github.com/temporalio/sdk-java/issues/1648"}
