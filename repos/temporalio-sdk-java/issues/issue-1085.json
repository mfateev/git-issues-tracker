{"assignees":[],"author":{"id":"MDQ6VXNlcjg2ODc4Mw==","is_bot":false,"login":"kgignatyev","name":"Konstantin Ignatyev"},"body":"## Expected Behavior\r\nExecutes normally\r\n\r\n## Actual Behavior\r\nAt runtime see Exception \r\nMar 19, 2022 2:06:48 PM io.grpc.stub.ClientCalls$ThreadlessExecutor waitAndDrain\r\nWARNING: Runnable threw exception\r\njava.lang.NoSuchMethodError: com.google.protobuf.GeneratedMessageV3.isStringEmpty(Ljava/lang/Object;)Z\r\n\tat io.grpc.health.v1.HealthCheckRequest.getSerializedSize(HealthCheckRequest.java:154)\r\n\tat io.grpc.protobuf.lite.ProtoInputStream.available(ProtoInputStream.java:108)\r\n\tat io.grpc.internal.MessageFramer.getKnownLength(MessageFramer.java:205)\r\n\tat io.grpc.internal.MessageFramer.writePayload(MessageFramer.java:137)\r\n\tat io.grpc.internal.AbstractStream.writeMessage(AbstractStream.java:65)\r\n\tat io.grpc.internal.ForwardingClientStream.writeMessage(ForwardingClientStream.java:37)\r\n\tat io.grpc.internal.DelayedStream$6.run(DelayedStream.java:283)\r\n\tat io.grpc.internal.DelayedStream.drainPendingCalls(DelayedStream.java:182)\r\n\tat io.grpc.internal.DelayedStream.access$100(DelayedStream.java:44)\r\n\tat io.grpc.internal.DelayedStream$4.run(DelayedStream.java:148)\r\n\tat io.grpc.stub.ClientCalls$ThreadlessExecutor.waitAndDrain(ClientCalls.java:741)\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:149)\r\n\tat io.grpc.health.v1.HealthGrpc$HealthBlockingStub.check(HealthGrpc.java:252)\r\n\tat io.temporal.serviceclient.WorkflowServiceStubsImpl.lambda$checkHealth$2(WorkflowServiceStubsImpl.java:286)\r\n\tat io.temporal.internal.retryer.GrpcSyncRetryer.retry(GrpcSyncRetryer.java:61)\r\n\tat io.temporal.internal.retryer.GrpcRetryer.retryWithResult(GrpcRetryer.java:51)\r\n\tat io.temporal.serviceclient.WorkflowServiceStubsImpl.checkHealth(WorkflowServiceStubsImpl.java:279)\r\n\tat io.temporal.serviceclient.WorkflowServiceStubsImpl.<init>(WorkflowServiceStubsImpl.java:186)\r\n\tat io.temporal.serviceclient.WorkflowServiceStubs.newInstance(WorkflowServiceStubs.java:51)\r\n\tat io.temporal.serviceclient.WorkflowServiceStubs.newInstance(WorkflowServiceStubs.java:41)\r\n\r\n## Steps to Reproduce the Problem\r\nrun hello world workflow with only this declaration\r\n `    <dependency>\r\n            <groupId>io.temporal</groupId>\r\n            <artifactId>temporal-sdk</artifactId>\r\n            <version>1.8.1</version>\r\n        </dependency>\r\n`\r\n![image](https://user-images.githubusercontent.com/868783/159138949-97579e97-2299-4871-a4df-227d688a2ea9.png)\r\nthere is \r\ncom.google.protobuf:protobuf-java-util:jar:4.0.0-rc-2:compile (version selected from constraint [3.10.0,))\r\n## Steps to mitigate problem\r\nadd explicit version dependency \r\n`\r\n   <dependency>\r\n            <groupId>com.google.protobuf</groupId>\r\n            <artifactId>protobuf-java-util</artifactId>\r\n            <version>3.19.4</version>\r\n        </dependency>\r\n`\r\n## Specifications\r\n\r\n  - Version: SDK 1.8.1\r\n  - Platform:  openjdk version \"1.8.0_322\"\r\nOpenJDK Runtime Environment (Zulu 8.60.0.21-CA-macosx) (build 1.8.0_322-b06)\r\nOpenJDK 64-Bit Server VM (Zulu 8.60.0.21-CA-macosx) (build 25.322-b06, mixed mode)\r\n\r\n mvn --version\r\nApache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)\r\nMaven home: /usr/local/Cellar/maven/3.8.5/libexec\r\nJava version: 1.8.0_322, vendor: Azul Systems, Inc., runtime: /Users/kignatyev/.sdkman/candidates/java/8.0.322-zulu/zulu-8.jdk/Contents/Home/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: \"mac os x\", version: \"10.16\", arch: \"x86_64\", family: \"mac\"\r\n","closedAt":"2022-03-19T21:47:08Z","comments":[{"id":"IC_kwDODN12PM4_9nYQ","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Thank you for the report. It's already fixed in the current master, you will get it with the new release.","createdAt":"2022-03-19T21:47:07Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1085#issuecomment-1073116688","viewerDidAuthor":false}],"createdAt":"2022-03-19T21:27:24Z","labels":[],"milestone":{"number":10,"title":"1.9.0","description":"","dueOn":"2022-04-12T00:00:00Z"},"number":1085,"reactionGroups":[],"state":"CLOSED","title":"range dependency declaration in 1.8.1 causes NoSuchMethodError: com.google.protobuf.GeneratedMessageV3.isStringEmpty","updatedAt":"2022-03-19T21:52:08Z","url":"https://github.com/temporalio/sdk-java/issues/1085"}
