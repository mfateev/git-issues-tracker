{"assignees":[],"author":{"id":"MDQ6VXNlcjcwMTQ5MTAz","is_bot":false,"login":"filipmigdalski","name":"Filip Migdalski"},"body":"## Expected Behavior\r\n\r\n\r\n## Actual Behavior\r\nIt seems that `io.temporal.internal.testservice.StateMachines.ensureDefaultFieldsForActivityRetryPolicy(RetryPolicy originalPolicy)` don't rewrite nonRetryableErrorTypes. There are no corresponding instructions in the method. \r\n","closedAt":"2021-09-23T17:38:33Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDY4ODA2ODUwNg==","author":{"login":"filipmigdalski"},"authorAssociation":"NONE","body":"I've made a quickfix (it's one-liner + tests), but i can't push it into a new branch","createdAt":"2020-09-07T06:32:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/203#issuecomment-688068506","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDcwMDI3MjA2NA==","author":{"login":"skrul"},"authorAssociation":"NONE","body":"Hey @filipmigdalski I believe this issue is currently blocking me from upgrading to v0.29.1 as my code has a unit test that checks if the `setDoNotRetry` retry policy is respected.\r\n","createdAt":"2020-09-28T20:45:57Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/203#issuecomment-700272064","viewerDidAuthor":false},{"id":"IC_kwDODN12PM43MfIE","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Closed by #223","createdAt":"2021-09-23T17:38:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/203#issuecomment-926020100","viewerDidAuthor":false}],"createdAt":"2020-09-07T06:29:01Z","labels":[],"milestone":null,"number":203,"reactionGroups":[],"state":"CLOSED","title":"ensureDefaultFieldsForActivityRetryPolicy in testService don't rewrite nonRetryableErrorTypes","updatedAt":"2021-09-23T17:38:33Z","url":"https://github.com/temporalio/sdk-java/issues/203"}
