{"assignees":[{"id":"MDQ6VXNlcjUzMjEwOA==","login":"Spikhalskiy","name":"Dmitry Spikhalsky","databaseId":0}],"author":{"id":"MDQ6VXNlcjMzODgxMQ==","is_bot":false,"login":"pfrolov","name":"Pavel Frolov"},"body":"## Expected Behavior\r\n\r\nEvery workflow per worker [emits](https://github.com/temporalio/sdk-java/blob/3db50b6d9dd60b17a3b516353cf19ddb9065abd7/temporal-sdk/src/main/java/io/temporal/internal/sync/WorkflowThreadImpl.java#L244) `workflow_active_thread_count` which is the number of active threads in the shared `ThreadPoolExecutor`.\r\n\r\nThis metric should not contain the `WORKFLOW_TYPE` tag to avoid double-counting of `workflow_active_thread_count` given that every workflow share the same `ThreadPoolExecutor`.\r\n\r\n## Actual Behavior\r\n\r\nThis metric **contains** the `WORKFLOW_TYPE` tag which leads to double-counting, when aggregated by the host, of `workflow_active_thread_count` given that every workflow shared the same `ThreadPoolExecutor`.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Run a 1 worker with 2 workflows\r\n  1. Check `workflow_active_thread_count` metric. It will contain the `WORKFLOW_TYPE` tag\r\n\r\n## Specifications\r\n\r\n  - Version: v1.10.0\r\n","closedAt":"2022-05-04T03:52:36Z","comments":[],"createdAt":"2022-04-29T22:37:11Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQx","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":14,"title":"1.12.0","description":"","dueOn":"2022-05-19T00:00:00Z"},"number":1179,"reactionGroups":[],"state":"CLOSED","title":"workflow_active_thread_count metric should not be tagged with WORKFLOW_TYPE","updatedAt":"2022-05-04T03:52:36Z","url":"https://github.com/temporalio/sdk-java/issues/1179"}
