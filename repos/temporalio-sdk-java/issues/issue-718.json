{"assignees":[],"author":{"id":"MDQ6VXNlcjczMzY1NjI5","is_bot":false,"login":"ginachen-netflix","name":"Gina Chen"},"body":"**Is your feature request related to a problem? Please describe.**\r\nRight now when i try to registerActivitiesImplementations with a Spring Proxy bean, it failed with error \r\n\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Class doesn't implement any non empty interface annotated with @ActivityInterface: \r\nxxx.xxx.xxx.ActivityImpl$$EnhancerBySpringCGLIB$$40723738\r\n\tat io.temporal.common.metadata.POJOActivityImplMetadata.<init>(POJOActivityImplMetadata.java:109) ~[temporal-sdk-0.11.0+1-0-7.jar:0.11.0+1-0-7]\r\n\tat io.temporal.common.metadata.POJOActivityImplMetadata.newInstance(POJOActivityImplMetadata.java:53) ~[temporal-sdk-0.11.0+1-0-7.jar:0.11.0+1-0-7]\r\n\tat io.temporal.internal.sync.POJOActivityTaskHandler.registerActivityImplementation(POJOActivityTaskHandler.java:110) ~[temporal-sdk-0.11.0+1-0-7.jar:0.11.0+1-0-7]\r\n\tat io.temporal.internal.sync.POJOActivityTaskHandler.registerActivityImplementations(POJOActivityTaskHandler.java:179) ~[temporal-sdk-0.11.0+1-0-7.jar:0.11.0+1-0-7]\r\n\tat io.temporal.internal.sync.SyncActivityWorker.registerActivityImplementations(SyncActivityWorker.java:55) ~[temporal-sdk-0.11.0+1-0-7.jar:0.11.0+1-0-7]\r\n\tat io.temporal.worker.Worker.registerActivitiesImplementations(Worker.java:326) ~[temporal-sdk-0.11.0+1-0-7.jar:0.11.0+1-0-7]\r\n```\r\n\r\nLooking through the code, the `ActivityInterface` was not recognized as an interface in Proxy class.\r\n\r\n**Describe the solution you'd like**\r\nWe want to make this activity class recognizable.\r\n\r\n**Describe alternatives you've considered**\r\nN/A.\r\n\r\n**Additional context**\r\nHow to attach a screenshot? lol\r\n","closedAt":"2022-07-06T14:22:53Z","comments":[{"id":"IC_kwDODN12PM42xELC","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Hi Gina,\r\n\r\nAny chance you can provide an example of your wiring or at least how do you specifically make the injection?\r\nIf you inject (or request from the Spring container) specific Activity interfaces - Spring proxies should implement the right Activity interfaces.\r\n\r\nMy guess is that your wiring is probably organized in a way that all activities are implementing some marker interface in addition to the actual activity interfaces and you ask Spring to give a collection of all instances implementing this marker interface. This doesn't work because Spring wraps the activity instances into proxies that implement the marker interface only, but not actual Activity interfaces.\r\n\r\nLet me know if you can share more information here. Also, feel free to ping me on Slack with the details.\r\n","createdAt":"2021-09-14T06:00:48Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/718#issuecomment-918831810","viewerDidAuthor":false},{"id":"IC_kwDODN12PM5GHLVd","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"No reproduction is provided. I verified in a toy Spring Boot app that an activity can be initialized as a spring bean and this bean object can be used in `registerActivityImplementations`.","createdAt":"2022-07-06T14:22:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/718#issuecomment-1176286557","viewerDidAuthor":false}],"createdAt":"2021-09-13T21:05:54Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":718,"reactionGroups":[],"state":"CLOSED","title":"Support Spring Proxy classes marked with @Component for activities","updatedAt":"2022-07-06T14:22:53Z","url":"https://github.com/temporalio/sdk-java/issues/718"}
