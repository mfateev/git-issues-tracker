{"assignees":[],"author":{"id":"MDQ6VXNlcjEwODgwNDc=","is_bot":false,"login":"rpost","name":"Radek Posto≈Çowicz"},"body":"## Expected Behavior\n\nExposed metrics are filtered according to defined `MeterRegistryCustomizer`.\n\n## Actual Behavior\n\n`io.temporal.spring.boot.autoconfigure.NonRootNamespaceAutoConfiguration#nonRootBeanPostProcessor` causes early initialization of `MeterRegistry` (through `io.temporal.spring.boot.autoconfigure.MetricsScopeAutoConfiguration#scope`), even before `org.springframework.boot.actuate.autoconfigure.metrics.MeterRegistryPostProcessor` is ready. This makes \nany `MeterRegistryCustomizer` effectively ignored.\n\n## Steps to Reproduce the Problem\n\nI prepared small reproducer project: https://github.com/rpost/temporal-bug:\n\n  1. https://github.com/rpost/temporal-bug/commit/d97d7356790da88d530c801a722905d3d8b86736 introduces setup and adds test which proves metrics being filtered accordingly.\n  1. https://github.com/rpost/temporal-bug/commit/0a77f4aac841486e78ba8604c10047bb5433f5d1 adds temporal client and this makes test broken\n  1.  https://github.com/rpost/temporal-bug/commit/d16476e4ec796bb338efcade55d6469e9870842e contains workaround\n\n","closedAt":"2025-06-17T16:32:16Z","comments":[],"createdAt":"2025-05-21T16:01:05Z","labels":[],"milestone":null,"number":2533,"reactionGroups":[],"state":"CLOSED","title":"NonRootNamespaceAutoConfiguration#nonRootBeanPostProcessor breaks MeterRegistry customizations","updatedAt":"2025-06-17T16:32:16Z","url":"https://github.com/temporalio/sdk-java/issues/2533"}
