{"assignees":[],"author":{"id":"MDQ6VXNlcjExOTQyMg==","is_bot":false,"login":"tsurdilo","name":"Tihomir Surdilovic"},"body":"To reproduce:\r\n1. Simple workflow (just like a workflow.sleep, no activities, signals etc) with an \"execute\" workflow method\r\n2. Simple test using \r\n\r\n        @Rule\r\n            public TestWorkflowRule testWorkflowRule =\r\n                    TestWorkflowRule.newBuilder()\r\n                            .setWorkflowTypes(MyWorkflowImpl.class)\r\n                            .build();\r\n\r\n3. In test method start the workflow async:\r\n\r\n           MyWorkflow workflow =\r\n                      testWorkflowRule\r\n                              .getWorkflowClient()\r\n                              .newWorkflowStub(\r\n                                      MyWorkflow.class,\r\n                                      WorkflowOptions.newBuilder().setTaskQueue(testWorkflowRule.getTaskQueue()).build());\r\n           WorkflowExecution execution = WorkflowClient.start(workflow::execute, myTestInput);\r\n\r\n4. List open workflow executions:\r\n     \r\n        ListOpenWorkflowExecutionsResponse result = testWorkflowRule.blockingStub()\r\n                .listOpenWorkflowExecutions( ListOpenWorkflowExecutionsRequest.newBuilder()\r\n                .setNamespace(testWorkflowRule.getTestEnvironment().getNamespace()).build());\r\n\r\n5. Check that execution size is 1:\r\n\r\n        assertEquals(result.getExecutionsList().size(), 1);\r\n\r\n6. Check the status: \r\n\r\n        result.getExecutionsList().get(0).getStatus()\r\n\r\n7. See that status is always \r\n\r\n       WorkflowExecutionStatus.WORKFLOW_EXECUTION_STATUS_UNSPECIFIED\r\n\r\n\r\nShould be WorkflowExecutionStatus.WORKFLOW_EXECUTION_STATUS_RUNNING\r\n\r\nCommunity forum reference: https://community.temporal.io/t/when-running-unit-tests-getting-status-workflow-execution-status-unspecified/3246","closedAt":"2022-01-07T20:53:15Z","comments":[{"id":"IC_kwDODN12PM445pWY","author":{"login":"adrien-layer"},"authorAssociation":"NONE","body":"Hello, thanks again for verifying the bug report and following-up by creating this GitHub issue.\r\n\r\nIn order for us to plan ahead, do you have rough estimates regarding when a new release might contain a fix for this?\r\nOrder of magnitude of days, weeks, months?\r\n\r\nThank you very much","createdAt":"2021-10-29T10:33:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/842#issuecomment-954635672","viewerDidAuthor":false}],"createdAt":"2021-10-26T17:20:43Z","labels":[],"milestone":null,"number":842,"reactionGroups":[],"state":"CLOSED","title":"Test env - ListOpenWorkflowExecutionsResponse exec status is always WORKFLOW_EXECUTION_STATUS_UNSPECIFIED","updatedAt":"2022-01-07T20:53:15Z","url":"https://github.com/temporalio/sdk-java/issues/842"}
