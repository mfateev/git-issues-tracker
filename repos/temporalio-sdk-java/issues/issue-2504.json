{"assignees":[],"author":{"id":"MDQ6VXNlcjY1NzE1MzU=","is_bot":false,"login":"DanielASAndrews","name":"Daniel Andrews"},"body":"## Expected Behavior\n\nTemporal latest release 1.29.0 works with Spring Boot 3.3.11\n\n## Actual Behavior\n\nUpgrading spring-boot-starter-parent from 3.3.4 to 3.3.11 causes bean instantiation issue on application startup\n\nWe upgraded spring version because of security scan vulnerability CVE-2025-22235 (https://spring.io/security/cve-2025-22235)\n\n```\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'temporalWorkerService': Invocation of init method failed\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:222)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:422)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1798)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:600)\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:522)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:337)\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:335)\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:975)\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:971)\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:625)\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:755)\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:456)\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:335)\n\tat com.procore.mlasyncadapter.MLAsyncAdapterApplication.main(MLAsyncAdapterApplication.java:20)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\n\tat org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:102)\n\tat org.springframework.boot.loader.launch.Launcher.launch(Launcher.java:64)\n\tat org.springframework.boot.loader.launch.JarLauncher.main(JarLauncher.java:40)\nCaused by: io.grpc.StatusRuntimeException: DEADLINE_EXCEEDED: Deadline CallOptions will be exceeded in 3.398807440s.\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:275)\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:256)\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:169)\n\tat io.temporal.api.workflowservice.v1.WorkflowServiceGrpc$WorkflowServiceBlockingStub.getSystemInfo(WorkflowServiceGrpc.java:6065)\n\tat io.temporal.serviceclient.SystemInfoInterceptor.getServerCapabilitiesOrThrow(SystemInfoInterceptor.java:132)\n\tat io.temporal.serviceclient.SystemInfoInterceptor.lambda$getServerCapabilitiesWithRetryOrThrow$0(SystemInfoInterceptor.java:118)\n\tat io.temporal.internal.retryer.GrpcSyncRetryer.retry(GrpcSyncRetryer.java:69)\n\tat io.temporal.internal.retryer.GrpcRetryer.retryWithResult(GrpcRetryer.java:60)\n\tat io.temporal.serviceclient.SystemInfoInterceptor.getServerCapabilitiesWithRetryOrThrow(SystemInfoInterceptor.java:117)\n\tat io.temporal.serviceclient.ChannelManager.lambda$getServerCapabilities$3(ChannelManager.java:344)\n\tat io.temporal.internal.worker.WorkflowPollTask.<init>(WorkflowPollTask.java:88)\n\tat io.temporal.internal.worker.WorkflowWorker.start(WorkflowWorker.java:143)\n\tat io.temporal.internal.worker.SyncWorkflowWorker.start(SyncWorkflowWorker.java:177)\n\tat io.temporal.worker.Worker.start(Worker.java:418)\n\tat io.temporal.worker.WorkerFactory.start(WorkerFactory.java:224)\n\tat com.procore.mlasyncadapter.workflow.TemporalWorkerService.startWorker(TemporalWorkerService.java:46)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:569)\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMethod.invoke(InitDestroyAnnotationBeanPostProcessor.java:457)\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:401)\n\tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:219)\n\t... 23 common frames omitted\n```\n\n## Steps to Reproduce the Problem\n\n  1. Temporal 1.28.3, Springboot 3.3.4 -> update -> 3.3.11 => Issue appears \n  1. Temporal 1.28 -> 1.29.0 => Issue persists\n  1. Springboot 3.3.11 -> downgrade -> 3.3.4 => Issue disappears\n\n## Specifications\n\n  - Version: 1.28.3, 1.29.0\n  - Platform: maven:3.8.1-openjdk-17-slim\n","closedAt":"2025-06-03T14:04:34Z","comments":[{"id":"IC_kwDODN12PM6pvljQ","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"@DanielASAndrews can you please provide a stand alone replication of your issue, then we will take a look . Thanks\n\non the surface it looks like a your worker couldn't connect to your Temporal cluster","createdAt":"2025-05-02T18:17:45Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2504#issuecomment-2847824080","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6u9uYZ","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Closing due to lack or reproduction, we can re open if a reproduction is provided.","createdAt":"2025-06-03T14:04:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2504#issuecomment-2935416345","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6vzygV","author":{"login":"DanielASAndrews"},"authorAssociation":"NONE","body":"@Quinn-With-Two-Ns Sorry for the delay - we ended up working with the Temporal Cloud Support team and the issue ended up being this one:\n\n> On your WorkflowServiceStubsOptions, can you please set the GetSystemInfo timeout to 5 or 10 seconds, as shown here:\nWorkflowServiceStubsOptions.newBuilder()\n.setSystemInfoTimeout(Duration.ofSeconds(10))\nSee [these release notes](https://urldefense.proofpoint.com/v2/url?u=https-3A__github.com_temporalio_sdk-2Djava_releases_tag_v1.25.2&d=DwMFaQ&c=jNOZMG6z2EeG3kPzO0VzH_g0oOA2ndrpb3OIHbfUmfw&r=CmUPOYFJkKa9MKxidC7KEEo-UrgvPFezDyA92vFo244&m=1dfkSRa7Pi37pBt0zgR7QlUoMofs6pLCM3wvhr4vF0n2BulTJTt6bGxd8Xh8oQgI&s=OG8_5Z9ZPdWU_4T-SXQdU9myFK6KMJsDeKNLVV1LtE4&e=)","createdAt":"2025-06-06T15:19:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-java/issues/2504#issuecomment-2949589013","viewerDidAuthor":false}],"createdAt":"2025-05-02T18:10:17Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ4","name":"question","description":"Further information is requested","color":"BFD4F2"}],"milestone":null,"number":2504,"reactionGroups":[],"state":"CLOSED","title":"Temporal versions 1.28.3 1.29.0 compatibility with Springboot spring-boot-starter-parent 3.3.11","updatedAt":"2025-06-06T15:19:56Z","url":"https://github.com/temporalio/sdk-java/issues/2504"}
