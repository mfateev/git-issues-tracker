{"assignees":[{"id":"MDQ6VXNlcjUzMjEwOA==","login":"Spikhalskiy","name":"Dmitry Spikhalsky","databaseId":0}],"author":{"id":"MDQ6VXNlcjI2MDI5Nzg=","is_bot":false,"login":"natalie-zamani","name":"Natalie Zamani"},"body":"Weâ€™re trying to upgrade our gRPC usages to 1.42.1 (for our own clients/servers), but are running into a Temporal dep constraint conflict:\n`io.grpc:grpc-stub:{strictly 1.41.0}`\n\nAny plans to update?","closedAt":"2021-12-06T21:40:47Z","comments":[{"id":"IC_kwDODN12PM460zzr","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Hi Nataly, \r\nWhen I inspect our 1.5.0 release with\r\n`./gradlew :temporal-sdk:dependencies --configuration runtimeClasspath | grep \"grpc-stub\" -B 12`\r\nI get \r\n```\r\n+--- project :temporal-serviceclient\r\n|    +--- io.grpc:grpc-api:{strictly [1.34.0,); prefer 1.41.0} -> 1.41.0\r\n|    |    +--- io.grpc:grpc-context:1.41.0\r\n|    |    +--- com.google.code.findbugs:jsr305:3.0.2\r\n|    |    +--- com.google.guava:guava:30.1-android -> 31.0.1-jre\r\n|    |    |    +--- com.google.guava:failureaccess:1.0.1\r\n|    |    |    +--- com.google.guava:listenablefuture:9999.0-empty-to-avoid-conflict-with-guava\r\n|    |    |    +--- com.google.code.findbugs:jsr305:3.0.2\r\n|    |    |    +--- org.checkerframework:checker-qual:3.12.0\r\n|    |    |    +--- com.google.errorprone:error_prone_annotations:2.7.1 -> 2.9.0\r\n|    |    |    \\--- com.google.j2objc:j2objc-annotations:1.3\r\n|    |    \\--- com.google.errorprone:error_prone_annotations:2.9.0\r\n|    +--- io.grpc:grpc-stub:{strictly [1.34.0,); prefer 1.41.0} -> 1.41.0\r\n--\r\n|    +--- io.grpc:grpc-services:{strictly [1.34.0,); prefer 1.41.0} -> 1.41.0\r\n|    |    +--- io.grpc:grpc-protobuf:1.41.0\r\n|    |    |    +--- io.grpc:grpc-api:1.41.0 (*)\r\n|    |    |    +--- com.google.code.findbugs:jsr305:3.0.2\r\n|    |    |    +--- com.google.protobuf:protobuf-java:3.17.2 -> 3.18.1\r\n|    |    |    +--- com.google.api.grpc:proto-google-common-protos:2.0.1\r\n|    |    |    |    \\--- com.google.protobuf:protobuf-java:3.13.0 -> 3.18.1\r\n|    |    |    +--- io.grpc:grpc-protobuf-lite:1.41.0\r\n|    |    |    |    +--- io.grpc:grpc-api:1.41.0 (*)\r\n|    |    |    |    +--- com.google.code.findbugs:jsr305:3.0.2\r\n|    |    |    |    \\--- com.google.guava:guava:30.1-android -> 31.0.1-jre (*)\r\n|    |    |    \\--- com.google.guava:guava:30.1-android -> 31.0.1-jre (*)\r\n|    |    +--- io.grpc:grpc-stub:1.41.0 (*)\r\n```\r\nwhich is aligned with our declaration of `grpcVersion = '[1.34.0,)!!1.41.0'`\r\nSo, we \"prefer\" `1.41.0`, but don't \"strictly\" enforce it.\r\nAre you sure that `io.grpc:grpc-stub:{strictly 1.41.0}` comes from temporal-sdk?\r\n\r\nWe will update the preferred version to 1.42.1 for the next release though.","createdAt":"2021-12-06T16:11:08Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/918#issuecomment-986922219","viewerDidAuthor":false},{"id":"IC_kwDODN12PM4609Yz","author":{"login":"natalie-zamani"},"authorAssociation":"CONTRIBUTOR","body":"So it is failing due to that Temporal grpc constraint (which is odd, given that it's not a strict range). It seems like it may be some weirdness around how Gradle Platforms interoperable with dependency ranges, and less of an issue with Temporal's usage of a version range. \n\nAnyways, we'll try 1.6 later today when that's released! Thanks!","createdAt":"2021-12-06T16:54:10Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/918#issuecomment-986961459","viewerDidAuthor":false}],"createdAt":"2021-12-06T15:21:50Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":{"number":7,"title":"1.6.0","description":"","dueOn":"2021-12-07T00:00:00Z"},"number":918,"reactionGroups":[],"state":"CLOSED","title":"Update gRPC to 1.42.1","updatedAt":"2022-01-10T22:47:42Z","url":"https://github.com/temporalio/sdk-java/issues/918"}
