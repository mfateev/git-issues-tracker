{"assignees":[],"author":{"id":"MDQ6VXNlcjI3NzQ2MA==","is_bot":false,"login":"jrogers","name":"Jeff Rogers"},"body":"## Expected Behavior\n\n`temporal_` metrics emitted properly.\n\n## Actual Behavior\n\nMetrics get emitted to a no-op scope, and not to the underlying Micrometer MeterRegistry.\n\nThis occurs because metrics scope bean fails to configure properly before being supplied to other temporal configuration. It waits to run after `CompositeMeterRegistryAutoConfiguration` (https://github.com/temporalio/sdk-java/blob/2322bd0da735fe310b7291f3b7fbeda10bdf5e40/temporal-spring-boot-autoconfigure/src/main/java/io/temporal/spring/boot/autoconfigure/MetricsScopeAutoConfiguration.java#L18), however the package for this class changed to `org.springframework.boot.micrometer.metrics.autoconfigure.CompositeMeterRegistryAutoConfiguration` in Spring Boot 4.\n\n## Steps to Reproduce the Problem\n\n  1. Update application to Spring Boot 4\n  2. Check if metrics are emitted to Micrometer properly\n\n## Specifications\n\n  - Version: 1.32.1\n  - Platform: Mac/Linux\n","closedAt":null,"comments":[{"id":"IC_kwDODN12PM7e7cCG","author":{"login":"maciejdudko"},"authorAssociation":"MEMBER","body":"Hi Jeff, thank you for opening this issue. We don't fully support Spring Boot 4 yet, but we are working on it - see #2738.","createdAt":"2026-01-12T19:19:55Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2758#issuecomment-3740123270","viewerDidAuthor":false},{"id":"IC_kwDODN12PM7e8Ce5","author":{"login":"jrogers"},"authorAssociation":"NONE","body":"If it means anything, metrics integration appears to be the only thing not working out of the box when upgrading.\nUnfortunately patching it, with the usage of named beans and loading conditions, basically has required forking all the auto configuration code üôÅ ","createdAt":"2026-01-12T20:03:35Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2758#issuecomment-3740280761","viewerDidAuthor":false},{"id":"IC_kwDODN12PM7f1F0G","author":{"login":"poblouin"},"authorAssociation":"NONE","body":"Hi @maciejdudko, do you have an expected timeline for the SB4 migration?","createdAt":"2026-01-15T14:49:04Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2758#issuecomment-3755236614","viewerDidAuthor":false}],"createdAt":"2026-01-09T19:49:02Z","labels":[],"milestone":null,"number":2758,"reactionGroups":[],"state":"OPEN","title":"Spring Metrics Configuration fails with Spring Boot 4","updatedAt":"2026-01-15T14:49:04Z","url":"https://github.com/temporalio/sdk-java/issues/2758"}
