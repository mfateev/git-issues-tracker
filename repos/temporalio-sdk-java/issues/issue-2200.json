{"assignees":[],"author":{"id":"MDQ6VXNlcjQzNDc4OA==","is_bot":false,"login":"idubrov","name":"Ivan Dubrov"},"body":"## Expected Behavior\r\n\r\nExpected both of the following stubs to use the same default options configured via Spring Boot bean implementing `TemporalOptionsCustomizer<WorkflowImplementationOptions.Builder>`.\r\n\r\n```\r\nvar stub = Workflow.newActivityStub(Whatever.class, null); // no explicit options provided\r\nvar untypedStub = Workflow.newUntypedActivityStub(null); // no explicit options provided\r\n```\r\n\r\n## Actual Behavior\r\n\r\nThe first one does use the default options, via this line: https://github.com/temporalio/sdk-java/blob/1a054bb93401ec921b5a0ac0be3b2fd2c387db51/temporal-sdk/src/main/java/io/temporal/internal/sync/WorkflowInternal.java#L316\r\n\r\nHowever, the second one does not. Not sure if this is intentional or not (I noted that I _have_ to pass `options` argument to the `newUntypedActivityStub`), but this was a bit surprising behavior -- I configure default options so I can override them via Spring properties, and my untyped stub was not picking them (I was able to retrieve them via `WorkflowInternal.getRootWorkflowContext().getDefaultActivityOptions()`, but with some package-hacking as this API is internal).\r\n\r\n## Specifications\r\n\r\n  - Version: 1.25.1\r\n","closedAt":"2024-08-27T23:40:09Z","comments":[{"id":"IC_kwDODN12PM6J6SLD","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Yes this is intentional `setDefaultActivityOptions` specifies it only applies to `newActivityStub` in general the activity interface is required to construct the final default activities options .","createdAt":"2024-08-27T23:39:01Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2200#issuecomment-2313757379","viewerDidAuthor":false}],"createdAt":"2024-08-27T23:16:40Z","labels":[],"milestone":null,"number":2200,"reactionGroups":[],"state":"CLOSED","title":"`Workflow.newUntypedActivityStub` does not inherit default options the same way `Workflow.newActivityStub` does","updatedAt":"2024-08-27T23:40:09Z","url":"https://github.com/temporalio/sdk-java/issues/2200"}
