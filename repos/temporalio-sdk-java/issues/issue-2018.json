{"assignees":[],"author":{"id":"MDQ6VXNlcjczNDg4","is_bot":false,"login":"rgrochowicz","name":"Rob Grochowicz"},"body":"## Expected Behavior\r\n\r\nWhen I use the `ActivityStubExt.execute` extension function, I expect the `args` parameter to be given as-is to the underlying `ActivityStub.execute` method (keeping the varargs intact).\r\n\r\n## Actual Behavior\r\n\r\nThe varargs `args` parameters to `ActivityStubExt.execute` is wrapped in a list rather than provided as a varargs parameter to `ActivityStub.execute`.\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. Create a new ActivityStub via `Workflow.newUntypedActivityStub`\r\n  1. Import the Kotlin extension method via `import io.temporal.workflow.execute`\r\n  1. Call `activityStub.execute<Void>(\"activityName\", object { val foo = 1 })`\r\n  1. Observe that the arguments were wrapped in a list rather than given directly to `ActivityStub.execute`\r\n\r\nMore complete example:\r\n\r\n```kotlin\r\nimport io.temporal.workflow.execute\r\nimport io.temporal.activity.ActivityOptions\r\n\r\n// ... within workflow ...\r\n\r\nval activityStub = Workflow.newUntypedActivityStub(ActivityOptions {})\r\nactivityStub.execute(\"activityName\", object { val foo = 1 })\r\n\r\n```\r\n\r\nThe `ActivityTaskScheduled` event has an input of:\r\n\r\n```json\r\n[\r\n  [\r\n    {\r\n      \"foo\": 1\r\n    }\r\n  ]\r\n]\r\n```\r\n\r\nRather than:\r\n\r\n```json\r\n[\r\n  {\r\n    \"foo\": 1\r\n  }\r\n]\r\n```\r\n\r\nThe incorrect input is wrapped in an extra list.\r\n\r\nTo fix, I suspect that the call to `ActivityStub.execute` with varargs in [ActivityStubExt.kt](https://github.com/temporalio/sdk-java/blob/master/temporal-kotlin/src/main/kotlin/io/temporal/workflow/ActivityStubExt.kt#L36) needs to use the spread operator (`*`).\r\n\r\n## Specifications\r\n\r\n  - Version: Java SDK v1.23.0\r\n  - Platform: macOS / Linux\r\n","closedAt":"2025-05-16T00:24:16Z","comments":[{"id":"IC_kwDODN12PM54f0S4","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Yes I think we are missing a spread operator, thank you for reporting this. I will follow up with my team and consider if there are any backwards compatibility issues with fixing this. ","createdAt":"2024-03-26T22:57:50Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2018#issuecomment-2021606584","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6r-q5w","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"https://github.com/temporalio/sdk-java/pull/2395/files","createdAt":"2025-05-16T00:24:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2018#issuecomment-2885332592","viewerDidAuthor":false}],"createdAt":"2024-03-26T19:24:43Z","labels":[],"milestone":null,"number":2018,"reactionGroups":[],"state":"CLOSED","title":"Kotlin `ActivityStubExt.execute*` extension functions wrap arguments in list","updatedAt":"2025-05-16T00:24:17Z","url":"https://github.com/temporalio/sdk-java/issues/2018"}
