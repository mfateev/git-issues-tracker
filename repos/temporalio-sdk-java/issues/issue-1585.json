{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNjM5Ng==","is_bot":false,"login":"cretz","name":"Chad Retz"},"body":"## Expected Behavior\r\n\r\nWhen server gets > 4MB message, it returns `ResourceExhausted` error with something like:\r\n\r\n> grpc: received message larger than max (10248653 vs. 4194304)\r\n\r\nWhich is retried by our gRPC interceptor as are all other `ResourceExhausted`. We need to stop retrying this one in particular but still retry others. If we can prevent it from going over the wire without pre-calculating the size that would be best, but otherwise we may need to hack something to change the error type for this particular error before it gets to the retry interceptor (or inside the retry interceptor if you can). Yes that may mean a message string check which is admittedly gross.\r\n\r\nAlso, add an integration test with a workflow whose activity payload will trigger this and confirm that it's a workflow task failure (can be in sdk-features).","closedAt":"2025-08-12T13:25:53Z","comments":[{"id":"IC_kwDODN12PM6rsc9o","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Features issue made at https://github.com/temporalio/features/issues/624. Please refer to that for ideal behavior.","createdAt":"2025-05-14T14:55:12Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1585#issuecomment-2880556904","viewerDidAuthor":false}],"createdAt":"2023-01-05T13:09:01Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQx","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":1585,"reactionGroups":[],"state":"CLOSED","title":" Do not auto-retry gRPC-message-size-too-large errors","updatedAt":"2025-08-12T13:25:53Z","url":"https://github.com/temporalio/sdk-java/issues/1585"}
