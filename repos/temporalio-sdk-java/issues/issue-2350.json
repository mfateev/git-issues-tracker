{"assignees":[],"author":{"id":"MDQ6VXNlcjU4MTc4NTk=","is_bot":false,"login":"smax48","name":"Maxim Chuvilyaev"},"body":"When there's a call to `WorkflowLock.tryLock(timeout, condition)` , even if the lock is available - a new timer is created and saved to WF history (which can potentially affect performance and probably costs in temporal cloud)\r\n\r\nIs there any particular reason that this method doesn't try to short-circuit execution (i.e. do not call `Workflow.await`) if the lock is already available (so unblock condition is already true)?...\r\n\r\nThis is actually a general question for `Workflow.await` as well ...","closedAt":"2024-12-23T09:32:10Z","comments":[{"id":"IC_kwDODN12PM6YATFZ","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"I agree that `Workflow.await` shouldn't create a timer ifthe  condition is immediately satisfied. ","createdAt":"2024-12-18T03:09:32Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2350#issuecomment-2550215001","viewerDidAuthor":true},{"id":"IC_kwDODN12PM6Yi71T","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"> I agree that Workflow.await shouldn't create a timer if the condition is immediately satisfied.\r\n\r\nSecond, there is already another open [issue](https://github.com/temporalio/sdk-java/issues/2312) that will cover this change. \r\n\r\n","createdAt":"2024-12-23T09:30:56Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2350#issuecomment-2559294803","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6Yi8Rx","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Closing as a duplicate because there is already an issue to track the change to `Workflow.await`","createdAt":"2024-12-23T09:32:06Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2350#issuecomment-2559296625","viewerDidAuthor":false}],"createdAt":"2024-12-18T01:01:19Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":2350,"reactionGroups":[],"state":"CLOSED","title":"WorkflowLock.tryLock should not create a timer if the lock is available","updatedAt":"2024-12-23T09:32:10Z","url":"https://github.com/temporalio/sdk-java/issues/2350"}
