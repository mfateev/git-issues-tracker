{"assignees":[],"author":{"id":"U_kgDOB3k8_A","is_bot":false,"login":"stephenchen-humane","name":""},"body":"**Is your feature request related to a problem? Please describe.**\r\nRight now not all of our service environments are onboarded with temporal. So with the environments that do not have temporal but include the spring-boot-auto-configure-alpha dependency, there's no easy way to prevent the service from trying to instantiate temporal connection related beans. I have set the connection to `local` at the moment to have it error out and not crash the service.\r\n\r\n**Describe the solution you'd like**\r\na `enabled` feature flag to conditionally create the temporal spring beans\r\n\r\n**Describe alternatives you've considered**\r\nI set the connection type to `local` and have it fail intentionally\r\n\r\n","closedAt":"2025-05-01T22:41:58Z","comments":[{"id":"IC_kwDODN12PM5iOhkt","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"Maybe we want to make Temporal beans opt-in instead (e.g. you _have_ to provide a host:port for client bean to work). We should follow other Spring-supported dependencies/clients here which I assume only construct if some opt-in is performed. Have to weigh the costs of compatibility for people relying on this already (despite its alpha status).","createdAt":"2023-07-24T13:59:20Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-java/issues/1823#issuecomment-1647974701","viewerDidAuthor":false},{"id":"IC_kwDODN12PM5iPnS3","author":{"login":"stephenchen-humane"},"authorAssociation":"NONE","body":"I agree. Technically, `ServiceStubsAutoConfiguration` is opt-in, because it depends on this condition:\r\n```\r\n@ConditionalOnExpression(\r\n    \"${spring.temporal.test-server.enabled:false} || '${spring.temporal.connection.target:}'.length() > 0\")\r\n ```\r\n\r\nAnd `RootNamespaceAutoConfiguration` is dependent on that. \r\n\r\nso I think adding an `enabled` flag that only applies if present should be simple and backwards compatible.","createdAt":"2023-07-24T16:47:38Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1823#issuecomment-1648260279","viewerDidAuthor":false},{"id":"IC_kwDODN12PM5iPop5","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Spring has a number of ways to disable specific auto configurations \r\n\r\nhttps://docs.spring.io/spring-boot/docs/1.5.8.RELEASE/reference/html/using-boot-auto-configuration.html#using-boot-disabling-specific-auto-configuration\r\n\r\n","createdAt":"2023-07-24T16:51:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1823#issuecomment-1648265849","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6poXRJ","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Closing since Spring provides built in way to disable auto configuration","createdAt":"2025-05-01T22:41:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1823#issuecomment-2845930569","viewerDidAuthor":false}],"createdAt":"2023-07-21T18:59:22Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":1823,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"Have a config flag to disable temporal entirely with spring-boot-auto-configure-alpha","updatedAt":"2025-05-01T22:41:59Z","url":"https://github.com/temporalio/sdk-java/issues/1823"}
