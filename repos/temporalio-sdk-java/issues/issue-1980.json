{"assignees":[],"author":{"id":"MDQ6VXNlcjY3MjQ5Mw==","is_bot":false,"login":"karunagoyal","name":"Karuna Goyal"},"body":"## Expected Behavior\r\nMDC context should propogate to Temporal Threads with spring boot sdk\r\n\r\n## Actual Behavior\r\nMDC Context not getting propogated\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1.Set up MDC Context Propogator in code\r\n  1. Check logs from Temporal and no MDC context present\r\n \r\n\r\n## Specifications\r\n\r\n  - Version: temporal-spring-boot-starter-alpha, 1.20.1\r\n  - Platform:\r\n","closedAt":"2024-12-23T20:55:22Z","comments":[{"id":"IC_kwDODN12PM5yAhO0","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Modifying the SpringBoot sample to have a MDC context propagator I had no issue propagating a value from the client or workflow to an Activity.\r\n\r\nhttps://github.com/Quinn-With-Two-Ns/samples-java/commit/c99e24af5f20d1965827c5e178f6541a9b5ddf12\r\n\r\n","createdAt":"2024-01-26T21:47:18Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1980#issuecomment-1912738740","viewerDidAuthor":false},{"id":"IC_kwDODN12PM5yAi5m","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"If you can share more details about your setup, ideally in a self contained example, I can try to help narrow down where the error is.","createdAt":"2024-01-26T21:54:19Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1980#issuecomment-1912745574","viewerDidAuthor":false},{"id":"IC_kwDODN12PM5yLSnm","author":{"login":"karunagoyal"},"authorAssociation":"NONE","body":"Thanks @Quinn-With-Two-Ns . I do have workflow client bean create like this \r\n` @Bean\r\n    public WorkflowClient workflowClient(DataConverter dataConverter, MdcContextPropagator mdcContextPropagator) {\r\n        WorkflowServiceStubs service = WorkflowServiceStubs.newLocalServiceStubs();\r\n        WorkflowClientOptions workflowClientOptions = WorkflowClientOptions.newBuilder().setDataConverter(dataConverter).setContextPropagators(Collections.singletonList(mdcContextPropagator)).build();\r\n        return WorkflowClient.newInstance(service, workflowClientOptions);\r\n    }`\r\nstill I donot see MDC context getting propogated","createdAt":"2024-01-29T21:03:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1980#issuecomment-1915562470","viewerDidAuthor":false},{"id":"IC_kwDODN12PM5yMfP4","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"@karunagoyal You need to also be setting the the context propagator on the client the worker uses. You can see how in `TemporalOptionsConfig.java` in the code I posted.","createdAt":"2024-01-30T01:13:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1980#issuecomment-1915876344","viewerDidAuthor":false}],"createdAt":"2024-01-26T18:43:53Z","labels":[],"milestone":null,"number":1980,"reactionGroups":[],"state":"CLOSED","title":"MDC Context not propogating","updatedAt":"2024-12-23T20:55:23Z","url":"https://github.com/temporalio/sdk-java/issues/1980"}
