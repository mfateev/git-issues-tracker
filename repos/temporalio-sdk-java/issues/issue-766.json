{"assignees":[{"id":"MDQ6VXNlcjIwNTI3OTk5","login":"vkoby","name":"Vera","databaseId":0}],"author":{"id":"MDQ6VXNlcjUzMjEwOA==","is_bot":false,"login":"Spikhalskiy","name":"Dmitry Spikhalsky"},"body":"This report is related to https://github.com/temporalio/sdk-java/issues/590\r\n\r\nWhile we implemented sending worker identity in a heartbeat in JavaSDK, `lastWorkerIdentity` in `PendingActivityTask` with the real temporal server is still empty as reported here: https://github.com/temporalio/sdk-java/issues/765\r\n\r\nIt's because `lastWorkerIdentity` returned by the Temporal server is an identity reported when the Worker picks up the activity task, not when it heartbeats. \r\nSee: https://github.com/temporalio/temporal/blob/ff069578a44dac7f39d7454771e88a989f62fe61/service/history/historyEngine.go#L1296\r\n\r\nJavaSDK should report worker identity when Worker picks up the activity task for `lastWorkerIdentity` to be correctly populated.","closedAt":"2021-10-05T00:13:46Z","comments":[{"id":"IC_kwDODN12PM43kvUq","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Blocked by https://github.com/temporalio/temporal/issues/1999","createdAt":"2021-10-01T16:31:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/766#issuecomment-932377898","viewerDidAuthor":false},{"id":"IC_kwDODN12PM43p1mP","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"https://github.com/temporalio/temporal/issues/1999 is done, this task should be unblocked now. See https://github.com/temporalio/temporal/pull/2007/files for more details about how to port into the Test Server implementation.","createdAt":"2021-10-04T17:50:27Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/766#issuecomment-933714319","viewerDidAuthor":false}],"createdAt":"2021-09-25T00:44:42Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":{"number":4,"title":"1.4.0","description":"","dueOn":"2021-10-06T00:00:00Z"},"number":766,"reactionGroups":[],"state":"CLOSED","title":"Worker identity should be reported and recorded when worker picks up an Activity task","updatedAt":"2021-10-05T00:13:46Z","url":"https://github.com/temporalio/sdk-java/issues/766"}
