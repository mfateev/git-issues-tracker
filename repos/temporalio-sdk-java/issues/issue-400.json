{"assignees":[{"id":"MDQ6VXNlcjIwNTI3OTk5","login":"vkoby","name":"Vera","databaseId":0}],"author":{"id":"MDQ6VXNlcjIzMDA4NjU5","is_bot":false,"login":"arjunacharya10","name":"Arjun Acharya"},"body":"`WorkflowOptions options = WorkflowOptions.newBuilder()\r\n                .setTaskQueue(TASK_QUEUE)\r\n                .setCronSchedule(\"0 5 */30 * *\")\r\n                .setRetryOptions(RetryOptions.newBuilder().setMaximumAttempts(5).build())\r\n                .build();`\r\nIn a test case Java sdk, when we start a cron workflow like this; i.e a workflow that executes once every 30 days. Subsequently when we use \r\n`testEnv.sleep(Duration.ofDays(90))`\r\n## Expected Behavior\r\nThe workflow is triggerd 3 times.\r\n## Actual Behavior\r\nWorkflow is triggered 6 times\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. In a test case, start a workflow as a cron that runs once every 30 days\r\n  2. Assert how many times it is run after 90 days (by doing `testEnv.sleep(Durtion.ofDays(90))`)\r\n  3. The number of times it is executed should be 3 but observed as 6\r\n\r\n## Specifications\r\n\r\n  - Version: temporal-sdk:1.0.6, temporal-testing:1.0.6, temporal-testing-junit4:1.0.6\r\n  - Platform:\r\n","closedAt":"2021-10-14T00:24:22Z","comments":[{"id":"IC_kwDODN12PM43-bLp","author":{"login":"vkoby"},"authorAssociation":"CONTRIBUTOR","body":"@arjunacharya10, you're getting 6 runs because when you start a cron workflow, it executes immediately (1st run) and then every  1st and 31st of the month per [this](https://pkg.go.dev/github.com/robfig/cron#hdr-CRON_Expression_Format) doc. \r\nThe fact that your workflow executes immediately in this case is a bug, but with real server should work correctly.","createdAt":"2021-10-08T20:56:25Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/400#issuecomment-939111145","viewerDidAuthor":false}],"createdAt":"2021-03-25T05:54:53Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ4","name":"question","description":"Further information is requested","color":"BFD4F2"}],"milestone":null,"number":400,"reactionGroups":[],"state":"CLOSED","title":"Workflow as a cron job executing more number of times than expected","updatedAt":"2021-10-14T00:24:22Z","url":"https://github.com/temporalio/sdk-java/issues/400"}
