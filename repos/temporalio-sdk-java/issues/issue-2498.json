{"assignees":[],"author":{"id":"MDQ6VXNlcjUzMDQ5","is_bot":false,"login":"rocketraman","name":"Raman Gupta"},"body":"**Is your feature request related to a problem? Please describe.**\nMy system does not use Jackson serialization. Rather I have configured my own JSON data converter that uses kotlinx-serialization.\n\nHowever, the temporal-sdk has a runtime dependency on Jackson, so Jackson gets pulled transitively in any case.\n\nMany projects in the wild have hard dependencies on Jackson, and versioning of the Jackson dependencies pulled by Temporal can be an issue. Also, having Jackson in the classpath [affects the behavior](https://docs.spring.io/spring-framework/reference/languages/kotlin/web.html#kotlin-multiplatform-serialization) of libraries like Spring Boot.\n\n**Describe the solution you'd like**\nI'd like the Jackson dependencies to be optional. One way to do this is to create a separate artifact e.g. temporal-sdk-jackson which adds the required Jackson-based data converter to the SDK if it is present. This type of runtime detection of an implementation can be done via the Java Service Provider interface (just like how SLF4J discovers implementations at runtime).\n\n**Describe alternatives you've considered**\nI've tried excluding Jackson from the classpath via Gradle. However, this is not possible because `DefaultDataConverter loads the `JacksonJsonPayloadConverter` statically, and `PayloadAndFailureDataConverter` cannot be used directly because it is package-private.\n\n**Additional context**\nAdd any other context or screenshots about the feature request here.\n","closedAt":"2025-05-01T19:36:31Z","comments":[{"id":"IC_kwDODN12PM6pm6Me","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"The Java SDK requires jackson (and protobuf) for basic functionality, it is not an optional dependency that could be removed from the SDK. I don't think this is something we could consider at this time. If the Java standard library ever had native support for json serialization we could resist requiring  jackson for those versions.","createdAt":"2025-05-01T19:16:59Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2498#issuecomment-2845549342","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6pm7rI","author":{"login":"rocketraman"},"authorAssociation":"NONE","body":"> The Java SDK requires jackson (and protobuf) for basic functionality,\n\nThe JSON serialization/deserialization could not be made pluggable via an interface?","createdAt":"2025-05-01T19:18:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2498#issuecomment-2845555400","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6pm_tS","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"JSON serialization/deserialization for user types is already pluggable via the `DataConverter` interface. For SDK internal use it is not pluggable and would a significant effort and I don't think we would ever be able to support `kotlinx-serialization`.","createdAt":"2025-05-01T19:25:04Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2498#issuecomment-2845571922","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6pnAiM","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"and removing the dependency on `Jackson` and requiring them to include a separate module would be breaking change and not something we would consider without a major version bump","createdAt":"2025-05-01T19:26:52Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2498#issuecomment-2845575308","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6pnB6o","author":{"login":"rocketraman"},"authorAssociation":"NONE","body":"> For SDK internal use it is not pluggable and would a significant effort and I don't think we would ever be able to support `kotlinx-serialization`.\n\nI see. Thank you for explaining the limitations. I'll go ahead and close but can you give some brief explanation of what the SDK uses JSON serialization for internally? I thought the Temporal API used gRPC and Protobuf.\n\n> and removing the dependency on `Jackson` and requiring them to include a separate module would be breaking change and not something we would consider without a major version bump\n\nThis wouldn't be an issue. It could be worked around by including it transitively for minor updates of the SDK. Users could exclude it themselves if they needed to. The next major bump could then require it to be included separately.","createdAt":"2025-05-01T19:30:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2498#issuecomment-2845580968","viewerDidAuthor":false}],"createdAt":"2025-05-01T19:08:56Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":2498,"reactionGroups":[],"state":"CLOSED","title":"[Feature] Make Jackson serialization an optional and separate module","updatedAt":"2025-05-01T19:36:31Z","url":"https://github.com/temporalio/sdk-java/issues/2498"}
