{"assignees":[{"id":"MDQ6VXNlcjIwNTI3OTk5","login":"vkoby","name":"Vera","databaseId":0}],"author":{"id":"MDQ6VXNlcjg3NjI4OTM=","is_bot":false,"login":"wxing1292","name":"Wenquan Xing"},"body":"Existing behavior:\r\nWhen signal / cancel child workflow, `RunId` is set, `ChildWorkflowOnly` is set to false\r\n\r\nCorrect behavior:\r\nSignal / cancel child workflow should be `RunId` not set, `ChildWorkflowOnly` is set to true\r\n\r\nReasoning:\r\nWhat if child workflow does continue as new, or child workflow is reseted.","closedAt":"2021-06-21T16:54:25Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg1NjExNjk2MA==","author":{"login":"vitarb"},"authorAssociation":"CONTRIBUTOR","body":"We should also verify that his is not an issue in Go SDK before closing.","createdAt":"2021-06-07T17:17:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/501#issuecomment-856116960","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg2MjYyMDExNw==","author":{"login":"vkoby"},"authorAssociation":"CONTRIBUTOR","body":"Per conversation with @wxing1292 this is hard to reproduce because the bug happens when the timing is just right. For example:\r\nt = 0 child workflow finish\r\nt = 1 child workflow has not report to parent yet (there can be few hundreds ms delay)\r\nt = 2 since child workflow finished, some random guy start a workflow reusing the child workflow’s workflow ID\r\nt = 3 parent try to cancel child, sending command with workflow ID set, run ID not set, child only == false\r\nt = 4  some random guy’s workflow is request cancelled, since child only == false\r\n…\r\nAfter discussing with @wxing1292 and @vitarb the consensus is to implement the fix without testing. We will ensure that the existing tests pass to make sure that there are no regressions.","createdAt":"2021-06-16T18:39:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/501#issuecomment-862620117","viewerDidAuthor":false}],"createdAt":"2021-05-19T00:36:51Z","labels":[],"milestone":null,"number":501,"reactionGroups":[],"state":"CLOSED","title":"Child workflow signal / cancellation should not use run ID","updatedAt":"2021-07-16T01:06:07Z","url":"https://github.com/temporalio/sdk-java/issues/501"}
