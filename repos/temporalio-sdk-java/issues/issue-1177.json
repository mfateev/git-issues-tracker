{"assignees":[{"id":"MDQ6VXNlcjUzMjEwOA==","login":"Spikhalskiy","name":"Dmitry Spikhalsky","databaseId":0}],"author":{"id":"MDQ6VXNlcjExOTQyMg==","is_bot":false,"login":"tsurdilo","name":"Tihomir Surdilovic"},"body":"     \r\n     String result = workflow.getResult(X, TimeUnit.SECONDS, String.class);\r\n\r\nIf this call times out (workflow does not complete before X seconds):\r\n\r\n1. if X < 10\r\nYou get GrpcSyncRetryer -> DEADLINE_EXCEEDED: deadline exceeded after Xs\r\nand can catch WorkflowServiceException\r\n\r\n3. if X >=10\r\nYou get two GrpcSyncRetryer logs:\r\na) DEADLINE_EXCEEDED: context deadline exceeded\r\nb) Failure, out of retries\r\nand can catch WorkflowServiceException\r\n\r\nSame happens with getResultAsync\r\n\r\nThe only way to catch TimeoutException is if you use getResultAsync and put the timeout on Future.get, for example:\r\n\r\n     CompletableFuture<String> future = workflow.getResultAsync(String.class);\r\n     String result = future.get(X, TimeUnit.SECONDS);\r\n\r\nNote that even in this case if X >=10 you do get DEADLINE_EXCEEDED in worker logs from GrpcAsyncRetryer\r\n\r\n\r\n\r\n","closedAt":"2022-05-16T03:52:25Z","comments":[{"id":"IC_kwDODN12PM5C_djD","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"#1203 should be done before this to cleanup the long poll implementation","createdAt":"2022-05-11T15:29:17Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1177#issuecomment-1123932355","viewerDidAuthor":false}],"createdAt":"2022-04-29T17:49:00Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQx","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":14,"title":"1.12.0","description":"","dueOn":"2022-05-19T00:00:00Z"},"number":1177,"reactionGroups":[],"state":"CLOSED","title":"WorkflowStub.getResult and getResultAsync do not throw TimeoutException","updatedAt":"2022-05-16T03:52:26Z","url":"https://github.com/temporalio/sdk-java/issues/1177"}
