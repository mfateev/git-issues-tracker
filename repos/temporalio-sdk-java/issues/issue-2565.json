{"assignees":[],"author":{"id":"MDQ6VXNlcjg4NDIzMg==","is_bot":false,"login":"gregor-rayman","name":"Gregor Ra√Ωman"},"body":"**Is your feature request related to a problem? Please describe.**\nThe used version 1.58.1 is quite old and upgrading to 1.60.0 leads to a runtime error \n\n```\njava.lang.NoClassDefFoundError: io/grpc/internal/AbstractManagedChannelImplBuilder\n\tat io.temporal.serviceclient.ChannelManager.prepareChannel(ChannelManager.java:206)\n\tat io.temporal.serviceclient.ChannelManager.<init>(ChannelManager.java:118)\n\tat io.temporal.serviceclient.ChannelManager.<init>(ChannelManager.java:98)\n\tat io.temporal.serviceclient.WorkflowServiceStubsImpl.<init>(WorkflowServiceStubsImpl.java:84)\n\tat io.temporal.serviceclient.WorkflowServiceStubs.newServiceStubs(WorkflowServiceStubs.java:66)\n```\n\nbecause the class io.grpc.internal.AbstractManagedChannelImplBuilder has been removed from grpc-services.\n\nThis means that the Java temporal-sdk cannot be used in an application that uses other GRPC functionality with a more current version.\n\n**Describe the solution you'd like**\nChange the dependency to a current grpc version (1.73.0 when submitting this issue)\n\n**Describe alternatives you've considered**\nIn my specific use case  we have considering downgraded the grpc version to to 1.58.1, I consider that a temporary workaround, not really a solution.   The currently used version 1.58.1 is from 2023, so the word _temporary_ is questionable   ;) \n\n","closedAt":"2025-06-18T17:14:37Z","comments":[{"id":"IC_kwDODN12PM6x7RRz","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":">This means that the Java temporal-sdk cannot be used in an application that uses other GRPC functionality with a more current version.\n\nThis is not true, we actually test against grpc `1.72.0`in our CI so I can confirm it does work. \n\nThe Java SDK builds against an older version of grpc since we are a library but you are encouraged to use a more recent version in your application.","createdAt":"2025-06-18T17:14:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-java/issues/2565#issuecomment-2985104499","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6x7UQB","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"A possible cause of your specific error is mixing different versions of gRPC, but I can't say without a reproduction. \n\nThe Java SDK CI does explicitly validate that the SDK works with the latest version of gRPC Java so I am confident this is not an issue with the SDK itself","createdAt":"2025-06-18T17:19:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2565#issuecomment-2985116673","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6x7oM4","author":{"login":"gregor-rayman"},"authorAssociation":"NONE","body":"Thanks for the clarification. It is indeed possible that in our case some grpc libraries have different versions that other ones. I will try to put the version of grpc all needed libraries explicitly.","createdAt":"2025-06-18T17:50:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2565#issuecomment-2985198392","viewerDidAuthor":false}],"createdAt":"2025-06-18T16:45:24Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":2565,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"Upgrade grpc version","updatedAt":"2025-06-18T17:50:28Z","url":"https://github.com/temporalio/sdk-java/issues/2565"}
