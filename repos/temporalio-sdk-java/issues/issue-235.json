{
  "assignees": [],
  "author": {
    "id": "MDQ6VXNlcjQyNjY2NDY3",
    "is_bot": false,
    "login": "maxnilz",
    "name": "maxnilz"
  },
  "body": "Hi, \r\n\r\n## Problem\r\nI'm struggling with the \"uncaught exception\" which throws from \"io.temporal.internal.worker.PollerOptions\",  I was tried to check if is there any chance that I can configure the PollerOptions.uncaughtExceptionHandler via the workflow options or any other way,  but it turns out there is no such way that allows me to configure my own uncaughtExceptionHandler if I didn't miss any useful information \r\n\r\n## Expected behavior \r\nIt would be good if I can configure my own uncaughtExceptionHandler from workflowOptions or somewhere else.\r\n\r\n## An example \"uncaught exception\" stack\r\n```\r\n06:12:20.021 [Workflow Executor taskQueue=\"snapshot\", namespace=\"default\": 175] ERROR io.temporal.internal.worker.PollerOptions - uncaught exception\r\njava.lang.RuntimeException: Failure processing workflow task. WorkflowId=snapshot-992, RunId=38b6ca3c-df38-4df8-9028-f025583fe251\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.wrapFailure(WorkflowWorker.java:337) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.wrapFailure(WorkflowWorker.java:275) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.PollTaskExecutor.lambda$process$0(PollTaskExecutor.java:79) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_262]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_262]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_262]\r\nCaused by: io.grpc.StatusRuntimeException: NOT_FOUND: Workflow task not found.\r\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262) ~[grpc-stub-1.32.1.jar:1.32.1]\r\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243) ~[grpc-stub-1.32.1.jar:1.32.1]\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156) ~[grpc-stub-1.32.1.jar:1.32.1]\r\n\tat io.temporal.api.workflowservice.v1.WorkflowServiceGrpc$WorkflowServiceBlockingStub.respondWorkflowTaskCompleted(WorkflowServiceGrpc.java:2673) ~[temporal-serviceclient-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.lambda$sendReply$0(WorkflowWorker.java:369) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.common.GrpcRetryer.lambda$retry$0(GrpcRetryer.java:109) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.common.GrpcRetryer.retryWithResult(GrpcRetryer.java:127) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.common.GrpcRetryer.retry(GrpcRetryer.java:106) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.sendReply(WorkflowWorker.java:362) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:313) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:275) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.PollTaskExecutor.lambda$process$0(PollTaskExecutor.java:73) ~[temporal-sdk-1.0.0.jar:?]\r\n\t... 3 more\r\n06:12:20.042 [Workflow Executor taskQueue=\"snapshot\", namespace=\"default\": 172] ERROR io.temporal.internal.worker.PollerOptions - uncaught exception\r\njava.lang.RuntimeException: Failure processing workflow task. WorkflowId=snapshot-603, RunId=82e8b23a-24f9-4411-9b2b-b3db5a6a12bc\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.wrapFailure(WorkflowWorker.java:337) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.wrapFailure(WorkflowWorker.java:275) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.PollTaskExecutor.lambda$process$0(PollTaskExecutor.java:79) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_262]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_262]\r\n\tat java.lang.Thread.run(Thread.java:748) [?:1.8.0_262]\r\nCaused by: io.grpc.StatusRuntimeException: NOT_FOUND: Workflow task not found.\r\n\tat io.grpc.stub.ClientCalls.toStatusRuntimeException(ClientCalls.java:262) ~[grpc-stub-1.32.1.jar:1.32.1]\r\n\tat io.grpc.stub.ClientCalls.getUnchecked(ClientCalls.java:243) ~[grpc-stub-1.32.1.jar:1.32.1]\r\n\tat io.grpc.stub.ClientCalls.blockingUnaryCall(ClientCalls.java:156) ~[grpc-stub-1.32.1.jar:1.32.1]\r\n\tat io.temporal.api.workflowservice.v1.WorkflowServiceGrpc$WorkflowServiceBlockingStub.respondWorkflowTaskCompleted(WorkflowServiceGrpc.java:2673) ~[temporal-serviceclient-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.lambda$sendReply$0(WorkflowWorker.java:369) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.common.GrpcRetryer.lambda$retry$0(GrpcRetryer.java:109) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.common.GrpcRetryer.retryWithResult(GrpcRetryer.java:127) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.common.GrpcRetryer.retry(GrpcRetryer.java:106) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.sendReply(WorkflowWorker.java:362) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:313) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:275) ~[temporal-sdk-1.0.0.jar:?]\r\n\tat io.temporal.internal.worker.PollTaskExecutor.lambda$process$0(PollTaskExecutor.java:73) ~[temporal-sdk-1.0.0.jar:?]\r\n\t... 3 more\r\n\r\n```\r\n",
  "closedAt": null,
  "comments": [],
  "createdAt": "2020-10-28T08:26:31Z",
  "labels": [
    {
      "id": "MDU6TGFiZWwxNjIyNzE5ODQ0",
      "name": "enhancement",
      "description": "User experience",
      "color": "a2eeef"
    }
  ],
  "milestone": null,
  "number": 235,
  "reactionGroups": [],
  "state": "OPEN",
  "title": "Make PollerOptions.uncaughtExceptionHandler from workflowOptions etc.",
  "updatedAt": "2020-10-28T08:26:31Z",
  "url": "https://github.com/temporalio/sdk-java/issues/235"
}
