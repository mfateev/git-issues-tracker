{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNTA0MDQ5","is_bot":false,"login":"Quinn-With-Two-Ns","name":"Quinn Klassen"},"body":"## Expected Behavior\r\n`WorkflowClient.updateWithStart` passes workflow arguments \r\n\r\n## Actual Behavior\r\n`WorkflowClient.updateWithStart` does not pass workflow arguments \r\n\r\n\r\n## Steps to Reproduce the Problem\r\n```java\r\n  @Test\r\n  public void startVariousFuncs() throws ExecutionException, InterruptedException {\r\n    WorkflowClient workflowClient = testWorkflowRule.getWorkflowClient();\r\n\r\n    BiFunction<Functions.Func1<Integer, String>, Integer, UpdateWithStartWorkflowOperation<String>>\r\n        newUpdateOp =\r\n            (request, input) ->\r\n                UpdateWithStartWorkflowOperation.newBuilder(request, input)\r\n                    .setWaitForStage(WorkflowUpdateStage.COMPLETED)\r\n                    .build();\r\n\r\n    // no arg\r\n    TestMultiArgWorkflowFunctions.TestNoArgsWorkflowFunc stubF =\r\n        workflowClient.newWorkflowStub(\r\n            TestMultiArgWorkflowFunctions.TestNoArgsWorkflowFunc.class, createOptions());\r\n    UpdateWithStartWorkflowOperation<String> updateOp0 = newUpdateOp.apply(stubF::update, 0);\r\n    WorkflowUpdateHandle<String> handle0 = WorkflowClient.updateWithStart(stubF::func, updateOp0);\r\n\r\n    // 1 arg\r\n    TestMultiArgWorkflowFunctions.Test1ArgWorkflowFunc stubF1 =\r\n        workflowClient.newWorkflowStub(\r\n            TestMultiArgWorkflowFunctions.Test1ArgWorkflowFunc.class, createOptions());\r\n    UpdateWithStartWorkflowOperation<String> updateOp1 = newUpdateOp.apply(stubF1::update, 1);\r\n    WorkflowUpdateHandle<String> handle1 =\r\n        WorkflowClient.updateWithStart(stubF1::func1, \"1\", updateOp1);\r\n\r\n    // 2 args\r\n    TestMultiArgWorkflowFunctions.Test2ArgWorkflowFunc stubF2 =\r\n        workflowClient.newWorkflowStub(\r\n            TestMultiArgWorkflowFunctions.Test2ArgWorkflowFunc.class, createOptions());\r\n    UpdateWithStartWorkflowOperation<String> updateOp2 = newUpdateOp.apply(stubF2::update, 2);\r\n    WorkflowUpdateHandle<String> handle2 =\r\n        WorkflowClient.updateWithStart(stubF2::func2, \"1\", 2, updateOp2);\r\n\r\n    // 3 args\r\n    TestMultiArgWorkflowFunctions.Test3ArgWorkflowFunc stubF3 =\r\n        workflowClient.newWorkflowStub(\r\n            TestMultiArgWorkflowFunctions.Test3ArgWorkflowFunc.class, createOptions());\r\n    UpdateWithStartWorkflowOperation<String> updateOp3 = newUpdateOp.apply(stubF3::update, 3);\r\n    WorkflowUpdateHandle<String> handle3 =\r\n        WorkflowClient.updateWithStart(stubF3::func3, \"1\", 2, 3, updateOp3);\r\n\r\n    // 4 args\r\n    TestMultiArgWorkflowFunctions.Test4ArgWorkflowFunc stubF4 =\r\n        workflowClient.newWorkflowStub(\r\n            TestMultiArgWorkflowFunctions.Test4ArgWorkflowFunc.class, createOptions());\r\n    UpdateWithStartWorkflowOperation<String> updateOp4 = newUpdateOp.apply(stubF4::update, 4);\r\n    WorkflowUpdateHandle<String> handle4 =\r\n        WorkflowClient.updateWithStart(stubF4::func4, \"1\", 2, 3, 4, updateOp4);\r\n\r\n    // 5 args\r\n    TestMultiArgWorkflowFunctions.Test5ArgWorkflowFunc stubF5 =\r\n        workflowClient.newWorkflowStub(\r\n            TestMultiArgWorkflowFunctions.Test5ArgWorkflowFunc.class, createOptions());\r\n    UpdateWithStartWorkflowOperation<String> updateOp5 = newUpdateOp.apply(stubF5::update, 5);\r\n    WorkflowUpdateHandle<String> handle5 =\r\n        WorkflowClient.updateWithStart(stubF5::func5, \"1\", 2, 3, 4, 5, updateOp5);\r\n\r\n    // 6 args\r\n    TestMultiArgWorkflowFunctions.Test6ArgWorkflowFunc stubF6 =\r\n        workflowClient.newWorkflowStub(\r\n            TestMultiArgWorkflowFunctions.Test6ArgWorkflowFunc.class, createOptions());\r\n    UpdateWithStartWorkflowOperation<String> updateOp6 = newUpdateOp.apply(stubF6::update, 6);\r\n    WorkflowUpdateHandle<String> handle6 =\r\n        WorkflowClient.updateWithStart(stubF6::func6, \"1\", 2, 3, 4, 5, 6, updateOp6);\r\n\r\n    assertEquals(\"0\", handle0.getResultAsync().get());\r\n    assertEquals(\"func\", WorkflowStub.fromTyped(stubF).getResult(String.class));\r\n    assertEquals(\"1\", handle1.getResultAsync().get());\r\n    assertEquals(\"1\", WorkflowStub.fromTyped(stubF1).getResult(String.class));\r\n    assertEquals(\"2\", handle2.getResultAsync().get());\r\n    assertEquals(\"12\", WorkflowStub.fromTyped(stubF2).getResult(String.class));\r\n    assertEquals(\"3\", handle3.getResultAsync().get());\r\n    assertEquals(\"123\", WorkflowStub.fromTyped(stubF3).getResult(String.class));\r\n    assertEquals(\"4\", handle4.getResultAsync().get());\r\n    assertEquals(\"1234\", WorkflowStub.fromTyped(stubF4).getResult(String.class));\r\n    assertEquals(\"5\", handle5.getResultAsync().get());\r\n    assertEquals(\"12345\", WorkflowStub.fromTyped(stubF5).getResult(String.class));\r\n    assertEquals(\"6\", handle6.getResultAsync().get());\r\n    assertEquals(\"123456\", WorkflowStub.fromTyped(stubF6).getResult(String.class));\r\n  }\r\n```\r\n\r\nThink the issue is this line https://github.com/temporalio/sdk-java/blob/0ce1d6ec917d421d31176615f59087527b3ca27f/temporal-sdk/src/main/java/io/temporal/client/UpdateWithStartWorkflowOperation.java#L299 were we pass the update args as workflow args.\r\n\r\n## Specifications\r\n\r\n  - Version: v1.26.0","closedAt":"2024-10-22T15:45:24Z","comments":[],"createdAt":"2024-10-22T00:17:33Z","labels":[],"milestone":null,"number":2285,"reactionGroups":[],"state":"CLOSED","title":"Workflow update with start does not pass Workflow arguments ","updatedAt":"2024-10-22T15:45:25Z","url":"https://github.com/temporalio/sdk-java/issues/2285"}
