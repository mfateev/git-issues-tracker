{"assignees":[],"author":{"id":"MDQ6VXNlcjIwNzY3NDI2","is_bot":false,"login":"shaharco","name":"shahar cohen"},"body":"## Expected Behavior\r\nThe child WF should be completed successfully after signaling\r\n\r\n## Actual Behavior\r\nAs was explained in:  https://temporalio.slack.com/archives/CTT84KXK9/p1677446296370919\r\nWe have some weird case with signals:\r\nWe have a 'manager' WF that queues and start child WFs. When a child WF ends, it sends a signal back to the manager (in a detached cancellation scope on finally block), and when the manager has nothing in its queue, it exists.\r\nSometimes we see a case where a child WF signals on end, the signal gets to the manager which handles and exists, but the child WF eventually fails on:\r\nio.temporal.failure.ApplicationFailure: message='SignalExternalWorkflowExecution failed with NOT_FOUND. WorkflowId=<XYZ>, runId=', type='SIGNAL_EXTERNAL_WORKFLOW_EXECUTION_FAILED_CAUSE_EXTERNAL_WORKFLOW_EXECUTION_NOT_FOUND', nonRetryable=false\r\nCan it be that the parent WF manage to complete but somehow the child still didn't handle the signal, although the signal got to the parent? \r\n\r\n## Steps to Reproduce the Problem\r\nSee attached parent and child WF histories\r\n\r\n## Specifications\r\n\r\n  - Version: 1.18.1\r\n  \r\n[histories.zip](https://github.com/temporalio/sdk-java/files/10834791/histories.zip)\r\n\r\n","closedAt":"2023-05-23T18:17:45Z","comments":[{"id":"IC_kwDODN12PM5Znyyn","author":{"login":"mfateev"},"authorAssociation":"MEMBER","body":"Looking at the history I believe workflow completes before the last child signal is sent. If you can create a reproduction of the issue then we can look futher.\r\n\r\n","createdAt":"2023-04-11T15:22:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1676#issuecomment-1503603879","viewerDidAuthor":true},{"id":"IC_kwDODN12PM5c-pw0","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"Closing due to lack of activity.","createdAt":"2023-05-23T18:17:45Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1676#issuecomment-1559927860","viewerDidAuthor":false}],"createdAt":"2023-02-26T21:42:33Z","labels":[],"milestone":null,"number":1676,"reactionGroups":[],"state":"CLOSED","title":"Child WF fails on signaling a 'not found' WF although the signal was handled","updatedAt":"2023-05-23T18:17:45Z","url":"https://github.com/temporalio/sdk-java/issues/1676"}
