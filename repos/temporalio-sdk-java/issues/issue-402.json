{"assignees":[],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"**Is your feature request related to a problem? Please describe.**\r\nNew users might not be aware of nondeterministic requirements and might use WorkflowClient and Activity interfaces from the workflow code.\r\n\r\n**Describe the solution you'd like**\r\nAdd explicit checks that throw exceptions from WorkflowClient and Activity APIs if they are called from workflow threads.\r\n","closedAt":"2021-07-08T00:12:08Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg3NjAxODkyNw==","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Usage of `WorkflowClient`, `ActivityCompletionClient`, and `WorkflowServiceStubs` was prohibited from workflow thread and code.\r\nIf some of the application developers encounter backward compatibilities problems with this change they can disable this check by setting environment variable `TEMPORAL_DISABLE_NON_WORKFLOW_CODE_ENFORCEMENTS` to \"true\". This option shouldn't be used by any new code and left only to provide backward compatibility for INCORRECTLY implemented legacy workflow implementations.","createdAt":"2021-07-08T00:17:15Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/402#issuecomment-876018927","viewerDidAuthor":false}],"createdAt":"2021-03-27T20:59:46Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":402,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"Prohibit use of WorkflowClient and Activity interfaces in workflow code.","updatedAt":"2021-07-08T00:17:15Z","url":"https://github.com/temporalio/sdk-java/issues/402"}
