{"assignees":[],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"When an activity is cancelled the thrown CancellationException contains stack trace of the `handleActivityTaskCanceled`, not the caller of the activity:\r\n\r\n```\r\n[{\"detailMessage\":null,\"stackTrace\":\"com.uber.cadence.internal.replay.ActivityDecisionContext.handleActivityTaskCanceled(ActivityDecisionContext.java:134)\r\ncom.uber.cadence.internal.replay.DecisionContextImpl.handleActivityTaskCanceled(DecisionContextImpl.java:280)\r\ncom.uber.cadence.internal.replay.ReplayDecider.processEvent(ReplayDecider.java:113)\r\ncom.uber.cadence.internal.replay.ReplayDecider.decideImpl(ReplayDecider.java:407)\r\ncom.uber.cadence.internal.replay.ReplayDecider.decide(ReplayDecider.java:359)\r\ncom.uber.cadence.internal.replay.ReplayDecisionTaskHandler.processDecision(ReplayDecisionTaskHandler.java:145)\r\ncom.uber.cadence.internal.replay.ReplayDecisionTaskHandler.handleDecisionTaskImpl(ReplayDecisionTaskHandler.java:125)\r\ncom.uber.cadence.internal.replay.ReplayDecisionTaskHandler.handleDecisionTask(ReplayDecisionTaskHandler.java:86)\r\ncom.uber.cadence.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:257)\r\ncom.uber.cadence.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:229)\r\ncom.uber.cadence.internal.worker.PollTaskExecutor.lambda$process$0(PollTaskExecutor.java:71)\r\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\njava.lang.Thread.run(Thread.java:748)\r\n\",\"suppressedExceptions\":[],\"class\":\"java.util.concurrent.CancellationException\"}],\r\n```\r\n","closedAt":"2020-04-07T04:06:03Z","comments":[],"createdAt":"2020-02-09T23:29:14Z","labels":[],"milestone":null,"number":15,"reactionGroups":[],"state":"CLOSED","title":"Fix CancellationException stack trace","updatedAt":"2020-04-07T04:06:03Z","url":"https://github.com/temporalio/sdk-java/issues/15"}
