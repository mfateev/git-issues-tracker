{"assignees":[{"id":"MDQ6VXNlcjUzMjEwOA==","login":"Spikhalskiy","name":"Dmitry Spikhalsky","databaseId":0}],"author":{"id":"MDQ6VXNlcjUzMjEwOA==","is_bot":false,"login":"Spikhalskiy","name":"Dmitry Spikhalsky"},"body":"**Is your feature request related to a problem? Please describe.**\r\nUsers should be able to have a more direct way to check if it's time to call continue-as-new than guessing how many events their code produces and counting the loops.\r\n\r\n**Describe the solution you'd like**\r\n`WorkflowInfo#getHistoryLength()` should be exposed that would allow a direct comparison with a threshold length of the history\r\n\r\n**Context**\r\nThe implementor needs to be careful with the deterministic behavior of this value, as it has to be exactly the same during a replay. Also, it should be noted that custom metrics and determining if continue-as-new is needed are probably the only valid usages of this method in user code.\r\n","closedAt":"2022-10-27T16:32:45Z","comments":[{"id":"IC_kwDODN12PM5GIAUX","author":{"login":"cretz"},"authorAssociation":"MEMBER","body":"I think we should call this `getHistoryLength()` since there will be a way to get byte size of history soon. TypeScript calls it length at https://typescript.temporal.io/api/interfaces/workflow.TaskInfo#historylength.","createdAt":"2022-07-06T17:41:38Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-java/issues/1300#issuecomment-1176503575","viewerDidAuthor":false},{"id":"IC_kwDODN12PM5HWLEM","author":{"login":"gtorrance-bw"},"authorAssociation":"NONE","body":"For what it's worth, I anticipate needing a feature like this, too. Hope it gets prioritized in the near future. Thanks.","createdAt":"2022-07-27T16:41:23Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/1300#issuecomment-1196994828","viewerDidAuthor":false}],"createdAt":"2022-07-06T17:40:48Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":{"number":20,"title":"1.18.0","description":"","dueOn":"2022-11-29T00:00:00Z"},"number":1300,"reactionGroups":[],"state":"CLOSED","title":"Provide WorkflowInfo#getHistoryLength()","updatedAt":"2022-10-27T16:32:46Z","url":"https://github.com/temporalio/sdk-java/issues/1300"}
