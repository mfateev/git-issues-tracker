{"assignees":[],"author":{"id":"MDQ6VXNlcjEwODc0MQ==","is_bot":false,"login":"robzienert","name":"Rob Zienert"},"body":"**Is your feature request related to a problem? Please describe.**\r\nJava does not let you modify environment variables from code like many other languages do (without doing a ton of reflection). This makes debugging workflows from tests annoying using editors like IntelliJ, as you need to create custom run configurations for each test that you want to debug. This is disruptive, and quickly clutters up the project's run configurations.\r\n\r\n**Describe the solution you'd like**\r\nMake `TEMPORAL_DEBUG` definable via code while setting up either the workflow client (or whatever), or optionally, via the Junit4/5 extensions. Something like:\r\n\r\n```kotlin\r\nval workflowExtension = TestWorkflowExtension.newBuilder()\r\n  .setDebug(true)\r\n  // ...\r\n  .build()\r\n```\r\n\r\n**Describe alternatives you've considered**\r\n\r\n1. Create a new `Run Configuration` for each test you want to debug. Outlined why this isn't desirable above.\r\n2. Add `TEMPORAL_DEBUG=1` to the Gradle's `test` task. This is undesirable because then `TEMPORAL_DEBUG=1` will be set for all tests all of the time, opening up the potential for the deadlock detector to not catch obvious errors during tests.\r\n","closedAt":"2021-07-20T22:20:00Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg4MDQ0MTM2OA==","author":{"login":"vitarb"},"authorAssociation":"CONTRIBUTOR","body":"Have you tried setting this env var for all test configurations by default?\r\nFor example in intellij you can do it for the entire junit template:\r\n![Screenshot from 2021-07-14 23-44-02](https://user-images.githubusercontent.com/1311694/125741635-d99b8513-1d3e-4176-ab31-e6c389a1f7f1.png)\r\n","createdAt":"2021-07-15T06:46:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/588#issuecomment-880441368","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg4MTAwNzY4MA==","author":{"login":"robzienert"},"authorAssociation":"NONE","body":"Yeah, that's possible, but then we'd have to wait for CI to get feedback of whether or not the deadlock detector gets hit, which has potential for wasted productivity cycles.","createdAt":"2021-07-15T20:56:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/588#issuecomment-881007680","viewerDidAuthor":false},{"id":"IC_kwDODN12PM40nhQU","author":{"login":"vitarb"},"authorAssociation":"CONTRIBUTOR","body":"Have you tried using `WorkerOptions.Builder#setDefaultDeadlockDetectionTimeout`? If you change that value in tests, it would override default timeout for the deadlock detector. Would that be sufficient for you?","createdAt":"2021-07-19T18:45:30Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/588#issuecomment-882775060","viewerDidAuthor":false},{"id":"IC_kwDODN12PM40rN5-","author":{"login":"robzienert"},"authorAssociation":"NONE","body":"Oh, I totally missed that config option - yes, that would suit our needs fine. Thanks!","createdAt":"2021-07-20T22:20:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/588#issuecomment-883744382","viewerDidAuthor":false}],"createdAt":"2021-07-12T22:46:55Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":588,"reactionGroups":[],"state":"CLOSED","title":"Make `TEMPORAL_DEBUG` definable via code","updatedAt":"2021-07-20T22:20:01Z","url":"https://github.com/temporalio/sdk-java/issues/588"}
