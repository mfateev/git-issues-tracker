{"assignees":[],"author":{"id":"MDQ6VXNlcjI0NzM3MjE=","is_bot":false,"login":"sdwr98","name":"Scott Rankin"},"body":"We use DataDog for APM and tracing, and they do support integration with OpenTracing.  However, they expect span naming and tagging to be in a particular format that does not align with the current Temporal OT implementation\r\n\r\nCurrently the Temporal OT implementation names the spans like `RunWorkflow_<WorkflowName>` and `RunActivity_<ActivityName>`, and adds tags for Workflow/Run ID.   However, DataDog expects a span name like `RunWorkflow` or `RunActivity` and a tag with the workflow/activity name. \r\n\r\nIt would be great if the `OpenTracingOptions` provided the ability to completely override the strategy for naming/tagging spans.  ","closedAt":"2021-06-11T16:09:58Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg0NzIxMjY0OQ==","author":{"login":"vitarb"},"authorAssociation":"CONTRIBUTOR","body":"I agree, @Spikhalskiy I remember we've discussed this in your PR when you were adding tracing support, do you have strong opinions here?","createdAt":"2021-05-24T17:30:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/502#issuecomment-847212649","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg0NzIyNDE1MQ==","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"We discussed with Max during the implementation of the initial open tracing support that it's a good idea to support custom strategies and add an interface that gives full freedom on span names/tags creation. JaxRS/Jersey implementation has an alternative strategy similar to what described in this feature request: https://github.com/opentracing-contrib/java-jaxrs/blob/master/opentracing-jaxrs2/src/main/java/io/opentracing/contrib/jaxrs2/server/OperationNameProvider.java#L25\r\nWe just decided to postpone this until somebody actually asks for the alternative implementations. \r\nSo, I support the idea of creating an `OperationNameAndTagsProvider` that provides a span name and tags based on some context and adding more standard implementations of this provider. \r\n\r\nI have a strong opinion only that the strategy that we have already implemented (RunWorkflow_<WorkflowName> and RunActivity_<ActivityName>) should be provided and most likely should be considered default based on my evaluation of other opentracing/opentelemetry implementations. See JaxRS/Jersey: https://github.com/opentracing-contrib/java-jaxrs/blob/master/opentracing-jaxrs2/src/main/java/io/opentracing/contrib/jaxrs2/server/OperationNameProvider.java#L46  ","createdAt":"2021-05-24T17:51:42Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/502#issuecomment-847224151","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDg0NzIyNjYzMw==","author":{"login":"sdwr98"},"authorAssociation":"CONTRIBUTOR","body":"That sounds great.  I actually have an implementation that follows that pattern that's about 75% done.  I'll PR it when I'm done later this week if you'd be interested in taking a look","createdAt":"2021-05-24T17:56:00Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-java/issues/502#issuecomment-847226633","viewerDidAuthor":false}],"createdAt":"2021-05-19T14:36:40Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQ0","name":"enhancement","description":"User experience","color":"a2eeef"}],"milestone":null,"number":502,"reactionGroups":[],"state":"CLOSED","title":"OpenTracing: support pluggable strategy for span naming/tagging","updatedAt":"2021-06-11T16:09:58Z","url":"https://github.com/temporalio/sdk-java/issues/502"}
