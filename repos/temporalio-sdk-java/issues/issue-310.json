{"assignees":[{"id":"MDQ6VXNlcjIwNTI3OTk5","login":"vkoby","name":"Vera","databaseId":0}],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"## Expected Behavior\r\nA human readable string that indicates that workflow is closed.\r\n\r\n## Actual Behavior\r\n```\r\n3 INVALID_ARGUMENT: java.lang.Error: closed at\r\nio.temporal.internal.sync.DeterministicRunnerImpl.checkClosed(DeterministicRunnerImpl.java:433) at \r\nio.temporal.internal.sync.DeterministicRunnerImpl.stackTrace(DeterministicRunnerImpl.java:418) at \r\nio.temporal.internal.sync.SyncWorkflow.query(SyncWorkflow.java:171) at \r\nio.temporal.internal.replay.ReplayWorkflowExecutor.query(ReplayWorkflowExecutor.java:137) at \r\nio.temporal.internal.replay.ReplayWorkflowRunTaskHandler.handleQueryWorkflowTask(ReplayWorkflowRunTaskHandler.java:256) at \r\nio.temporal.internal.replay.ReplayWorkflowTaskHandler.handleQueryOnlyWorkflowTask(ReplayWorkflowTaskHandler.java:257) at \r\nio.temporal.internal.replay.ReplayWorkflowTaskHandler.handleWorkflowTask(ReplayWorkflowTaskHandler.java:112) at \r\nio.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:314) at \r\nio.temporal.internal.worker.WorkflowWorker$TaskHandlerImpl.handle(WorkflowWorker.java:280) at \r\nio.temporal.internal.worker.PollTaskExecutor.lambda$process$0(PollTaskExecutor.java:73) at \r\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at \r\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at \r\njava.base/java.lang.Thread.run(Thread.java:834)\r\n```\r\n","closedAt":"2021-05-07T22:45:21Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDc4MTE4OTEyOA==","author":{"login":"Mhany95"},"authorAssociation":"NONE","body":"Any updates on this one? I can see the stack trace as long as the workflow is \"Running\", but once it's completed, failed or terminated, I get that error that @mfateev is mentioning?","createdAt":"2021-02-18T08:56:29Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/310#issuecomment-781189128","viewerDidAuthor":false}],"createdAt":"2021-01-15T22:40:13Z","labels":[],"milestone":null,"number":310,"reactionGroups":[],"state":"CLOSED","title":"Do not fail stack trace query on a closed workflow. But return empty stack","updatedAt":"2021-05-07T22:45:21Z","url":"https://github.com/temporalio/sdk-java/issues/310"}
