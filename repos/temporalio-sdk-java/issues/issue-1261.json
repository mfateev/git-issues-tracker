{"assignees":[{"id":"MDQ6VXNlcjUzMjEwOA==","login":"Spikhalskiy","name":"Dmitry Spikhalsky","databaseId":0}],"author":{"id":"MDQ6VXNlcjUzMjEwOA==","is_bot":false,"login":"Spikhalskiy","name":"Dmitry Spikhalsky"},"body":"## Expected Behavior\r\n\r\nLocal Activity should schedule a timer on the server when it reaches LocalActivityThreshold according to its backoff strategy.\r\n\r\n## Actual Behavior\r\n\r\nInstead, if Local Activity fails after LocalActivityThreshold is reached, the fail propagates to the workflow\r\n\r\n## Steps to Reproduce the Problem\r\n\r\nUnit test https://github.com/Spikhalskiy/java-sdk/commit/ea6252a66012d0cdf3f29af1ed78ab0ae95a762d#diff-b74049b45234315b43ae6729f80ee4c54cca4cbb081f97ef9ab42cc77e9e3264R39 is expected to pass, but instead, it fails. \r\n\r\n## Additional context\r\n\r\nIt looks like the code that was scheduling the timer was removed by mistake in the PR from the earliest days of Temporal that was reimplementing errors handling, specifically here: https://github.com/temporalio/sdk-java/pull/101/files#diff-f6a342e5baa618f03fdb6a83c6e070e5b57b9a9d9f3e1460b928149faa12b57cR237\r\n\r\nIt wasn't caught because the unit test testing La backoff that falls back to the server timers is not tested by the existing tests.\r\n","closedAt":"2022-12-06T05:52:30Z","comments":[],"createdAt":"2022-06-16T01:35:28Z","labels":[],"milestone":{"number":20,"title":"1.18.0","description":"","dueOn":"2022-11-29T00:00:00Z"},"number":1261,"reactionGroups":[],"state":"CLOSED","title":"Local Activities fail and don't retry after reaching LocalRetryThreshold","updatedAt":"2022-12-06T05:52:31Z","url":"https://github.com/temporalio/sdk-java/issues/1261"}
