{"assignees":[{"id":"MDQ6VXNlcjE0NjM2MjI=","login":"mfateev","name":"Maxim Fateev","databaseId":0}],"author":{"id":"MDQ6VXNlcjE0NjM2MjI=","is_bot":false,"login":"mfateev","name":"Maxim Fateev"},"body":"## Expected Behavior\r\ngRPC works.\r\n\r\n## Actual Behavior\r\nIntermittently unit tests get blocked producing a bunch of exceptions into the log:\r\n```\r\n19:26:22.214 [grpc-nio-worker-ELG-1-14] WARN  i.g.n.s.i.n.channel.nio.NioEventLoop - Unexpected exception in the selector loop.\r\njava.io.IOException: Invalid argument\r\n\tat sun.nio.ch.KQueueArrayWrapper.kevent0(Native Method)\r\n\tat sun.nio.ch.KQueueArrayWrapper.poll(KQueueArrayWrapper.java:198)\r\n\tat sun.nio.ch.KQueueSelectorImpl.doSelect(KQueueSelectorImpl.java:117)\r\n\tat sun.nio.ch.SelectorImpl.lockAndDoSelect(SelectorImpl.java:86)\r\n\tat sun.nio.ch.SelectorImpl.select(SelectorImpl.java:97)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.SelectedSelectionKeySetSelector.select(SelectedSelectionKeySetSelector.java:62)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.select(NioEventLoop.java:807)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:457)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n19:26:23.217 [grpc-nio-worker-ELG-1-14] INFO  i.g.n.s.i.n.channel.nio.NioEventLoop - Migrated 0 channel(s) to the new Selector.\r\n```\r\n\r\n## Steps to Reproduce the Problem\r\nSpecific steps are unknown. The problem happens intermittently with different tests.\r\n\r\n## Specifications\r\n\r\n  - Version: 0.28.0 of service and Java SDK\r\n\r\n","closedAt":"2021-09-23T17:40:28Z","comments":[{"id":"IC_kwDODN12PM43Mfb_","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"This problem wasn't noticed recently in any configuration of our unit test runs","createdAt":"2021-09-23T17:40:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/192#issuecomment-926021375","viewerDidAuthor":false}],"createdAt":"2020-08-22T02:28:55Z","labels":[],"milestone":null,"number":192,"reactionGroups":[],"state":"CLOSED","title":"Netty NioEventLoop exception","updatedAt":"2021-09-23T17:40:28Z","url":"https://github.com/temporalio/sdk-java/issues/192"}
