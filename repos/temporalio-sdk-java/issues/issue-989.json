{"assignees":[{"id":"MDQ6VXNlcjUzMjEwOA==","login":"Spikhalskiy","name":"Dmitry Spikhalsky","databaseId":0}],"author":{"id":"MDQ6VXNlcjExNTk0MzIy","is_bot":false,"login":"GeekNickson","name":"Sadboi"},"body":"Retry interval doesn't work for LocalActivity. \r\nThe problem is that in LocalActivityWorker.class there is a method \"handleLocalActivity\", which sets retryPolicy.\r\nin line 255 there is a check:\r\n`if (retryPolicy.getMaximumInterval().getNanos() > 0) {\r\n        roBuilder.setMaximumInterval(\r\n            ProtobufTimeUtils.toJavaDuration(retryPolicy.getMaximumInterval()));\r\n}`\r\n\r\nThe problem is that getNanos() always returns 0, so default value is used. It doesn't matter if use MethodRetry annotation or specify RetryOptions via setRetryOptions method of LocalActivityOptions. (I do specify nanos in Duration.ofSeconds(30, 1) like so)\r\n\r\n## Specifications\r\n\r\n  - Version: 1.7.1\r\n  - Platform: 1.7.1\r\n","closedAt":"2022-01-20T20:26:23Z","comments":[{"id":"IC_kwDODN12PM48qiWD","author":{"login":"Spikhalskiy"},"authorAssociation":"CONTRIBUTOR","body":"Confirm. Thanks for the report!","createdAt":"2022-01-20T18:13:24Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/989#issuecomment-1017783683","viewerDidAuthor":false}],"createdAt":"2022-01-20T14:25:49Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQx","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":9,"title":"1.8.0","description":"","dueOn":"2022-02-01T00:00:00Z"},"number":989,"reactionGroups":[],"state":"CLOSED","title":"Retry Interval doesn't work for LocalActivity, default value is used instead","updatedAt":"2022-01-20T20:26:23Z","url":"https://github.com/temporalio/sdk-java/issues/989"}
