{"assignees":[{"id":"MDQ6VXNlcjUzMjEwOA==","login":"Spikhalskiy","name":"Dmitry Spikhalsky","databaseId":0}],"author":{"id":"MDQ6VXNlcjUzMjEwOA==","is_bot":false,"login":"Spikhalskiy","name":"Dmitry Spikhalsky"},"body":"## Actual Behavior\r\n\r\nIf workflow execution was killed and evicted on the worker by the Deadlock Detector initiating `PotentialDeadlockException` in control thread, workflow code is getting IllegalStateException(\"Operation allowed only while eventLoop is running\") on the first arrival into Temporal framework code.\r\nWhile not dangerous for workflow determinism, this exception may be caught by `catch` and `finally` blocks and lead to side effects in users' code. \r\n\r\n## Expected Behavior\r\n\r\nTemporal SDK should throw DestroyWorkflowThreadError or some other kind of Error in this situation that will lead to the killing of the workflow thread.","closedAt":"2022-04-11T14:25:24Z","comments":[],"createdAt":"2022-03-08T00:24:48Z","labels":[{"id":"MDU6TGFiZWwxNjIyNzE5ODQx","name":"bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":10,"title":"1.9.0","description":"","dueOn":"2022-04-12T00:00:00Z"},"number":1066,"reactionGroups":[],"state":"CLOSED","title":"Deadlock Detector leads to workflow code getting \"Operation allowed only while eventLoop is running\"","updatedAt":"2022-04-11T14:25:24Z","url":"https://github.com/temporalio/sdk-java/issues/1066"}
