{"assignees":[],"author":{"id":"MDQ6VXNlcjc5NTIxNjQ=","is_bot":false,"login":"GwiYeong","name":"gwiyeong"},"body":"## Expected Behavior\r\nI'm using temporal spring boot `io.temporal:temporal-spring-boot-starter:1.25.1` and try to scrape metric from the temporal client.\r\nI have two application, one is worker and other is api. Worker application was successfully showing metric(I can get metric from `http://localhost:8080/metrics/prometheus` but api application could not. After I'm trying to resolve this problem, finally I found one thing.\r\nThis is my api application properties\r\n```\r\nspring:\r\n  temporal:\r\n    namespace: local\r\n    connection:\r\n      target: 127.0.0.1:7233\r\n```\r\nThere is no `workersAutoDiscovery` property that the worker has, because api doesn't need to start the worker, only use workflowClient, so I didn't put the property.\r\nAfter putting the `workersAutoDiscovery` as dummy, the api application is showing metric (still worker is not started because package is dummy)\r\n```\r\nspring:\r\n  temporal:\r\n    namespace: local\r\n    connection:\r\n      target: 127.0.0.1:7233\r\n    workersAutoDiscovery:\r\n      packages: dummy\r\n```\r\n## Actual Behavior\r\nShows the temporal metric to the actuator without the `workersAutoDiscovery` property.\r\n\r\n\r\n## Steps to Reproduce the Problem\r\n\r\n  1. As written above.\r\n\r\n## Specifications\r\n\r\n  - Version: io.temporal:temporal-spring-boot-starter:1.25.1\r\n  - Platform: Java 18\r\n","closedAt":"2025-05-01T22:48:37Z","comments":[{"id":"IC_kwDODN12PM6QzsTX","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"just to confirm are you using the client bean to make requests and still not seeing metrics?","createdAt":"2024-10-22T14:37:14Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2287#issuecomment-2429469911","viewerDidAuthor":false},{"id":"IC_kwDODN12PM6poZD9","author":{"login":"Quinn-With-Two-Ns"},"authorAssociation":"MEMBER","body":"I was not able to replicate this issue using the client bean. Closing due to lack of replication, if you can provide a self contained replication we can reopen this issue to investigate.","createdAt":"2025-05-01T22:48:37Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-java/issues/2287#issuecomment-2845937917","viewerDidAuthor":false}],"createdAt":"2024-10-22T02:22:44Z","labels":[],"milestone":null,"number":2287,"reactionGroups":[],"state":"CLOSED","title":"metric not exposed without workersAutoDiscovery property when using spring boot actuator.","updatedAt":"2025-05-01T22:48:39Z","url":"https://github.com/temporalio/sdk-java/issues/2287"}
