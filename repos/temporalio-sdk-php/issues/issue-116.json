{"assignees":[{"id":"MDQ6VXNlcjQxNTI0ODE=","login":"roxblnfk","name":"Aleksei Gagarin","databaseId":0}],"author":{"id":"MDQ6VXNlcjY4MTU3MTQ=","is_bot":false,"login":"xepozz","name":"Dmitrii Derepko"},"body":"I'm trying to run Temporal with Symfony application and have problem with error tracing.\r\n\r\n1. I'm trying to run non-existent activity method (it exists, but report isn't about that)\r\n\r\nI expect to see line in **workflow** where it calls, but I get error on **call workflow method** line and some vendor artefacts. See image\r\n\r\n![image](https://user-images.githubusercontent.com/6815714/124363122-22849a80-dc42-11eb-80d0-cdfb79ab2952.png)\r\n\r\n---\r\n\r\nWhen I'm trying to roll the same behaviour from code similar to [workshop](https://github.com/wolfy-j/temporal-workshop) I get the following stacktrace:\r\n\r\n![image](https://user-images.githubusercontent.com/6815714/124363238-d128db00-dc42-11eb-91b5-1363593abced.png)\r\nAs you see `sdk` catches needed lines into stacktrace.\r\n\r\nSimilar situation when I dump exception directly in `\\Temporal\\Internal\\Client\\WorkflowStub::mapWorkflowFailureToException`\r\n![image](https://user-images.githubusercontent.com/6815714/124363319-3086eb00-dc43-11eb-9149-2fda7258b907.png)\r\n\r\n---\r\n\r\nBut as you can see in previous screenshot it's placed in `originalStackTrace` property.\r\nProperty `trace` doesn't contain that information so it's displays wrong.\r\n\r\nIs it expected behaviour? Would be good to see \"original stack trace\" in usual \"trace\" property.","closedAt":"2023-09-01T12:12:22Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDg3MzU1ODUzMQ==","author":{"login":"wolfy-j"},"authorAssociation":"COLLABORATOR","body":"Hi, unfortunately, it is not possible to overwrite the PHP exception trace as it possible in Java. So the only option (from our perspective) was to include it into the originalStackTrace. \r\n\r\nIdeally, we need to train exception renderers (or for example Sentry) to understand such types of exceptions and display them. This is partially important when an exception comes from another stack, you can't render something which is not within your codebase.\r\n\r\nSo this is an excepted behavior but ideally, we need some sugar to make it easier to read.","createdAt":"2021-07-04T10:05:35Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/116#issuecomment-873558531","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM5lfGF1","author":{"login":"rustatian"},"authorAssociation":"COLLABORATOR","body":"Closing as answered","createdAt":"2023-09-01T12:12:22Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/116#issuecomment-1702650229","viewerDidAuthor":false}],"createdAt":"2021-07-03T18:34:10Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTkx","name":"Question","description":"Further information is requested","color":"0173a0"}],"milestone":{"number":2,"title":"2.6.0","description":"Requires Roadrunner 2023.3","dueOn":"2023-09-15T00:00:00Z"},"number":116,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Wrong exception trace","updatedAt":"2023-09-01T12:12:34Z","url":"https://github.com/temporalio/sdk-php/issues/116"}
