{"assignees":[],"author":{"id":"MDQ6VXNlcjEzODE2NzA0","is_bot":false,"login":"root-aza","name":"Vlad Shashkov"},"body":"### What are you really trying to do?\r\n\r\nrun worker php\r\n\r\n\r\n### Describe the bug\r\n\r\n\r\n### Minimal Reproduction\r\n\r\n./rr serve -c .rr.temporal.dev.yaml\r\n\r\n```yaml\r\nversion: \"3\"\r\n\r\nmetrics:\r\n  address: 0.0.0.0:2116\r\n\r\nstatus:\r\n  address: 0.0.0.0:2115\r\n\r\nserver:\r\n  command: \"php public/index.php\"\r\n  env:\r\n    - APP_RUNTIME: Vanta\\Integration\\Symfony\\Temporal\\Runtime\\TemporalRuntime\r\n\r\nrpc:\r\n  listen: tcp://0.0.0.0:6001\r\n\r\ntemporal:\r\n  address: \"mdm_pos_temporal_server:7233\"\r\n  namespace: mdm\r\n  activities:\r\n    num_workers: 4\r\n  metrics:\r\n    driver: prometheus\r\n    address: 0.0.0.0:2117\r\n    type: \"summary\"\r\n\r\n\r\nlogs:\r\n  level: debug\r\n  channels:\r\n    temporal.level: error\r\n```\r\n\r\n\r\n### Environment/Versions\r\n\r\nRR 2024.2.1\r\ntemporal/sdk v2.11.2\r\n\r\n### Additional context\r\n\r\nProblem line https://github.com/temporalio/sdk-php/blob/master/src/Internal/Transport/Router/GetWorkerInfo.php#L85\r\n","closedAt":"2024-12-03T20:12:05Z","comments":[{"id":"IC_kwDOEY5HBM6V6JZG","author":{"login":"cv65kr"},"authorAssociation":"CONTRIBUTOR","body":"@root-aza it's issue in bundle which you are using - https://github.com/VantaFinance/temporal-bundle/blob/main/src/DataConverter/SymfonySerializerDataConverter.php#L51 should have option `['preserve_empty_objects' => true]`.","createdAt":"2024-12-03T16:35:28Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}},{"content":"LAUGH","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-php/issues/531#issuecomment-2515048006","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM6V7tVW","author":{"login":"root-aza"},"authorAssociation":"CONTRIBUTOR","body":"Oops. Thanks!","createdAt":"2024-12-03T20:12:05Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/531#issuecomment-2515457366","viewerDidAuthor":false}],"createdAt":"2024-12-02T19:08:26Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTc0","name":"Bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":531,"reactionGroups":[],"state":"CLOSED","title":"[Bug] cannot unmarshal array into Go struct field WorkerInfo.Flags of type map[string]string","updatedAt":"2024-12-03T20:12:05Z","url":"https://github.com/temporalio/sdk-php/issues/531"}
