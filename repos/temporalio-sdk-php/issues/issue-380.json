{"assignees":[{"id":"MDQ6VXNlcjQxNTI0ODE=","login":"roxblnfk","name":"Aleksei Gagarin","databaseId":0}],"author":{"id":"MDQ6VXNlcjM5NTIyMzM4","is_bot":false,"login":"zemkogabor","name":""},"body":"### What are you really trying to do?\r\n\r\nCreate scheduled workflow\r\n\r\n### Describe the bug\r\n\r\nI tried the new Schedule API, but i got an error when creating schedule:\r\n\r\n```\r\nUncaught Exception TypeError: \"Given value is not an instance of Google\\Protobuf\\Timestamp.\" at /app/vendor/roadrunner-php/roadrunner-api-dto/generated/Temporal/Api/Schedule/V1/ScheduleSpec.php line 198 {\"exception\":\"[object] (TypeError(code: 0): Given value is not an instance of Google\\\\Protobuf\\\\Timestamp. at /app/vendor/roadrunner-php/roadrunner-api-dto/generated/Temporal/Api/Schedule/V1/ScheduleSpec.php:198)\"\r\n```\r\n\r\n### Minimal Reproduction\r\n\r\n```\r\n        $handle = $scheduleClient->createSchedule(\r\n            Schedule::new()->withAction(\r\n                StartWorkflowAction::new(SubscriptionRenewalWorkflow::WORKFLOW_TYPE)\r\n                    ->withRetryPolicy(\r\n                        RetryOptions::new()\r\n                            ->withInitialInterval(CarbonInterval::seconds(10))\r\n                            ->withMaximumAttempts(3)\r\n                    )\r\n                    ->withWorkflowId(SubscriptionRenewalWorkflow::WORKFLOW_ID)\r\n                    ->withWorkflowRunTimeout(CarbonInterval::minute(10))\r\n            )->withSpec(\r\n                ScheduleSpec::new()->withAddedCronString('15 7 * * *')\r\n            ),\r\n            scheduleId: SubscriptionRenewalWorkflow::SCHEDULE_ID,\r\n        );\r\n```\r\n\r\n### Environment/Versions\r\n\r\n- Docker\r\n- PHP: 8.3.1\r\n- Protobuf: 3.25.1\r\n- Temporal SDK Version: 2.7\r\n- Roadrunner: 2023.3.8 \r\n- OS and processor: M1 Mac","closedAt":"2024-01-05T14:19:00Z","comments":[],"createdAt":"2024-01-04T21:02:05Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTc0","name":"Bug","description":"Something isn't working","color":"d73a4a"}],"milestone":{"number":5,"title":"2.7.1","description":"","dueOn":null},"number":380,"reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"state":"CLOSED","title":"[Bug] Schedule API: Given value is not an instance of Google\\Protobuf\\Timestamp","updatedAt":"2024-01-05T14:19:01Z","url":"https://github.com/temporalio/sdk-php/issues/380"}
