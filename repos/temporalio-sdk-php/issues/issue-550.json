{"assignees":[],"author":{"id":"MDQ6VXNlcjQxNTI0ODE=","is_bot":false,"login":"roxblnfk","name":"Aleksei Gagarin"},"body":"Check why Harness test is failing:\r\nTest case: https://github.com/temporalio/features/blob/5a0e5ad50ec0c927bf7acca2cfac5fb14f2bd09a/features/child_workflow/throws_on_execute/feature.php\r\nRun: https://github.com/temporalio/features/actions/runs/12713467168/job/35457744674\r\n\r\n<details>\r\n\r\n```\r\nRunning check Harness\\Feature\\ChildWorkflow\\ThrowsOnExecute\\FeatureChecker::check FAILED\r\nTemporal\\Exception\\Client\\TimeoutException {#261\r\n  #message: \"Deadline Exceeded (code: 4)\"\r\n  #code: 4\r\n  #file: \"./vendor/temporal/sdk/src/Client/GRPC/BaseClient.php\"\r\n  #line: 291\r\n  -previous: Temporal\\Exception\\Client\\ServiceClientException {#246\r\n    #message: \"Deadline Exceeded (code: 4)\"\r\n    #code: 4\r\n    #file: \"./vendor/temporal/sdk/src/Client/GRPC/BaseClient.php\"\r\n    #line: 284\r\n    -status: Google\\Rpc\\Status {#262\r\n      message: \"google.rpc.Status\"\r\n      values: []\r\n    }\r\n    trace: {\r\n      ./vendor/temporal/sdk/src/Client/GRPC/BaseClient.php:284 { …}\r\n      ./vendor/temporal/sdk/src/Client/GRPC/BaseClient.php:252 { …}\r\n      ./vendor/temporal/sdk/src/Client/GRPC/ServiceClient.php:137 { …}\r\n      ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:576 { …}\r\n      ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:491 { …}\r\n      ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:423 { …}\r\n      ./vendor/temporal/sdk/src/Internal/Interceptor/Pipeline.php:92 { …}\r\n      ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:432 { …}\r\n      /home/runner/work/features/features/features/features/child_workflow/throws_on_execute/feature.php:49 {\r\n        Harness\\Feature\\ChildWorkflow\\ThrowsOnExecute\\FeatureChecker::check(WorkflowStubInterface $stub): void\r\n        › try {\r\n        ›     $stub->getResult();\r\n        ›     throw new \\Exception('Expected exception');\r\n      }\r\n      Harness\\Feature\\ChildWorkflow\\ThrowsOnExecute\\FeatureChecker::check() {}\r\n      ./vendor/spiral/core/src/Internal/Invoker.php:59 { …}\r\n      ./vendor/spiral/core/src/Container.php:292 { …}\r\n      /home/runner/work/features/features/features/harness/php/runner.php:108 { …}\r\n      {closure}() {}\r\n      ./vendor/spiral/core/src/Internal/Invoker.php:77 { …}\r\n      ./vendor/spiral/core/src/Container.php:292 { …}\r\n      ./vendor/spiral/core/src/Container.php:404 { …}\r\n      ./vendor/spiral/core/src/ContainerScope.php:46 { …}\r\n      ./vendor/spiral/core/src/Container.php:399 { …}\r\n      ./vendor/spiral/core/src/Container.php:[181](https://github.com/temporalio/features/actions/runs/12713467168/job/35457744674#step:10:182) { …}\r\n      /home/runner/work/features/features/features/harness/php/runner.php:99 { …}\r\n    }\r\n  }\r\n  trace: {\r\n    ./vendor/temporal/sdk/src/Client/GRPC/BaseClient.php:291 { …}\r\n    ./vendor/temporal/sdk/src/Client/GRPC/BaseClient.php:252 { …}\r\n    ./vendor/temporal/sdk/src/Client/GRPC/ServiceClient.php:137 { …}\r\n    ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:576 { …}\r\n    ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:491 { …}\r\n    ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:423 { …}\r\n    ./vendor/temporal/sdk/src/Internal/Interceptor/Pipeline.php:92 { …}\r\n    ./vendor/temporal/sdk/src/Internal/Client/WorkflowStub.php:432 { …}\r\n    /home/runner/work/features/features/features/features/child_workflow/throws_on_execute/feature.php:49 {\r\n      Harness\\Feature\\ChildWorkflow\\ThrowsOnExecute\\FeatureChecker::check(WorkflowStubInterface $stub): void\r\n      › try {\r\n      ›     $stub->getResult();\r\n      ›     throw new \\Exception('Expected exception');\r\n    }\r\n    Harness\\Feature\\ChildWorkflow\\ThrowsOnExecute\\FeatureChecker::check() {}\r\n    ./vendor/spiral/core/src/Internal/Invoker.php:59 { …}\r\n    ./vendor/spiral/core/src/Container.php:292 { …}\r\n    /home/runner/work/features/features/features/harness/php/runner.php:108 { …}\r\n    {closure}() {}\r\n    ./vendor/spiral/core/src/Internal/Invoker.php:77 { …}\r\n    ./vendor/spiral/core/src/Container.php:292 { …}\r\n    ./vendor/spiral/core/src/Container.php:404 { …}\r\n    ./vendor/spiral/core/src/ContainerScope.php:46 { …}\r\n    ./vendor/spiral/core/src/Container.php:399 { …}\r\n    ./vendor/spiral/core/src/Container.php:181 { …}\r\n    /home/runner/work/features/features/features/harness/php/runner.php:99 { …}\r\n  }\r\n}\r\n-> /home/runner/work/features/features/features/features/child_workflow/throws_on_execute/feature.php:49\r\nTimeoutException\r\nDeadline Exceeded (code: 4)\r\nServiceClientException\r\nDeadline Exceeded (code: 4)\r\n```\r\n\r\n</details>","closedAt":"2025-01-13T23:38:18Z","comments":[],"createdAt":"2025-01-11T00:03:32Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTc0","name":"Bug","description":"Something isn't working","color":"d73a4a"},{"id":"LA_kwDOEY5HBM8AAAABMGprrQ","name":"Tests","description":"Update tests or testing tools","color":"0E8A16"}],"milestone":{"number":30,"title":"2.12.3","description":"","dueOn":null},"number":550,"reactionGroups":[],"state":"CLOSED","title":"Check Harness and Acceptance test","updatedAt":"2025-01-13T23:38:18Z","url":"https://github.com/temporalio/sdk-php/issues/550"}
