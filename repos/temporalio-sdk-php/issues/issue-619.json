{"assignees":[],"author":{"id":"U_kgDOCaYh-Q","is_bot":false,"login":"stargazer-team","name":""},"body":"### Don`t serialize return artivity method boolean and void types.\n```\n{\n  \"type\": \"workflowExecutionFailedEventAttributes\",\n  \"failure\": {\n    \"message\": \"The passed value of type \\\"bool\\\" can not be converted to required type \\\"int\\\"\",\n    \"source\": \"PHP_SDK\",\n    \"stackTrace\": \"#0  /var/www/newmanager/vendor/temporal/sdk/src/DataConverter/JsonConverter.php:112\n    Temporal\\\\DataConverter\\\\JsonConverter->errorInvalidType(Temporal\\\\DataConverter\\\\Type,true)\n#1  /vendor/temporal/sdk/src/DataConverter/DataConverter.php:62\n    Temporal\\\\DataConverter\\\\JsonConverter->fromPayload(Temporal\\\\Api\\\\Common\\\\V1\\\\Payload,Temporal\\\\DataConverter\\\\Type)\n#2  /vendor/temporal/sdk/src/DataConverter/EncodedValues.php:137\n    Temporal\\\\DataConverter\\\\DataConverter->fromPayload(Temporal\\\\Api\\\\Common\\\\V1\\\\Payload,Temporal\\\\DataConverter\\\\Type)\n#3  /vendor/temporal/sdk/src/DataConverter/EncodedValues.php:87\n    Temporal\\\\DataConverter\\\\EncodedValues->getValue(0,ReflectionNamedType)\n#4  /vendor/temporal/sdk/src/Internal/Transport/CompletableResult.php:169\n    Temporal\\\\DataConverter\\\\EncodedValues::Temporal\\\\DataConverter\\\\{closure}(Temporal\\\\DataConverter\\\\EncodedValues)\n#5  /vendor/react/promise/src/FulfilledPromise.php:28\n    Temporal\\\\Internal\\\\Transport\\\\CompletableResult->Temporal\\\\Internal\\\\Transport\\\\{closure}(Temporal\\\\DataConverter\\\\EncodedValues)\n#6  /vendor/react/promise/src/Promise.php:134\n    React\\\\Promise\\\\FulfilledPromise->then(Closure,null)\n#7  /vendor/react/promise/src/Promise.php:168\n    React\\\\Promise\\\\Promise::React\\\\Promise\\\\{closure}(React\\\\Promise\\\\FulfilledPromise)\n#8  /vendor/react/promise/src/Promise.php:231\n    React\\\\Promise\\\\Promise->settle(React\\\\Promise\\\\FulfilledPromise)\n#9  /vendor/react/promise/src/Deferred.php:36\n    React\\\\Promise\\\\Promise::React\\\\Promise\\\\{closure}(Temporal\\\\DataConverter\\\\EncodedValues)\n#10 /vendor/temporal/sdk/src/Internal/Transport/CompletableResult.php:137\n    React\\\\Promise\\\\Deferred->resolve(Temporal\\\\DataConverter\\\\EncodedValues)\n#11 /vendor/temporal/sdk/src/Internal/Events/EventEmitterTrait.php:41\n    Temporal\\\\Internal\\\\Transport\\\\CompletableResult->Temporal\\\\Internal\\\\Transport\\\\{closure}()\n#12 /vendor/temporal/sdk/src/WorkerFactory.php:211\n    Temporal\\\\WorkerFactory->emit(\\\"tick\\\")\n#13 /vendor/temporal/sdk/src/WorkerFactory.php:303\n    Temporal\\\\WorkerFactory->tick()\n#14 /vendor/temporal/sdk/src/WorkerFactory.php:197\n    Temporal\\\\WorkerFactory->dispatch(\\\"\\\no\\\\b\\ufffdF* \\\n\\\\^^\\\n\\\\^V\\\n\\\\bencoding\\\\^R\\\njson\\\\/plain\\\\^R\\\\^Dtrue8\\\\tB$0581ea3...\\\",array(6))\n#15 /vendor/yiisoft/yii-runner-roadrunner/src/RoadRunnerHttpApplicationRunner.php:295\n    Temporal\\\\WorkerFactory->run(Temporal\\\\Worker\\\\Transport\\\\RoadRunner)\n#16 /vendor/yiisoft/yii-runner-roadrunner/src/RoadRunnerHttpApplicationRunner.php:169\n    Yiisoft\\\\Yii\\\\Runner\\\\RoadRunner\\\\RoadRunnerHttpApplicationRunner->runTemporal(Yiisoft\\\\Di\\\\Container)\n#17 /roadrunner/worker_temporal.php:19\n    Yiisoft\\\\Yii\\\\Runner\\\\RoadRunner\\\\RoadRunnerHttpApplicationRunner->run()\",\n    \"applicationFailureInfo\": {\n      \"type\": \"Temporal\\\\Exception\\\\DataConverterException\"\n    }\n  },\n  \"retryState\": \"RETRY_STATE_RETRY_POLICY_NOT_SET\",\n  \"workflowTaskCompletedEventId\": \"10\"\n}\n```\n### Minimal Reproduction\n```\n#[ActivityInterface]\ninterface TestActivityInterface\n{\n    #[ActivityMethod]\n    public function update(int $productId): bool;\n}\nfinal class TestActivity implements TestActivityInterface\n{\n    public function update(int $productId): bool\n    {\n        return true;\n    }\n}\n```\n### Environment/Versions\n\n<!-- Please complete the following information where relevant. -->\n\n- OS and processor: [Linux]\n- Temporal Version: [e.g. 1.27.2?] and SDK version 2.14.1\n- Use docker building Temporal from source\n","closedAt":"2025-05-19T20:13:54Z","comments":[{"id":"IC_kwDOEY5HBM6sW2m1","author":{"login":"roxblnfk"},"authorAssociation":"COLLABORATOR","body":"Looks like a boolean value is passed when an integer is expected","createdAt":"2025-05-19T16:49:16Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/619#issuecomment-2891671989","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM6sW7dB","author":{"login":"stargazer-team"},"authorAssociation":"NONE","body":"Maybe boolean return value convert in int 0 or 1","createdAt":"2025-05-19T16:56:31Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/619#issuecomment-2891691841","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM6sXPoi","author":{"login":"roxblnfk"},"authorAssociation":"COLLABORATOR","body":"Could you provide a reproducible example with Workflow code?","createdAt":"2025-05-19T17:28:38Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/619#issuecomment-2891774498","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM6sYtj6","author":{"login":"stargazer-team"},"authorAssociation":"NONE","body":"Sorry guys, this is my fail, did not press the prefix in activities that had methods with the same name. ","createdAt":"2025-05-19T20:13:40Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/619#issuecomment-2892159226","viewerDidAuthor":false}],"createdAt":"2025-05-19T15:23:49Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTkx","name":"Question","description":"Further information is requested","color":"0173a0"}],"milestone":null,"number":619,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Don`t serialize return artivity method boolean and void types.","updatedAt":"2025-05-19T20:13:54Z","url":"https://github.com/temporalio/sdk-php/issues/619"}
