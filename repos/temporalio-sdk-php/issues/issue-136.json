{"assignees":[{"id":"MDQ6VXNlcjk5NTk3NjE=","login":"seregazhuk","name":"Sergey Zhuk","databaseId":0}],"author":{"id":"MDQ6VXNlcjg3NzE0OQ==","is_bot":false,"login":"mzavatsky","name":"Maxim Zavatsky"},"body":"Workflow example to reproduce bug:\r\n\r\n```php\r\nclass DelayedWorkflow implements DelayedWorkflowInterface\r\n{\r\n    private bool $doCancel;\r\n\r\n    public function executeDelayed()\r\n    {\r\n        $this->doCancel = false;\r\n\r\n        yield Workflow::awaitWithTimeout(\r\n        \t600,\r\n        \tfn() => $this->doCancel\r\n        );\r\n\r\n        if ($this->doCancel) {\r\n            return 'CANCEL';\r\n        }\r\n\r\n        return 'OK';\r\n    }\r\n\r\n    public function cancel(): void\r\n    {\r\n        $this->doCancel = true;\r\n    }\r\n}\r\n```\r\n\r\nExpected behavior:\r\n- Run the workflow, send `cancel` signal, workflow completes **immediataly** with result `CANCEL`.\r\n\r\nActual result:\r\n- Run the workflow, send `cancel` signal, workflow stays running. Only after timeout (600 seconds) it completes with result `CANCEL`.","closedAt":"2022-01-23T19:09:03Z","comments":[],"createdAt":"2022-01-11T04:55:50Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTc0","name":"Bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":136,"reactionGroups":[],"state":"CLOSED","title":"[Bug] Workflow with awaitWithTimeout keeps running after signal","updatedAt":"2022-01-23T19:09:03Z","url":"https://github.com/temporalio/sdk-php/issues/136"}
