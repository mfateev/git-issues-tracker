{"assignees":[{"id":"MDQ6VXNlcjQxNTI0ODE=","login":"roxblnfk","name":"Aleksei Gagarin","databaseId":0}],"author":{"id":"MDQ6VXNlcjEwMTU4MzMw","is_bot":false,"login":"sidorov89","name":""},"body":"### What are you really trying to do?\r\nI'm trying add workflow into Temporal Schedule\r\n\r\n### Describe the bug\r\n\r\n```\r\n#[AsCommand(name: 'check:status')]\r\nfinal class CheckStatusCommand extends Command\r\n{\r\n\r\n    public function __invoke(): int\r\n    {\r\n              $client = \\Temporal\\Client\\ScheduleClient::create(\r\n                  \\Temporal\\Client\\GRPC\\ServiceClient::create('localhost:7233'),\r\n              );\r\n      \r\n              $handle = $client->createSchedule(\r\n                  Schedule\\Schedule::new()->withAction(\r\n                      Schedule\\Action\\StartWorkflowAction::new('WebsiteStatusWorkflow')\r\n                          ->withRetryPolicy(\\Temporal\\Common\\RetryOptions::new()->withMaximumAttempts(3))\r\n                          ->withHeader(['foo' => 'bar'])\r\n                          ->withWorkflowExecutionTimeout('40m')\r\n                  )->withSpec(\r\n                      Schedule\\Spec\\ScheduleSpec::new()\r\n                          ->withIntervalList(5 * 60) // every 5 minutes\r\n                          ->withJitter(60) // with jitter of 1 minute\r\n                  ),\r\n                  scheduleId: 'my-schedule-id',\r\n              );\r\n      }\r\n}\r\n```\r\nAfter run code `php app.php check:status`  in console I get Exception: \r\n\"[ErrorException]\r\nexclude_calendar is deprecated.\r\nin vendor/roadrunner-php/roadrunner-api-dto/generated/Temporal/Api/Schedule/V1/ScheduleSpec.php:355\"\r\n\r\n### Environment/Versions\r\n\r\n<!-- Please complete the following information where relevant. -->\r\n- Roadrunner Version version: 2024.2.1,\r\n- Temporal CLI 1.1.1 (Server 1.25.1, UI 2.31.2)\r\n- OS and Platform Mac Book Intel Core i7\r\n- Are you using Docker or Kubernetes or building Temporal from source? \"brew install temporal\"\r\n- Framework Spiral 3.14.6\r\n","closedAt":"2024-11-14T09:18:53Z","comments":[{"id":"IC_kwDOEY5HBM6Sc0xw","author":{"login":"roxblnfk"},"authorAssociation":"COLLABORATOR","body":"@sidorov89 hi ✋ \r\nCould you check that PR fixes the deprecation error","createdAt":"2024-11-05T12:21:58Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/522#issuecomment-2457029744","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM6TkeTp","author":{"login":"roxblnfk"},"authorAssociation":"COLLABORATOR","body":"Resolved by adding PHP `protobuf` extension.\r\nOther deprecations were fixed in #523 ","createdAt":"2024-11-14T09:18:53Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/522#issuecomment-2475812073","viewerDidAuthor":false}],"createdAt":"2024-11-03T19:18:47Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTc0","name":"Bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":522,"reactionGroups":[],"state":"CLOSED","title":"[Bug] [ErrorException] exclude_calendar is deprecated.","updatedAt":"2024-11-14T09:18:53Z","url":"https://github.com/temporalio/sdk-php/issues/522"}
