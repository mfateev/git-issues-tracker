{"assignees":[],"author":{"id":"MDQ6VXNlcjM4MTgwNTE=","is_bot":false,"login":"lerminou","name":"Nicolas DUBUT"},"body":"Hi,\r\n\r\nI tried to clone the SDK in my project but I got a question.\r\nI already have a stack in my company for PHP and I want to include Temooral server instead of RabbitMQ.\r\nI want to directy send workflow or receive activities from PHP.\r\n\r\nI know it's just the beginning of the SDK, but before to try some use-cases, I want to know if it will be compatible.\r\n\r\nThe example emulator works well, but when I tried to change the client endpoint to 'temporal:7233' (the available temporal server endpoint).\r\nI got the following error:\r\n\r\nI used the default docker-compose from temporal 1.0.0-rc1\r\n\r\n```\r\nTemporal.ERROR: Spiral\\Goridge\\Exception\\ProtocolException: Can not read input stream, chunk must a type of string, but bool given in /var/www/directory/vendor/spiral/goridge/src/Protocol/Protocol.php:104 \r\nStack trace: #0 /var/www/directory/vendor/spiral/goridge/src/Protocol/Protocol.php(79): Spiral\\Goridge\\Protocol\\Protocol->errorChunkType(false) \r\n#1 /var/www/directory/vendor/spiral/goridge/src/Protocol/Protocol.php(59): Spiral\\Goridge\\Protocol\\Protocol->stream(2, Object(Closure)) \r\n#2 /var/www/directory/vendor/spiral/goridge/src/Protocol/Version1/Decoder.php(38): Spiral\\Goridge\\Protocol\\Protocol->streamToString(17) \r\n#3 [internal function]: Spiral\\Goridge\\Protocol\\Version1\\Decoder->decode(Object(Spiral\\Goridge\\Protocol\\Stream\\Factory)) \r\n#4 /var/www/directory/vendor/spiral/goridge/src/Transport/Receiver/ResourceStreamReceiverTrait.php(40): Generator->send(false) \r\n#5 /var/www/directory/vendor/spiral/goridge/src/Transport/ReactReceiver.php(39): Spiral\\Goridge\\Transport\\StreamReceiver->push(Object(Spiral\\Goridge\\Protocol\\Stream\\Factory), Object(Spiral\\Goridge\\Protocol), Resource id #56) \r\n#6 /var/www/directory/vendor/react/event-loop/src/StreamSelectLoop.php(245): Spiral\\Goridge\\Transport\\ReactReceiver->Spiral\\Goridge\\Transport\\{closure}(Resource id #56) \r\n#7 /var/www/directory/vendor/react/event-loop/src/StreamSelectLoop.php(212): React\\EventLoop\\StreamSelectLoop->waitForStreamActivity(NULL) \r\n#8 /var/www/directory/vendor/archemed/common-symfony/Worker.php(213): React\\EventLoop\\StreamSelectLoop->run() \r\n#9 /var/www/directory/vendor/archemed/common-symfony/RestartableExecutor.php(105): Temporal\\Client\\Worker->run('default') \r\n#10 /var/www/directory/public/client.php(45): Temporal\\Client\\RestartableExecutor->run() #11 {main} [] []\r\n```","closedAt":"2021-01-29T15:34:54Z","comments":[{"id":"MDEyOklzc3VlQ29tbWVudDcwMTIzODg2NQ==","author":{"login":"wolfy-j"},"authorAssociation":"COLLABORATOR","body":"Hi, this SDK is currently in active development and won't work without the Golang coordinator on RoadRunner.\r\n\r\nOnce the implementation complete, we will take a look at providing access to Temporal functions using native PHP SDK; however, the native client will only be capable of handling general API calls (i.e., StartWorkflow) and activity execution (using a blocking loop). \r\n\r\nDeveloping a workflow runner on PHP without the Golang coordinator is a challenging task and currently not on our roadmap. Since workflows state machines are generally well isolated from the rest of the codebase, you should be capable of embedding RoadRunner to your application without affecting the rest of the code.\r\n\r\nWe will provide an announcement when you'll be ready to use this SDK as Alpha build.","createdAt":"2020-09-30T08:17:37Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":3}},{"content":"HOORAY","users":{"totalCount":2}}],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-701238865","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDcwMTI1MTU5OQ==","author":{"login":"lerminou"},"authorAssociation":"NONE","body":"OK i thought this SDK was in charge to handle RPC calls to Temporal with the proto interfaces or FFI to the go SDK, but it's more like a roadrunner plugin right ?\r\nI don't have experiences with roadrunner, I will take a look, if it's easy to integrate","createdAt":"2020-09-30T08:42:44Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-701251599","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDcwMTI1MzQ3MQ==","author":{"login":"wolfy-j"},"authorAssociation":"COLLABORATOR","body":"This SDK currently focuses on base primitives to handle workflow executions on PHP. It will operate as a standalone server as well as a RoadRunner plugin. RPC calls to Temporal will be included as well, but the scope of this function is much smaller than what we are trying to do. \r\n\r\nYou can check the original proposal here: https://github.com/temporalio/proposals/blob/master/php/php-rr-sdk.md","createdAt":"2020-09-30T08:46:11Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":1}}],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-701253471","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDcxNzE3ODU0NA==","author":{"login":"sagikazarmark"},"authorAssociation":"NONE","body":"While I like and generally agree with the approach, I think it would be a quick win to support launching new workflows from a PHP application without support for actually implementing workers in PHP.\r\n\r\nI think a lot of users have polyglot applications where the primary API is implemented in PHP and some internal services are implemented in nodejs, python, Go, etc.\r\n\r\nI haven't looked at the current SDK closely, so I don't know if this is already implemented, but I think it's a low-hanging fruit that would be worth prioritizing.\r\n\r\nEdit: I guess that's what #4 is about.","createdAt":"2020-10-27T11:29:26Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-717178544","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDcxNzM0MDUxOA==","author":{"login":"wolfy-j"},"authorAssociation":"COLLABORATOR","body":"> I think it would be a quick win to support launching new workflows from a PHP application without support for actually implementing workers in PHP.\r\n\r\nWe are not planning to handle GRPC endpoints in this SDK but we do provide RoadRunner native RPC. Please sit tight, we are entering into assembly part of this SDK, I hope to provide working Aplha very soon.","createdAt":"2020-10-27T15:53:34Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-717340518","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc2MDQxMTExNg==","author":{"login":"wolfy-j"},"authorAssociation":"COLLABORATOR","body":"Update: a recent version of WorkflowService uses GRPC and does not require RoadRunner to work (but it does require php-grpc extension), you can launch workflows from legacy codebases. Activities and workflows will require a supervisor.","createdAt":"2021-01-14T19:16:01Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-760411116","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc2MDQ3OTk5NA==","author":{"login":"lerminou"},"authorAssociation":"NONE","body":"Hi. Thanks for the update. \r\nFor now I'm using the temporal proto compiled to php too.\r\nI released a composer package to perform the same work. You're free to use it if you want. https://github.com/lerminou/temporal-api","createdAt":"2021-01-14T21:13:59Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-760479994","viewerDidAuthor":false},{"id":"MDEyOklzc3VlQ29tbWVudDc2MDc1NDc2NQ==","author":{"login":"wolfy-j"},"authorAssociation":"COLLABORATOR","body":"Hi,\r\n\r\nwe are using additional (generated) mapping at top of the default GRPC client to improve it's usability. Our additions:\r\n1) Java-like Workflow and Activity clients\r\n2) Retries and Timeouts\r\n3) Isolated and typed interface for the service client instead of native `GRPC->wait()[0]`","createdAt":"2021-01-15T08:38:51Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/3#issuecomment-760754765","viewerDidAuthor":false}],"createdAt":"2020-09-30T08:07:06Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTkx","name":"Question","description":"Further information is requested","color":"0173a0"}],"milestone":null,"number":3,"reactionGroups":[{"content":"ROCKET","users":{"totalCount":1}}],"state":"CLOSED","title":"Is this SDK available in standalone without RoadRunner ?","updatedAt":"2021-01-29T15:34:54Z","url":"https://github.com/temporalio/sdk-php/issues/3"}
