{"assignees":[{"id":"MDQ6VXNlcjQxNTI0ODE=","login":"roxblnfk","name":"Aleksei Gagarin","databaseId":0}],"author":{"id":"MDQ6VXNlcjMyMTQyOTA=","is_bot":false,"login":"roquie","name":"Maks"},"body":"### What are you really trying to do?\r\n\r\nPass a DTO object as argument to method in activity/workflow.\r\n\r\n### Describe the bug\r\n\r\nWhen developer using class as DTO with public properties to pass values to workflow with property type `?array` it got an error:\r\n\r\n```\r\nInvalidArgumentException: Passed value must be a type of array, but null given in /backend/vendor/temporal/sdk/src/Internal/Marshaller/Type/ArrayType.php:64\\nStack trace:\\n#0 /backend/vendor/temporal/sdk/src/Internal/Marshaller/Mapper/AttributeMapper.php(195): Temporal\\\\Internal\\\\Marshaller\\\\Type\\\\ArrayType->parse(NULL, NULL)\r\n```\r\n\r\n### Minimal Reproduction\r\n\r\n1. Create a DTO class like this: \r\n```php\r\nclass DTO {\r\n  public function __construct(\r\n     public readonly ?array $foos\r\n  ) {}\r\n}\r\n```\r\n2. Create a workflow class with method `handle` and agruments like `handle(DTO $test)` \r\n3. Run\r\n\r\n### Environment/Versions\r\n\r\n- OS and processor: M1 Mac and Mac without M1\r\n- Temporal Version: latest `1.*` and latest `2.*`\r\n- Are you using Docker or Kubernetes or building Temporal from source?: Docker\r\n","closedAt":"2022-12-14T19:52:59Z","comments":[{"id":"IC_kwDOEY5HBM5K3dHd","author":{"login":"roquie"},"authorAssociation":"CONTRIBUTOR","body":"https://github.com/temporalio/sdk-php/pull/245","createdAt":"2022-09-23T10:37:20Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/246#issuecomment-1256051165","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM5Qluhj","author":{"login":"rustatian"},"authorAssociation":"COLLABORATOR","body":"Closed since #245 was merged.","createdAt":"2022-12-14T19:52:59Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/246#issuecomment-1352067171","viewerDidAuthor":false}],"createdAt":"2022-09-23T10:36:16Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTc0","name":"Bug","description":"Something isn't working","color":"d73a4a"}],"milestone":null,"number":246,"reactionGroups":[],"state":"CLOSED","title":"Serialization don't support nullable array type","updatedAt":"2022-12-14T19:52:59Z","url":"https://github.com/temporalio/sdk-php/issues/246"}
