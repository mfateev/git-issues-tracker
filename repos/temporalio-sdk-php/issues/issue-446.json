{"assignees":[],"author":{"id":"U_kgDOCeuzXQ","is_bot":false,"login":"drewhoskins-temporal","name":"Drew Hoskins"},"body":"We can recommend the await-all-handlers or drop-all-handlers methods. TBD whether error or warning.\r\n","closedAt":"2024-09-03T11:57:21Z","comments":[{"id":"IC_kwDOEY5HBM6C8FGW","author":{"login":"dandavison"},"authorAssociation":"MEMBER","body":"I've merged the first PR, for Python: https://github.com/temporalio/sdk-python/pull/556\r\n\r\nThe basic spec that that PR's proposing for other SDKs is\r\n\r\n- Workflow code can wait on a method named similarly to `workflow.all_handlers_finished()`\r\n\r\n- By default, the worker will emit `workflow.UnfinishedUpdateHandlersWarning` and `workflow.UnfinishedSignalHandlersWarning` if any handlers of those types are unfinished when the workflow completes (cancellation, failure, success). See PR for wording of message.\r\n\r\n- These warnings are controlled by a policy whose default value is `workflow.HandlerUnfinishedPolicy.WARN_AND_ABANDON`\r\n\r\n- Users can silence the warning on a per-handler basis by setting unfinished_policy to `workflow.HandlerUnfinishedPolicy.ABANDON`\r\n\r\n- Tests should verify the above for worker-side workflow exit via cancellation, failure, and success","createdAt":"2024-06-28T12:20:57Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/446#issuecomment-2196787606","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM6Gfzby","author":{"login":"dandavison"},"authorAssociation":"MEMBER","body":"Please add the [TMPRL1102](https://github.com/temporalio/rules/blob/main/rules/TMPRL1102.md) rule identifier to the warning message.","createdAt":"2024-07-29T17:18:36Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/446#issuecomment-2256484082","viewerDidAuthor":false}],"createdAt":"2024-06-04T04:21:58Z","labels":[],"milestone":{"number":17,"title":"2.11.0","description":"Provide maximum functionality around Workflow Update.","dueOn":null},"number":446,"reactionGroups":[],"state":"CLOSED","title":"Warn or error when update handlers dangle across CAN or workflow exit","updatedAt":"2024-09-03T11:57:21Z","url":"https://github.com/temporalio/sdk-php/issues/446"}
