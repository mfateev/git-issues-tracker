{"assignees":[{"id":"MDQ6VXNlcjQxNTI0ODE=","login":"roxblnfk","name":"Aleksei Gagarin","databaseId":0}],"author":{"id":"MDQ6VXNlcjMyMTc5NA==","is_bot":false,"login":"quipo","name":"Lorenzo Alberton"},"body":"### No duplicates ü•≤.\n\n- [x] I have searched for a similar issue in our bug tracker and didn't find any solutions.\n\n### What happened?\n\nWhen using `$resultsFromAll = yield Workflow::all($pipelinePromises);` I get the following stack trace:\n\n\n```\nCall to undefined method Temporal\\Internal\\Workflow\\ScopeContext::all() (type: Error, retryable: true)\n\nStackTrace: process event for my-queue [panic]:\ngithub.com/temporalio/roadrunner-temporal/v5/aggregatedpool.(*Workflow).OnWorkflowTaskStarted(0xc00099e460, 0x33?)\n\tgithub.com/temporalio/roadrunner-temporal/v5@v5.7.0/aggregatedpool/workflow.go:330 +0x325\ngo.temporal.io/sdk/internal.(*workflowExecutionEventHandlerImpl).ProcessEvent(0xc000da9560, 0xc001f3d5f0, 0x60?, 0x1)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_event_handlers.go:1226 +0x30a\ngo.temporal.io/sdk/internal.(*workflowExecutionContextImpl).ProcessWorkflowTask(0xc0005e8dc0, 0xc001f64150)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_handlers.go:1194 +0x1a8a\ngo.temporal.io/sdk/internal.(*workflowTaskHandlerImpl).ProcessWorkflowTask(0xc00076a200, 0xc001f64150, 0xc0005e8dc0, 0xc0023b2420)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_handlers.go:941 +0x59e\ngo.temporal.io/sdk/internal.(*workflowTaskPoller).processWorkflowTask(0xc00054a140, 0xc001f64150)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_pollers.go:424 +0x3db\ngo.temporal.io/sdk/internal.(*workflowTaskPoller).ProcessTask(0xc00054a140, {0x584fea0, 0xc001f64150})\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_pollers.go:372 +0x205\ngo.temporal.io/sdk/internal.(*baseWorker).processTaskAsync.func1()\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_worker_base.go:456 +0x12f\ncreated by go.temporal.io/sdk/internal.(*baseWorker).processTaskAsync in goroutine 282\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_worker_base.go:435 +0x8c\"}\n```\n\n### Version\n\nlatest\n\n### Relevant log output\n\n```shell\nCall to undefined method Temporal\\Internal\\Workflow\\ScopeContext::all() (type: Error, retryable: true)\n\nStackTrace: process event for my-queue [panic]:\ngithub.com/temporalio/roadrunner-temporal/v5/aggregatedpool.(*Workflow).OnWorkflowTaskStarted(0xc00099e460, 0x33?)\n\tgithub.com/temporalio/roadrunner-temporal/v5@v5.7.0/aggregatedpool/workflow.go:330 +0x325\ngo.temporal.io/sdk/internal.(*workflowExecutionEventHandlerImpl).ProcessEvent(0xc000da9560, 0xc001f3d5f0, 0x60?, 0x1)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_event_handlers.go:1226 +0x30a\ngo.temporal.io/sdk/internal.(*workflowExecutionContextImpl).ProcessWorkflowTask(0xc0005e8dc0, 0xc001f64150)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_handlers.go:1194 +0x1a8a\ngo.temporal.io/sdk/internal.(*workflowTaskHandlerImpl).ProcessWorkflowTask(0xc00076a200, 0xc001f64150, 0xc0005e8dc0, 0xc0023b2420)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_handlers.go:941 +0x59e\ngo.temporal.io/sdk/internal.(*workflowTaskPoller).processWorkflowTask(0xc00054a140, 0xc001f64150)\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_pollers.go:424 +0x3db\ngo.temporal.io/sdk/internal.(*workflowTaskPoller).ProcessTask(0xc00054a140, {0x584fea0, 0xc001f64150})\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_task_pollers.go:372 +0x205\ngo.temporal.io/sdk/internal.(*baseWorker).processTaskAsync.func1()\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_worker_base.go:456 +0x12f\ncreated by go.temporal.io/sdk/internal.(*baseWorker).processTaskAsync in goroutine 282\n\tgo.temporal.io/sdk@v1.34.0/internal/internal_worker_base.go:435 +0x8c\"}\n```","closedAt":"2025-07-29T15:41:04Z","comments":[{"id":"IC_kwDOEY5HBM66n_PR","author":{"login":"rustatian"},"authorAssociation":"COLLABORATOR","body":"@quipo Hey üëãüèª \nTransferred to the correct repo.\nCC: @roxblnfk ","createdAt":"2025-07-29T07:23:33Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[{"content":"THUMBS_UP","users":{"totalCount":2}}],"url":"https://github.com/temporalio/sdk-php/issues/641#issuecomment-3131044817","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM66qV60","author":{"login":"quipo"},"authorAssociation":"NONE","body":"in the meantime, is there an alternative to `yield Workflow::all($promises)` to achieve the same goal, i.e. wait for all promises to return?","createdAt":"2025-07-29T09:57:49Z","includesCreatedEdit":false,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/641#issuecomment-3131662004","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM66qq89","author":{"login":"roxblnfk"},"authorAssociation":"COLLABORATOR","body":"Could you say why you are calling `Workflow::all()`? Where did you see such an example?\n\nYou probably meant to call [`Promise::all()`](https://php.temporal.io/classes/Temporal-Promise.html#method_all).","createdAt":"2025-07-29T10:16:12Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/641#issuecomment-3131748157","viewerDidAuthor":false},{"id":"IC_kwDOEY5HBM66vwWe","author":{"login":"quipo"},"authorAssociation":"NONE","body":"I think I originally got it from claude.ai or Gemini. Promise::all() is indeed what I was after. Thanks!","createdAt":"2025-07-29T15:41:04Z","includesCreatedEdit":true,"isMinimized":false,"minimizedReason":"","reactionGroups":[],"url":"https://github.com/temporalio/sdk-php/issues/641#issuecomment-3133080990","viewerDidAuthor":false}],"createdAt":"2025-07-29T05:48:15Z","labels":[{"id":"MDU6TGFiZWwyMzM5NDMzMTkx","name":"Question","description":"Further information is requested","color":"0173a0"}],"milestone":null,"number":641,"reactionGroups":[],"state":"CLOSED","title":"[üêõ BUG]: undefined method ScopeContext::all()","updatedAt":"2025-07-29T15:41:34Z","url":"https://github.com/temporalio/sdk-php/issues/641"}
